window.undefined=window.undefined;Ext={version:"3.3.1",versionDetail:{major:3,minor:3,patch:1}};Ext.apply=function(i,h,c){if(c){Ext.apply(i,c)}if(i&&h&&typeof h=="object"){for(var g in h){i[g]=h[g]}}return i};(function(){var Z=0,I=Object.prototype.toString,H=navigator.userAgent.toLowerCase(),R=function(a){return a.test(H)},X=document,S=X.documentMode,U=X.compatMode=="CSS1Compat",M=R(/opera/),Y=R(/\bchrome\b/),G=R(/webkit/),e=!Y&&R(/safari/),aa=e&&R(/applewebkit\/4/),ad=e&&R(/version\/3/),L=e&&R(/version\/4/),J=!M&&R(/msie/),N=J&&(R(/msie 7/)||S==7),P=J&&(R(/msie 8/)&&S!=7),K=J&&!N&&!P,Q=!G&&R(/gecko/),ab=Q&&R(/rv:1\.8/),ae=Q&&R(/rv:1\.9/),F=J&&!U,O=R(/windows|win32/),V=R(/macintosh|mac os x/),W=R(/adobeair/),T=R(/linux/),ac=/^https/i.test(window.location.protocol);if(K){try{X.execCommand("BackgroundImageCache",false,true)}catch(E){}}Ext.apply(Ext,{SSL_SECURE_URL:ac&&J?'javascript:""':"about:blank",isStrict:U,isSecure:ac,isReady:false,enableForcedBoxModel:false,enableGarbageCollector:true,enableListenerCollection:false,enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,applyIf:function(b,a){if(b){for(var c in a){if(!Ext.isDefined(b[c])){b[c]=a[c]}}}return b},id:function(b,a){b=Ext.getDom(b,true)||{};if(!b.id){b.id=(a||"ext-gen")+(++Z)}return b.id},extend:function(){var a=function(c){for(var d in c){this[d]=c[d]}};var b=Object.prototype.constructor;return function(c,h,d){if(typeof h=="object"){d=h;h=c;c=d.constructor!=b?d.constructor:function(){h.apply(this,arguments)}}var i=function(){},g,j=h.prototype;i.prototype=j;g=c.prototype=new i();g.constructor=c;c.superclass=j;if(j.constructor==b){j.constructor=h}c.override=function(k){Ext.override(c,k)};g.superclass=g.supr=(function(){return j});g.override=a;Ext.override(c,d);c.extend=function(k){return Ext.extend(c,k)};return c}}(),override:function(c,a){if(a){var b=c.prototype;Ext.apply(b,a);if(Ext.isIE&&a.hasOwnProperty("toString")){b.toString=a.toString}}},namespace:function(){var a,b;Ext.each(arguments,function(c){b=c.split(".");a=window[b[0]]=window[b[0]]||{};Ext.each(b.slice(1),function(d){a=a[d]=a[d]||{}})});return a},urlEncode:function(a,b){var d,g=[],c=encodeURIComponent;Ext.iterate(a,function(i,h){d=Ext.isEmpty(h);Ext.each(d?i:h,function(j){g.push("&",c(i),"=",(!Ext.isEmpty(j)&&(j!=i||!d))?(Ext.isDate(j)?Ext.encode(j).replace(/"/g,""):c(j)):"")})});if(!b){g.shift();b=""}return b+g.join("")},urlDecode:function(g,h){if(Ext.isEmpty(g)){return{}}var b={},c=g.split("&"),a=decodeURIComponent,i,d;Ext.each(c,function(j){j=j.split("=");i=a(j[0]);d=a(j[1]);b[i]=h||!b[i]?d:[].concat(b[i]).concat(d)});return b},urlAppend:function(b,a){if(!Ext.isEmpty(a)){return b+(b.indexOf("?")===-1?"?":"&")+a}return b},toArray:function(){return J?function(d,a,c,b){b=[];for(var g=0,h=d.length;g<h;g++){b.push(d[g])}return b.slice(a||0,c||b.length)}:function(c,a,b){return Array.prototype.slice.call(c,a||0,b||c.length)}}(),isIterable:function(a){if(Ext.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(I.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length))},each:function(a,b,c){if(Ext.isEmpty(a,true)){return}if(!Ext.isIterable(a)||Ext.isPrimitive(a)){a=[a]}for(var d=0,g=a.length;d<g;d++){if(b.call(c||a[d],a[d],d,a)===false){return d}}},iterate:function(b,c,d){if(Ext.isEmpty(b)){return}if(Ext.isIterable(b)){Ext.each(b,c,d);return}else{if(typeof b=="object"){for(var a in b){if(b.hasOwnProperty(a)){if(c.call(d||b,a,b[a],b)===false){return}}}}}},getDom:function(b,c){if(!b||!X){return null}if(b.dom){return b.dom}else{if(typeof b=="string"){var a=X.getElementById(b);if(a&&J&&c){if(b==a.getAttribute("id")){return a}else{return null}}return a}else{return b}}},getBody:function(){return Ext.get(X.body||X.documentElement)},getHead:function(){var a;return function(){if(a==undefined){a=Ext.get(X.getElementsByTagName("head")[0])}return a}}(),removeNode:J&&!P?function(){var a;return function(b){if(b&&b.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(b,true):Ext.EventManager.removeAll(b);a=a||X.createElement("div");a.appendChild(b);a.innerHTML="";delete Ext.elCache[b.id]}}}():function(a){if(a&&a.parentNode&&a.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(a,true):Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.elCache[a.id]}},isEmpty:function(a,b){return a===null||a===undefined||((Ext.isArray(a)&&!a.length))||(!b?a==="":false)},isArray:function(a){return I.apply(a)==="[object Array]"},isDate:function(a){return I.apply(a)==="[object Date]"},isObject:function(a){return !!a&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return I.apply(a)==="[object Function]"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?!!a.tagName:false},isDefined:function(a){return typeof a!=="undefined"},isOpera:M,isWebKit:G,isChrome:Y,isSafari:e,isSafari3:ad,isSafari4:L,isSafari2:aa,isIE:J,isIE6:K,isIE7:N,isIE8:P,isGecko:Q,isGecko2:ab,isGecko3:ae,isBorderBox:F,isLinux:T,isWindows:O,isMac:V,isAir:W});Ext.ns=Ext.namespace})();Ext.ns("Ext.util","Ext.lib","Ext.data","Ext.supports");Ext.elCache={};Ext.apply(Function.prototype,{createInterceptor:function(d,e){var g=this;return !Ext.isFunction(d)?this:function(){var a=this,b=arguments;d.target=a;d.method=g;return(d.apply(e||a||window,b)!==false)?g.apply(a||window,b):null}},createCallback:function(){var d=arguments,c=this;return function(){return c.apply(window,d)}},createDelegate:function(i,e,g){var h=this;return function(){var a=e||arguments;if(g===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e)}else{if(Ext.isNumber(g)){a=Array.prototype.slice.call(arguments,0);var b=[g,0].concat(e);Array.prototype.splice.apply(a,b)}}return h.apply(i||window,a)}},defer:function(k,i,g,h){var j=this.createDelegate(i,g,h);if(k>0){return setTimeout(j,k)}j();return 0}});Ext.applyIf(String,{format:function(c){var d=Ext.toArray(arguments,1);return c.replace(/\{(\d+)\}/g,function(b,a){return d[a]})}});Ext.applyIf(Array.prototype,{indexOf:function(d,g){var e=this.length;g=g||0;g+=(g<0)?e:0;for(;g<e;++g){if(this[g]===d){return g}}return -1},remove:function(c){var d=this.indexOf(c);if(d!=-1){this.splice(d,1)}return this}});Ext.util.TaskRunner=function(o){o=o||10;var n=[],s=[],r=0,m=false,p=function(){m=false;clearInterval(r);r=0},l=function(){if(!m){m=true;r=setInterval(k,o)}},q=function(a){s.push(a);if(a.onStop){a.onStop.apply(a.scope||a)}},k=function(){var a=s.length,g=new Date().getTime();if(a>0){for(var d=0;d<a;d++){n.remove(s[d])}s=[];if(n.length<1){p();return}}for(var d=0,e,b,h,c=n.length;d<c;++d){e=n[d];b=g-e.taskRunTime;if(e.interval<=b){h=e.run.apply(e.scope||e,e.args||[++e.taskRunCount]);e.taskRunTime=g;if(h===false||e.taskRunCount===e.repeat){q(e);return}}if(e.duration&&e.duration<=(g-e.taskStartTime)){q(e)}}};this.start=function(a){n.push(a);a.taskStartTime=new Date().getTime();a.taskRunTime=0;a.taskRunCount=0;l();return a};this.stop=function(a){q(a);return a};this.stopAll=function(){p();for(var a=0,b=n.length;a<b;a++){if(n[a].onStop){n[a].onStop()}}n=[];s=[]}};Ext.TaskMgr=new Ext.util.TaskRunner();(function(){var d;function g(a){if(!d){d=new Ext.Element.Flyweight()}d.dom=a;return d}(function(){var b=document,j=b.compatMode=="CSS1Compat",c=Math.max,k=Math.round,a=parseInt;Ext.lib.Dom={isAncestor:function(i,h){var m=false;i=Ext.getDom(i);h=Ext.getDom(h);if(i&&h){if(i.contains){return i.contains(h)}else{if(i.compareDocumentPosition){return !!(i.compareDocumentPosition(h)&16)}else{while(h=h.parentNode){m=h==i||m}}}}return m},getViewWidth:function(h){return h?this.getDocumentWidth():this.getViewportWidth()},getViewHeight:function(h){return h?this.getDocumentHeight():this.getViewportHeight()},getDocumentHeight:function(){return c(!j?b.body.scrollHeight:b.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return c(!j?b.body.scrollWidth:b.documentElement.scrollWidth,this.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?b.documentElement.clientHeight:b.body.clientHeight):self.innerHeight},getViewportWidth:function(){return !Ext.isStrict&&!Ext.isOpera?b.body.clientWidth:Ext.isIE?b.documentElement.clientWidth:self.innerWidth},getY:function(h){return this.getXY(h)[1]},getX:function(h){return this.getXY(h)[0]},getXY:function(z){var A,h,F,C,y,x,D=0,G=0,E,B,p=(b.body||b.documentElement),i=[0,0];z=Ext.getDom(z);if(z!=p){if(z.getBoundingClientRect){F=z.getBoundingClientRect();E=g(document).getScroll();i=[k(F.left+E.left),k(F.top+E.top)]}else{A=z;B=g(z).isStyle("position","absolute");while(A){h=g(A);D+=A.offsetLeft;G+=A.offsetTop;B=B||h.isStyle("position","absolute");if(Ext.isGecko){G+=C=a(h.getStyle("borderTopWidth"),10)||0;D+=y=a(h.getStyle("borderLeftWidth"),10)||0;if(A!=z&&!h.isStyle("overflow","visible")){D+=y;G+=C}}A=A.offsetParent}if(Ext.isSafari&&B){D-=p.offsetLeft;G-=p.offsetTop}if(Ext.isGecko&&!B){x=g(p);D+=a(x.getStyle("borderLeftWidth"),10)||0;G+=a(x.getStyle("borderTopWidth"),10)||0}A=z.parentNode;while(A&&A!=p){if(!Ext.isOpera||(A.tagName!="TR"&&!g(A).isStyle("display","inline"))){D-=A.scrollLeft;G-=A.scrollTop}A=A.parentNode}i=[D,G]}}return i},setXY:function(o,i){(o=Ext.fly(o,"_setXY")).position();var h=o.translatePoints(i),p=o.dom.style,q;for(q in h){if(!isNaN(h[q])){p[q]=h[q]+"px"}}},setX:function(h,i){this.setXY(h,[i,false])},setY:function(i,h){this.setXY(i,[false,h])}}})();Ext.lib.Event=function(){var G=false,ac={},S=0,T=[],ae,Q=false,X=window,I=document,W=200,N=20,R=0,Z=1,L=2,c=3,J="scrollLeft",P="scrollTop",ab="unload",a="mouseover",K="mouseout",ad=function(){var h;if(X.addEventListener){h=function(i,k,j,l){if(k=="mouseenter"){j=j.createInterceptor(U);i.addEventListener(a,j,(l))}else{if(k=="mouseleave"){j=j.createInterceptor(U);i.addEventListener(K,j,(l))}else{i.addEventListener(k,j,(l))}}return j}}else{if(X.attachEvent){h=function(i,k,j,l){i.attachEvent("on"+k,j);return j}}else{h=function(){}}}return h}(),aa=function(){var h;if(X.removeEventListener){h=function(i,k,j,l){if(k=="mouseenter"){k=a}else{if(k=="mouseleave"){k=K}}i.removeEventListener(k,j,(l))}}else{if(X.detachEvent){h=function(i,k,j){i.detachEvent("on"+k,j)}}else{h=function(){}}}return h}();function U(h){return !H(h.currentTarget,b.getRelatedTarget(h))}function H(i,h){if(i&&i.firstChild){while(h){if(h===i){return true}h=h.parentNode;if(h&&(h.nodeType!=1)){h=null}}}return false}function O(){var l=false,n=[],i,j,m,k,h=!G||(S>0);if(!Q){Q=true;for(j=0;j<T.length;++j){m=T[j];if(m&&(i=I.getElementById(m.id))){if(!m.checkReady||G||i.nextSibling||(I&&I.body)){k=m.override;i=k?(k===true?m.obj:k):i;m.fn.call(i,m.obj);T.remove(m);--j}else{n.push(m)}}}S=(n.length===0)?0:S-1;if(h){V()}else{clearInterval(ae);ae=null}l=!(Q=false)}return l}function V(){if(!ae){var h=function(){O()};ae=setInterval(h,N)}}function M(){var i=I.documentElement,h=I.body;if(i&&(i[P]||i[J])){return[i[J],i[P]]}else{if(h){return[h[J],h[P]]}else{return[0,0]}}}function Y(j,i){j=j.browserEvent||j;var h=j["page"+i];if(!h&&h!==0){h=j["client"+i]||0;if(Ext.isIE){h+=M()[i=="X"?0:1]}}return h}var b={extAdapter:true,onAvailable:function(i,k,h,j){T.push({id:i,fn:k,obj:h,override:j,checkReady:false});S=W;V()},addListener:function(h,j,i){h=Ext.getDom(h);if(h&&i){if(j==ab){if(ac[h.id]===undefined){ac[h.id]=[]}ac[h.id].push([j,i]);return i}return ad(h,j,i,false)}return false},removeListener:function(n,k,h){n=Ext.getDom(n);var i,l,m,j;if(n&&h){if(k==ab){if((j=ac[n.id])!==undefined){for(i=0,l=j.length;i<l;i++){if((m=j[i])&&m[R]==k&&m[Z]==h){ac[n.id].splice(i,1)}}}return}aa(n,k,h,false)}},getTarget:function(h){h=h.browserEvent||h;return this.resolveTextNode(h.target||h.srcElement)},resolveTextNode:Ext.isGecko?function(h){if(!h){return}var i=HTMLElement.prototype.toString.call(h);if(i=="[xpconnect wrapped native prototype]"||i=="[object XULElement]"){return}return h.nodeType==3?h.parentNode:h}:function(h){return h&&h.nodeType==3?h.parentNode:h},getRelatedTarget:function(h){h=h.browserEvent||h;return this.resolveTextNode(h.relatedTarget||(/(mouseout|mouseleave)/.test(h.type)?h.toElement:/(mouseover|mouseenter)/.test(h.type)?h.fromElement:null))},getPageX:function(h){return Y(h,"X")},getPageY:function(h){return Y(h,"Y")},getXY:function(h){return[this.getPageX(h),this.getPageY(h)]},stopEvent:function(h){this.stopPropagation(h);this.preventDefault(h)},stopPropagation:function(h){h=h.browserEvent||h;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}},preventDefault:function(h){h=h.browserEvent||h;if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}},getEvent:function(i){i=i||X.event;if(!i){var h=this.getEvent.caller;while(h){i=h.arguments[0];if(i&&Event==i.constructor){break}h=h.caller}}return i},getCharCode:function(h){h=h.browserEvent||h;return h.charCode||h.keyCode||0},getListeners:function(h,i){Ext.EventManager.getListeners(h,i)},purgeElement:function(i,h,j){Ext.EventManager.purgeElement(i,h,j)},_load:function(h){G=true;if(Ext.isIE&&h!==true){aa(X,"load",arguments.callee)}},_unload:function(l){var o=Ext.lib.Event,n,i,k,p,m,h;for(p in ac){k=ac[p];for(n=0,m=k.length;n<m;n++){i=k[n];if(i){try{h=i[c]?(i[c]===true?i[L]:i[c]):X;i[Z].call(h,o.getEvent(l),i[L])}catch(j){}}}}Ext.EventManager._unload();aa(X,ab,o._unload)}};b.on=b.addListener;b.un=b.removeListener;if(I&&I.body){b._load(true)}else{ad(X,"load",b._load)}ad(X,ab,b._unload);O();return b}();Ext.lib.Ajax=function(){var A=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP"],D="Content-Type";function z(i){var k=i.conn,h,j={};function l(n,m){for(h in m){if(m.hasOwnProperty(h)){n.setRequestHeader(h,m[h])}}}Ext.apply(j,w.headers,w.defaultHeaders);l(k,j);delete w.headers}function C(h,i,j,k){return{tId:h,status:j?-1:0,statusText:j?"transaction aborted":"communication failure",isAbort:j,isTimeout:k,argument:i}}function x(i,h){(w.headers=w.headers||{})[i]=h}function b(p,l){var h={},m,n=p.conn,j,i,o=n.status==1223;try{m=p.conn.getAllResponseHeaders();Ext.each(m.replace(/\r\n/g,"\n").split("\n"),function(q){j=q.indexOf(":");if(j>=0){i=q.substr(0,j).toLowerCase();if(q.charAt(j+1)==" "){++j}h[i]=q.substr(j+1)}})}catch(k){}return{tId:p.tId,status:o?204:n.status,statusText:o?"No Content":n.statusText,getResponseHeader:function(q){return h[q.toLowerCase()]},getAllResponseHeaders:function(){return m},responseText:n.responseText,responseXML:n.responseXML,argument:l}}function c(h){if(h.tId){w.conn[h.tId]=null}h.conn=null;h=null}function B(n,m,k,l){if(!m){c(n);return}var i,j;try{if(n.conn.status!==undefined&&n.conn.status!=0){i=n.conn.status}else{i=13030}}catch(h){i=13030}if((i>=200&&i<300)||(Ext.isIE&&i==1223)){j=b(n,m.argument);if(m.success){if(!m.scope){m.success(j)}else{m.success.apply(m.scope,[j])}}}else{switch(i){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:j=C(n.tId,m.argument,(k?k:false),l);if(m.failure){if(!m.scope){m.failure(j)}else{m.failure.apply(m.scope,[j])}}break;default:j=b(n,m.argument);if(m.failure){if(!m.scope){m.failure(j)}else{m.failure.apply(m.scope,[j])}}}}c(n);j=null}function u(j,m,l,h,k,i){if(l&&l.readyState==4){clearInterval(k[h]);k[h]=null;if(i){clearTimeout(w.timeout[h]);w.timeout[h]=null}B(j,m)}}function E(i,h){w.abort(i,h,true)}function t(j,m){m=m||{};var l=j.conn,h=j.tId,k=w.poll,i=m.timeout||null;if(i){w.conn[h]=l;w.timeout[h]=setTimeout(E.createCallback(j,m),i)}k[h]=setInterval(u.createCallback(j,m,l,h,k,i),w.pollInterval)}function y(h,k,i,l){var j=v()||null;if(j){j.conn.open(h,k,true);if(w.useDefaultXhrHeader){x("X-Requested-With",w.defaultXhrHeader)}if(l&&w.useDefaultHeader&&(!w.headers||!w.headers[D])){x(D,w.defaultPostHeader)}if(w.defaultHeaders||w.headers){z(j)}t(j,i);j.conn.send(l||null)}return j}function v(){var h;try{if(h=a(w.transactionId)){w.transactionId++}}catch(i){}finally{return h}}function a(h){var k;try{k=new XMLHttpRequest()}catch(i){for(var j=0;j<A.length;++j){try{k=new ActiveXObject(A[j]);break}catch(i){}}}finally{return{conn:k,tId:h}}}var w={request:function(p,n,m,l,h){if(h){var k=this,o=h.xmlData,j=h.jsonData,i;Ext.applyIf(k,h);if(o||j){i=k.headers;if(!i||!i[D]){x(D,o?"text/xml":"application/json")}l=o||(!Ext.isPrimitive(j)?Ext.encode(j):j)}}return y(p||h.method||"POST",n,m,l)},serializeForm:function(n){var o=n.elements||(document.forms[n]||Ext.getDom(n)).elements,m=false,i=encodeURIComponent,l,h="",j,k;Ext.each(o,function(p){l=p.name;j=p.type;if(!p.disabled&&l){if(/select-(one|multiple)/i.test(j)){Ext.each(p.options,function(q){if(q.selected){k=q.hasAttribute?q.hasAttribute("value"):q.getAttributeNode("value").specified;h+=String.format("{0}={1}&",i(l),i(k?q.value:q.text))}})}else{if(!(/file|undefined|reset|button/i.test(j))){if(!(/radio|checkbox/i.test(j)&&!p.checked)&&!(j=="submit"&&m)){h+=i(l)+"="+i(p.value)+"&";m=/submit/i.test(j)}}}}});return h.substr(0,h.length-1)},useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",poll:{},timeout:{},conn:{},pollInterval:50,transactionId:0,abort:function(i,m,l){var j=this,h=i.tId,k=false;if(j.isCallInProgress(i)){i.conn.abort();clearInterval(j.poll[h]);j.poll[h]=null;clearTimeout(w.timeout[h]);j.timeout[h]=null;B(i,m,(k=true),l)}return k},isCallInProgress:function(h){return h.conn&&!{0:true,4:true}[h.conn.readyState]}};return w}();(function(){var l=Ext.lib,b=/width|height|opacity|padding/i,m=/^((width|height)|(top|left))$/,o=/width|height|top$|bottom$|left$|right$/i,c=/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i,a=function(h){return typeof h!=="undefined"},n=function(){return new Date()};l.Anim={motion:function(r,h,k,j,i,s){return this.run(r,h,k,j,i,s,Ext.lib.Motion)},run:function(u,h,k,j,i,v,w){w=w||Ext.lib.AnimBase;if(typeof j=="string"){j=Ext.lib.Easing[j]}var t=new w(u,h,k,j);t.animateX(function(){if(Ext.isFunction(i)){i.call(v)}});return t}};l.AnimBase=function(h,i,k,j){if(h){this.init(h,i,k,j)}};l.AnimBase.prototype={doMethod:function(i,j,h){var k=this;return k.method(k.curFrame,j,h-j,k.totalFrames)},setAttr:function(i,j,h){if(b.test(i)&&j<0){j=0}Ext.fly(this.el,"_anim").setStyle(i,j+h)},getAttr:function(i){var k=Ext.fly(this.el),j=k.getStyle(i),h=m.exec(i)||[];if(j!=="auto"&&!c.test(j)){return parseFloat(j)}return(!!(h[2])||(k.getStyle("position")=="absolute"&&!!(h[3])))?k.dom["offset"+h[0].charAt(0).toUpperCase()+h[0].substr(1)]:0},getDefaultUnit:function(h){return o.test(h)?"px":""},animateX:function(j,i){var h=this,k=function(){h.onComplete.removeListener(k);if(Ext.isFunction(j)){j.call(i||h,h)}};h.onComplete.addListener(k,h);h.animate()},setRunAttr:function(i){var E=this,D=this.attributes[i],C=D.to,h=D.by,B=D.from,A=D.unit,y=(this.runAttrs[i]={}),x;if(!a(C)&&!a(h)){return false}var z=a(B)?B:E.getAttr(i);if(a(C)){x=C}else{if(a(h)){if(Ext.isArray(z)){x=[];for(var k=0,j=z.length;k<j;k++){x[k]=z[k]+h[k]}}else{x=z+h}}}Ext.apply(y,{start:z,end:x,unit:a(A)?A:E.getDefaultUnit(i)})},init:function(w,i,j,x){var A=this,k=0,z=l.AnimMgr;Ext.apply(A,{isAnimated:false,startTime:null,el:Ext.getDom(w),attributes:i||{},duration:j||1,method:x||l.Easing.easeNone,useSec:true,curFrame:0,totalFrames:z.fps,runAttrs:{},animate:function(){var q=this,p=q.duration;if(q.isAnimated){return false}q.curFrame=0;q.totalFrames=q.useSec?Math.ceil(z.fps*p):p;z.registerElement(q)},stop:function(q){var p=this;if(q){p.curFrame=p.totalFrames;p._onTween.fire()}z.stop(p)}});var y=function(){var p=this,q;p.onStart.fire();p.runAttrs={};for(q in this.attributes){this.setRunAttr(q)}p.isAnimated=true;p.startTime=n();k=0};var h=function(){var q=this;q.onTween.fire({duration:n()-q.startTime,curFrame:q.curFrame});var p=q.runAttrs;for(var r in p){this.setAttr(r,q.doMethod(r,p[r].start,p[r].end),p[r].unit)}++k};var v=function(){var r=this,p=(n()-r.startTime)/1000,q={duration:p,frames:k,fps:k/p};r.isAnimated=false;k=0;r.onComplete.fire(q)};A.onStart=new Ext.util.Event(A);A.onTween=new Ext.util.Event(A);A.onComplete=new Ext.util.Event(A);(A._onStart=new Ext.util.Event(A)).addListener(y);(A._onTween=new Ext.util.Event(A)).addListener(h);(A._onComplete=new Ext.util.Event(A)).addListener(v)}};Ext.lib.AnimMgr=new function(){var k=this,s=null,h=[],i=0;Ext.apply(k,{fps:1000,delay:1,registerElement:function(p){h.push(p);++i;p._onStart.fire();k.start()},unRegister:function(p,q){p._onComplete.fire();q=q||j(p);if(q!=-1){h.splice(q,1)}if(--i<=0){k.stop()}},start:function(){if(s===null){s=setInterval(k.run,k.delay)}},stop:function(p){if(!p){clearInterval(s);for(var q=0,u=h.length;q<u;++q){if(h[0].isAnimated){k.unRegister(h[0],0)}}h=[];s=null;i=0}else{k.unRegister(p)}},run:function(){var p,q,w,v;for(q=0,w=h.length;q<w;q++){v=h[q];if(v&&v.isAnimated){p=v.totalFrames;if(v.curFrame<p||p===null){++v.curFrame;if(v.useSec){r(v)}v._onTween.fire()}else{k.stop(v)}}}}});var j=function(p){var q,u;for(q=0,u=h.length;q<u;q++){if(h[q]===p){return q}}return -1};var r=function(B){var q=B.totalFrames,y=B.curFrame,z=B.duration,A=(y*z*1000/q),C=(n()-B.startTime),p=0;if(C<z*1000){p=Math.round((C/A-1)*y)}else{p=q-(y+1)}if(p>0&&isFinite(p)){if(B.curFrame+p>=q){p=q-(y+1)}B.curFrame+=p}}};l.Bezier=new function(){this.getPosition=function(t,u){var j=t.length,v=[],k=1-u,h,i;for(h=0;h<j;++h){v[h]=[t[h][0],t[h][1]]}for(i=1;i<j;++i){for(h=0;h<j-i;++h){v[h][0]=k*v[h][0]+u*v[parseInt(h+1,10)][0];v[h][1]=k*v[h][1]+u*v[parseInt(h+1,10)][1]}}return[v[0][0],v[0][1]]}};l.Easing={easeNone:function(h,i,j,k){return j*h/k+i},easeIn:function(h,i,j,k){return j*(h/=k)*h+i},easeOut:function(h,i,j,k){return -j*(h/=k)*(h-2)+i}};(function(){l.Motion=function(t,u,s,k){if(t){l.Motion.superclass.constructor.call(this,t,u,s,k)}};Ext.extend(l.Motion,Ext.lib.AnimBase);var j=l.Motion.superclass,h=/^points$/i;Ext.apply(l.Motion.prototype,{setAttr:function(w,k,t){var u=this,v=j.setAttr;if(h.test(w)){t=t||"px";v.call(u,"left",k[0],t);v.call(u,"top",k[1],t)}else{v.call(u,w,k,t)}},getAttr:function(s){var k=this,r=j.getAttr;return h.test(s)?[r.call(k,"left"),r.call(k,"top")]:r.call(k,s)},doMethod:function(u,k,t){var s=this;return h.test(u)?l.Bezier.getPosition(s.runAttrs[u],s.method(s.curFrame,0,100,s.totalFrames)/100):j.doMethod.call(s,u,k,t)},setRunAttr:function(L){if(h.test(L)){var J=this,C=this.el,G=this.attributes.points,N=G.control||[],I=G.from,H=G.to,K=G.by,E=l.Dom,D,O,k,M,F;if(N.length>0&&!Ext.isArray(N[0])){N=[N]}else{}Ext.fly(C,"_anim").position();E.setXY(C,a(I)?I:E.getXY(C));D=J.getAttr("points");if(a(H)){k=i.call(J,H,D);for(O=0,M=N.length;O<M;++O){N[O]=i.call(J,N[O],D)}}else{if(a(K)){k=[D[0]+K[0],D[1]+K[1]];for(O=0,M=N.length;O<M;++O){N[O]=[D[0]+N[O][0],D[1]+N[O][1]]}}}F=this.runAttrs[L]=[D];if(N.length>0){F=F.concat(N)}F[F.length]=k}else{j.setRunAttr.call(this,L)}}});var i=function(s,k){var r=l.Dom.getXY(this.el);return[s[0]-r[0]+k[0],s[1]-r[1]+k[1]]}})()})();(function(){var m=Math.abs,a=Math.PI,b=Math.asin,c=Math.pow,l=Math.sin,k=Ext.lib;Ext.apply(k.Easing,{easeBoth:function(i,j,o,h){return((i/=h/2)<1)?o/2*i*i+j:-o/2*((--i)*(i-2)-1)+j},easeInStrong:function(i,j,o,h){return o*(i/=h)*i*i*i+j},easeOutStrong:function(i,j,o,h){return -o*((i=i/h-1)*i*i*i-1)+j},easeBothStrong:function(i,j,o,h){return((i/=h/2)<1)?o/2*i*i*i*i+j:-o/2*((i-=2)*i*i*i-2)+j},elasticIn:function(h,j,p,s,i,t){if(h==0||(h/=s)==1){return h==0?j:j+p}t=t||(s*0.3);var u;if(i>=m(p)){u=t/(2*a)*b(p/i)}else{i=p;u=t/4}return -(i*c(2,10*(h-=1))*l((h*s-u)*(2*a)/t))+j},elasticOut:function(h,j,p,s,i,t){if(h==0||(h/=s)==1){return h==0?j:j+p}t=t||(s*0.3);var u;if(i>=m(p)){u=t/(2*a)*b(p/i)}else{i=p;u=t/4}return i*c(2,-10*h)*l((h*s-u)*(2*a)/t)+p+j},elasticBoth:function(h,j,p,s,i,t){if(h==0||(h/=s/2)==2){return h==0?j:j+p}t=t||(s*(0.3*1.5));var u;if(i>=m(p)){u=t/(2*a)*b(p/i)}else{i=p;u=t/4}return h<1?-0.5*(i*c(2,10*(h-=1))*l((h*s-u)*(2*a)/t))+j:i*c(2,-10*(h-=1))*l((h*s-u)*(2*a)/t)*0.5+p+j},backIn:function(i,j,p,q,h){h=h||1.70158;return p*(i/=q)*i*((h+1)*i-h)+j},backOut:function(i,j,p,q,h){if(!h){h=1.70158}return p*((i=i/q-1)*i*((h+1)*i+h)+1)+j},backBoth:function(i,j,p,q,h){h=h||1.70158;return((i/=q/2)<1)?p/2*(i*i*(((h*=(1.525))+1)*i-h))+j:p/2*((i-=2)*i*(((h*=(1.525))+1)*i+h)+2)+j},bounceIn:function(i,j,o,h){return o-k.Easing.bounceOut(h-i,0,o,h)+j},bounceOut:function(i,j,o,h){if((i/=h)<(1/2.75)){return o*(7.5625*i*i)+j}else{if(i<(2/2.75)){return o*(7.5625*(i-=(1.5/2.75))*i+0.75)+j}else{if(i<(2.5/2.75)){return o*(7.5625*(i-=(2.25/2.75))*i+0.9375)+j}}}return o*(7.5625*(i-=(2.625/2.75))*i+0.984375)+j},bounceBoth:function(i,j,o,h){return(i<h/2)?k.Easing.bounceIn(i*2,0,o,h)*0.5+j:k.Easing.bounceOut(i*2-h,0,o,h)*0.5+o*0.5+j}})})();(function(){var o=Ext.lib;o.Anim.color=function(j,l,i,h,m,k){return o.Anim.run(j,l,i,h,m,k,o.ColorAnim)};o.ColorAnim=function(j,k,i,h){o.ColorAnim.superclass.constructor.call(this,j,k,i,h)};Ext.extend(o.ColorAnim,o.AnimBase);var c=o.ColorAnim.superclass,n=/color$/i,q=/^transparent|rgba\(0, 0, 0, 0\)$/,a=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,s=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,r=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,p=function(h){return typeof h!=="undefined"};function b(k){var i=parseInt,j,l=null,h;if(k.length==3){return k}Ext.each([s,a,r],function(m,u){j=(u%2==0)?16:10;h=m.exec(k);if(h&&h.length==4){l=[i(h[1],j),i(h[2],j),i(h[3],j)];return false}});return l}Ext.apply(o.ColorAnim.prototype,{getAttr:function(k){var i=this,j=i.el,h;if(n.test(k)){while(j&&q.test(h=Ext.fly(j).getStyle(k))){j=j.parentNode;h="fff"}}else{h=c.getAttr.call(i,k)}return h},doMethod:function(x,l,j){var v=this,k,h=Math.floor,i,y,m;if(n.test(x)){k=[];j=j||[];for(i=0,y=l.length;i<y;i++){m=l[i];k[i]=c.doMethod.call(v,x,m,j[i])}k="rgb("+h(k[0])+","+h(k[1])+","+h(k[2])+")"}else{k=c.doMethod.call(v,x,l,j)}return k},setRunAttr:function(A){var y=this,x=y.attributes[A],m=x.to,z=x.by,k;c.setRunAttr.call(y,A);k=y.runAttrs[A];if(n.test(A)){var l=b(k.start),j=b(k.end);if(!p(m)&&p(z)){j=b(z);for(var i=0,h=l.length;i<h;i++){j[i]=l[i]+j[i]}}k.start=l;k.end=j}}})})();(function(){var c=Ext.lib;c.Anim.scroll=function(p,r,o,n,s,q){return c.Anim.run(p,r,o,n,s,q,c.Scroll)};c.Scroll=function(n,o,m,l){if(n){c.Scroll.superclass.constructor.call(this,n,o,m,l)}};Ext.extend(c.Scroll,c.ColorAnim);var a=c.Scroll.superclass,b="scroll";Ext.apply(c.Scroll.prototype,{doMethod:function(t,u,s){var p,q=this,o=q.curFrame,r=q.totalFrames;if(t==b){p=[q.method(o,u[0],s[0]-u[0],r),q.method(o,u[1],s[1]-u[1],r)]}else{p=a.doMethod.call(q,t,u,s)}return p},getAttr:function(k){var j=this;if(k==b){return[j.el.scrollLeft,j.el.scrollTop]}else{return a.getAttr.call(j,k)}},setAttr:function(o,l,m){var n=this;if(o==b){n.el.scrollLeft=l[0];n.el.scrollTop=l[1]}else{a.setAttr.call(n,o,l,m)}}})})();if(Ext.isIE){function e(){var a=Function.prototype;delete a.createSequence;delete a.defer;delete a.createDelegate;delete a.createCallback;delete a.createInterceptor;window.detachEvent("onunload",e)}window.attachEvent("onunload",e)}})();(function(){var m=Ext.util,k=Ext.each,n=true,l=false;m.Observable=function(){var b=this,a=b.events;if(b.listeners){b.on(b.listeners);delete b.listeners}b.events=a||{}};m.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var c=Array.prototype.slice.call(arguments,0),a=c[0].toLowerCase(),i=this,b=n,g=i.events[a],d,h,e;if(i.eventsSuspended===n){if(h=i.eventQueue){h.push(c)}}else{if(typeof g=="object"){if(g.bubble){if(g.fire.apply(g,c.slice(1))===l){return l}e=i.getBubbleTarget&&i.getBubbleTarget();if(e&&e.enableBubble){d=e.events[a];if(!d||typeof d!="object"||!d.bubble){e.enableBubble(a)}return e.fireEvent.apply(e,c)}}else{c.shift();b=g.fire.apply(g,c)}}}return b},addListener:function(c,a,b,e){var i=this,g,d,h;if(typeof c=="object"){e=c;for(g in e){d=e[g];if(!i.filterOptRe.test(g)){i.addListener(g,d.fn||d,d.scope||e.scope,d.fn?d:e)}}}else{c=c.toLowerCase();h=i.events[c]||n;if(typeof h=="boolean"){i.events[c]=h=new m.Event(i,c)}h.addListener(a,b,typeof e=="object"?e:{})}},removeListener:function(c,a,b){var d=this.events[c.toLowerCase()];if(typeof d=="object"){d.removeListener(a,b)}},purgeListeners:function(){var a=this.events,c,b;for(b in a){c=a[b];if(typeof c=="object"){c.clearListeners()}}},addEvents:function(d){var a=this;a.events=a.events||{};if(typeof d=="string"){var c=arguments,b=c.length;while(b--){a.events[c[b]]=a.events[c[b]]||n}}else{Ext.applyIf(a.events,d)}},hasListener:function(b){var a=this.events[b.toLowerCase()];return typeof a=="object"&&a.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=n;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var b=this,a=b.eventQueue||[];b.eventsSuspended=l;delete b.eventQueue;k(a,function(c){b.fireEvent.apply(b,c)})}};var p=m.Observable.prototype;p.on=p.addListener;p.un=p.removeListener;m.Observable.releaseCapture=function(a){a.fireEvent=p.fireEvent};function o(b,a,c){return function(){if(a.target==arguments[0]){b.apply(c,Array.prototype.slice.call(arguments,0))}}}function r(d,c,b,a){b.task=new m.DelayedTask();return function(){b.task.delay(c.buffer,d,a,Array.prototype.slice.call(arguments,0))}}function q(a,d,b,c){return function(){d.removeListener(b,c);return a.apply(c,arguments)}}function s(d,c,b,a){return function(){var e=new m.DelayedTask(),g=Array.prototype.slice.call(arguments,0);if(!b.tasks){b.tasks=[]}b.tasks.push(e);e.delay(c.delay||10,function(){b.tasks.remove(e);d.apply(a,g)},a)}}m.Event=function(a,b){this.name=b;this.obj=a;this.listeners=[]};m.Event.prototype={addListener:function(d,e,a){var c=this,b;e=e||c.obj;if(!c.isListening(d,e)){b=c.createListener(d,e,a);if(c.firing){c.listeners=c.listeners.slice(0)}c.listeners.push(b)}},createListener:function(d,e,c){c=c||{};e=e||this.obj;var b={fn:d,scope:e,options:c},a=d;if(c.target){a=o(a,c,e)}if(c.delay){a=s(a,c,b,e)}if(c.single){a=q(a,this,d,e)}if(c.buffer){a=r(a,c,b,e)}b.fireFn=a;return b},findListener:function(d,e){var c=this.listeners,a=c.length,b;e=e||this.obj;while(a--){b=c[a];if(b){if(b.fn==d&&b.scope==e){return a}}}return -1},isListening:function(a,b){return this.findListener(a,b)!=-1},removeListener:function(c,d){var e,a,h,b=this,g=l;if((e=b.findListener(c,d))!=-1){if(b.firing){b.listeners=b.listeners.slice(0)}a=b.listeners[e];if(a.task){a.task.cancel();delete a.task}h=a.tasks&&a.tasks.length;if(h){while(h--){a.tasks[h].cancel()}delete a.tasks}b.listeners.splice(e,1);g=n}return g},clearListeners:function(){var c=this,b=c.listeners,a=b.length;while(a--){c.removeListener(b[a].fn,b[a].scope)}},fire:function(){var c=this,d=c.listeners,b=d.length,e=0,a;if(b>0){c.firing=n;var g=Array.prototype.slice.call(arguments,0);for(;e<b;e++){a=d[e];if(a&&a.fireFn.apply(a.scope||c.obj||window,g)===l){return(c.firing=l)}}}c.firing=l;return n}}})();Ext.DomHelper=function(){var x=null,J=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,H=/^table|tbody|tr|td$/i,P=/tag|children|cn|html$/i,B=/td|tr|tbody/i,F=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,z=/end/i,C,G="afterbegin",E="afterend",Q="beforebegin",D="beforeend",S="<table>",L="</table>",R=S+"<tbody>",K="</tbody>"+L,I=R+"<tr>",y="</tr>"+K;function M(b,e,h,c,d,a){var g=C.insertHtml(c,Ext.getDom(b),A(e));return h?Ext.get(g,true):g}function A(e){var h="",b,g,a,c;if(typeof e=="string"){h=e}else{if(Ext.isArray(e)){for(var d=0;d<e.length;d++){if(e[d]){h+=A(e[d])}}}else{h+="<"+(e.tag=e.tag||"div");for(b in e){g=e[b];if(!P.test(b)){if(typeof g=="object"){h+=" "+b+'="';for(a in g){h+=a+":"+g[a]+";"}h+='"'}else{h+=" "+({cls:"class",htmlFor:"for"}[b]||b)+'="'+g+'"'}}}if(J.test(e.tag)){h+="/>"}else{h+=">";if((c=e.children||e.cn)){h+=A(c)}else{if(e.html){h+=e.html}}h+="</"+e.tag+">"}}}return h}function N(c,i,b,g){x.innerHTML=[i,b,g].join("");var a=-1,e=x,h;while(++a<c){e=e.firstChild}if(h=e.nextSibling){var d=document.createDocumentFragment();while(e){h=e.nextSibling;d.appendChild(e);e=h}e=d}return e}function O(b,g,a,d){var e,c;x=x||document.createElement("div");if(b=="td"&&(g==G||g==D)||!B.test(b)&&(g==Q||g==E)){return}c=g==Q?a:g==E?a.nextSibling:g==G?a.firstChild:null;if(g==Q||g==E){a=a.parentNode}if(b=="td"||(b=="tr"&&(g==D||g==G))){e=N(4,I,d,y)}else{if((b=="tbody"&&(g==D||g==G))||(b=="tr"&&(g==Q||g==E))){e=N(3,R,d,K)}else{e=N(2,S,d,L)}}a.insertBefore(e,c);return e}C={markup:function(a){return A(a)},applyStyles:function(a,c){if(c){var b;a=Ext.fly(a);if(typeof c=="function"){c=c.call()}if(typeof c=="string"){F.lastIndex=0;while((b=F.exec(c))){a.setStyle(b[1],b[2])}}else{if(typeof c=="object"){a.setStyle(c)}}}},insertHtml:function(b,h,a){var c={},e,j,k,i,d,g;b=b.toLowerCase();c[Q]=["BeforeBegin","previousSibling"];c[E]=["AfterEnd","nextSibling"];if(h.insertAdjacentHTML){if(H.test(h.tagName)&&(g=O(h.tagName.toLowerCase(),b,h,a))){return g}c[G]=["AfterBegin","firstChild"];c[D]=["BeforeEnd","lastChild"];if((e=c[b])){h.insertAdjacentHTML(e[0],a);return h[e[1]]}}else{k=h.ownerDocument.createRange();j="setStart"+(z.test(b)?"After":"Before");if(c[b]){k[j](h);i=k.createContextualFragment(a);h.parentNode.insertBefore(i,b==Q?h:h.nextSibling);return h[(b==Q?"previous":"next")+"Sibling"]}else{d=(b==G?"first":"last")+"Child";if(h.firstChild){k[j](h[d]);i=k.createContextualFragment(a);if(b==G){h.insertBefore(i,h.firstChild)}else{h.appendChild(i)}}else{h.innerHTML=a}return h[d]}}throw'Illegal insertion point -> "'+b+'"'},insertBefore:function(a,b,c){return M(a,b,c,Q)},insertAfter:function(a,b,c){return M(a,b,c,E,"nextSibling")},insertFirst:function(a,b,c){return M(a,b,c,G,"firstChild")},append:function(a,b,c){return M(a,b,c,D,"",true)},overwrite:function(a,b,c){a=Ext.getDom(a);a.innerHTML=A(b);return c?Ext.get(a.firstChild):a.firstChild},createHtml:A};return C}();Ext.Template=function(k){var i=this,o=arguments,m=[],n;if(Ext.isArray(k)){k=k.join("")}else{if(o.length>1){for(var l=0,a=o.length;l<a;l++){n=o[l];if(typeof n=="object"){Ext.apply(i,n)}else{m.push(n)}}k=m.join("")}}i.html=k;if(i.compiled){i.compile()}};Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(d){var c=this;return c.compiled?c.compiled(d):c.html.replace(c.re,function(b,a){return d[a]!==undefined?d[a]:""})},set:function(e,g){var d=this;d.html=e;d.compiled=null;return g?d.compile():d},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g)},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g)},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g)},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g)},doInsert:function(k,i,g,h){i=Ext.getDom(i);var j=Ext.DomHelper.insertHtml(k,i,this.applyTemplate(g));return h?Ext.get(j,true):j},overwrite:function(d,e,g){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return g?Ext.get(d.firstChild,true):d.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(c,d){c=Ext.getDom(c);return new Ext.Template(c.value||c.innerHTML,d||"")};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,xml,hasXml;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}if(!hasXml){xml=Ext.DomQuery.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(l,m,i){var k=this,j,h=function(){clearInterval(j);j=null;l.apply(m,i||[])};k.delay=function(c,a,b,d){k.cancel();l=a||l;m=b||m;i=d||i;j=setInterval(h,c)};k.cancel=function(){if(j){clearInterval(j);j=null}}};(function(){var o=document;Ext.Element=function(b,a){var d=typeof b=="string"?o.getElementById(b):b,c;if(!d){return null}c=d.id;if(!a&&c&&Ext.elCache[c]){return Ext.elCache[c].el}this.dom=d;this.id=c||Ext.id(d)};var r=Ext.DomHelper,q=Ext.Element,u=Ext.elCache;q.prototype={set:function(c,a){var e=this.dom,b,d,a=(a!==false)&&!!e.setAttribute;for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(b=="style"){r.applyStyles(e,d)}else{if(b=="cls"){e.className=d}else{if(a){e.setAttribute(b,d)}else{e[b]=d}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},focus:function(c,d){var b=this,d=d||b.dom;try{if(Number(c)){b.focus.defer(c,null,[null,d])}else{d.focus()}}catch(a){}return b},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(b){var a=this.dom.value;return b?parseInt(a,10):a},addListener:function(b,c,d,a){Ext.EventManager.on(this.dom,b,c,d||this,a);return this},removeListener:function(b,c,a){Ext.EventManager.removeListener(this.dom,b,c,a||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(a){if(a===""||a=="auto"||a===undefined){a=a||""}else{if(!isNaN(a)||!n.test(a)){a=a+(this.defaultUnit||"px")}}return a},load:function(a,c,b){Ext.Ajax.request(Ext.apply({params:c,url:a.url||a,callback:b,el:this.dom,indicatorText:a.indicatorText||""},Ext.isObject(a)?a:{}));return this},isBorderBox:function(){return Ext.isBorderBox||Ext.isForcedBorderBox||p[(this.dom.tagName||"").toLowerCase()]},remove:function(){var b=this,a=b.dom;if(a){delete b.dom;Ext.removeNode(a)}},hover:function(a,b,d,e){var c=this;c.on("mouseenter",a,d||c.dom,e);c.on("mouseleave",b,d||c.dom,e);return c},contains:function(a){return !a?false:Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a)},getAttributeNS:function(a,b){return this.getAttribute(b,a)},getAttribute:Ext.isIE?function(b,d){var c=this.dom,a=typeof c[d+":"+b];if(["undefined","unknown"].indexOf(a)==-1){return c[d+":"+b]}return c[b]}:function(b,a){var c=this.dom;return c.getAttributeNS(a,b)||c.getAttribute(a+":"+b)||c.getAttribute(b)||c[b]},update:function(a){if(this.dom){this.dom.innerHTML=a}return this}};var l=q.prototype;q.addMethods=function(a){Ext.apply(l,a)};l.on=l.addListener;l.un=l.removeListener;l.autoBoxAdjust=true;var n=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,s;q.get=function(a){var b,c,d;if(!a){return null}if(typeof a=="string"){if(!(c=o.getElementById(a))){return null}if(u[a]&&u[a].el){b=u[a].el;b.dom=c}else{b=q.addToCache(new q(c))}return b}else{if(a.tagName){if(!(d=a.id)){d=Ext.id(a)}if(u[d]&&u[d].el){b=u[d].el;b.dom=a}else{b=q.addToCache(new q(a))}return b}else{if(a instanceof q){if(a!=s){if(Ext.isIE&&(a.id==undefined||a.id=="")){a.dom=a.dom}else{a.dom=o.getElementById(a.id)||a.dom}}return a}else{if(a.isComposite){return a}else{if(Ext.isArray(a)){return q.select(a)}else{if(a==o){if(!s){var e=function(){};e.prototype=q.prototype;s=new e();s.dom=o}return s}}}}}}return null};q.addToCache=function(b,a){a=a||b.id;u[a]={el:b,data:{},events:{}};return b};q.data=function(a,b,d){a=q.get(a);if(!a){return null}var c=u[a.id].data;if(arguments.length==2){return c[b]}else{return(c[b]=d)}};function m(){if(!Ext.enableGarbageCollector){clearInterval(q.collectorThreadId)}else{var b,e,c,d;for(b in u){d=u[b];if(d.skipGC){continue}e=d.el;c=e.dom;if(!c||!c.parentNode||(!c.offsetParent&&!o.getElementById(b))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(c)}delete u[b]}}if(Ext.isIE){var a={};for(b in u){a[b]=u[b]}u=Ext.elCache=a}}}q.collectorThreadId=setInterval(m,30000);var t=function(){};t.prototype=q.prototype;q.Flyweight=function(a){this.dom=a};q.Flyweight.prototype=new t();q.Flyweight.prototype.isFlyweight=true;q._flyweights={};q.fly=function(c,b){var a=null;b=b||"_global";if(c=Ext.getDom(c)){(q._flyweights[b]=q._flyweights[b]||new q.Flyweight()).dom=c;a=q._flyweights[b]}return a};Ext.get=q.get;Ext.fly=q.fly;var p=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){p.button=1}})();Ext.Element.addMethods(function(){var j="parentNode",g="nextSibling",k="previousSibling",i=Ext.DomQuery,h=Ext.get;return{findParent:function(a,b,n){var d=this.dom,o=document.body,c=0,e;if(Ext.isGecko&&Object.prototype.toString.call(d)=="[object XULElement]"){return null}b=b||50;if(isNaN(b)){e=Ext.getDom(b);b=Number.MAX_VALUE}while(d&&d.nodeType==1&&c<b&&d!=o&&d!=e){if(i.is(d,a)){return n?h(d):d}c++;d=d.parentNode}return null},findParentNode:function(a,b,d){var c=Ext.fly(this.dom.parentNode,"_internal");return c?c.findParent(a,b,d):null},up:function(a,b){return this.findParentNode(a,b,true)},select:function(a){return Ext.Element.select(a,this.dom)},query:function(a){return i.select(a,this.dom)},child:function(c,b){var a=i.selectNode(c,this.dom);return b?a:h(a)},down:function(c,b){var a=i.selectNode(" > "+c,this.dom);return b?a:h(a)},parent:function(b,a){return this.matchNode(j,j,b,a)},next:function(b,a){return this.matchNode(g,g,b,a)},prev:function(b,a){return this.matchNode(k,k,b,a)},first:function(b,a){return this.matchNode(g,"firstChild",b,a)},last:function(b,a){return this.matchNode(k,"lastChild",b,a)},matchNode:function(d,a,e,c){var b=this.dom[a];while(b){if(b.nodeType==1&&(!e||i.is(b,e))){return !c?h(b):b}b=b[d]}return null}}}());Ext.Element.addMethods(function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;return{appendChild:function(a){return e(a).appendTo(this)},appendTo:function(a){g(a).appendChild(this.dom);return this},insertBefore:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a=="string"){a=g(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?e(a):a}else{return this.createChild(a,this.dom.firstChild,b)}},replace:function(a){a=e(a);this.insertBefore(a);a.remove();return this},replaceWith:function(b){var a=this;if(b.nodeType||b.dom||typeof b=="string"){b=g(b);a.dom.parentNode.insertBefore(b,a.dom)}else{b=d.insertBefore(a.dom,b)}delete Ext.elCache[a.id];Ext.removeNode(a.dom);a.id=Ext.id(a.dom=b);Ext.Element.addToCache(a.isFlyweight?new Ext.Element(a.dom):a);return a},createChild:function(b,c,a){b=b||{tag:"div"};return c?d.insertBefore(c,b,a!==true):d[!this.dom.firstChild?"overwrite":"append"](this.dom,b,a!==true)},wrap:function(c,b){var a=d.insertBefore(this.dom,c||{tag:"div"},!b);a.dom?a.dom.appendChild(this.dom):a.appendChild(this.dom);return a},insertHtml:function(c,b,i){var a=d.insertHtml(c,this.dom,b);return i?Ext.get(a):a}}}());Ext.Element.addMethods(function(){var U=Ext.supports,ac={},H=/(-[a-z])/gi,N=document.defaultView,O=/alpha\(opacity=(.*)\)/i,Y=/^\s+|\s+$/g,R=Ext.Element,K=/\s+/,ah=/\w/g,af="padding",ag="margin",G="border",M="-left",S="-right",I="-top",V="-bottom",aa="-width",Q=Math,F="hidden",ae="isClipped",Z="overflow",W="overflow-x",X="overflow-y",P="originalClip",ab={l:G+M+aa,r:G+S+aa,t:G+I+aa,b:G+V+aa},ad={l:af+M,r:af+S,t:af+I,b:af+V},ai={l:ag+M,r:ag+S,t:ag+I,b:ag+V},L=Ext.Element.data;function T(b,a){return a.charAt(1).toUpperCase()}function J(a){return ac[a]||(ac[a]=a=="float"?(U.cssFloat?"cssFloat":"styleFloat"):a.replace(H,T))}return{adjustWidth:function(c){var b=this;var a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("lr")+b.getPadding("lr"))}return(a&&c<0)?0:c},adjustHeight:function(c){var b=this;var a=(typeof c=="number");if(a&&b.autoBoxAdjust&&!b.isBorderBox()){c-=(b.getBorderWidth("tb")+b.getPadding("tb"))}return(a&&c<0)?0:c},addClass:function(b){var a=this,c,g,d,e=[];if(!Ext.isArray(b)){if(typeof b=="string"&&!this.hasClass(b)){a.dom.className+=" "+b}}else{for(c=0,g=b.length;c<g;c++){d=b[c];if(typeof d=="string"&&(" "+a.dom.className+" ").indexOf(" "+d+" ")==-1){e.push(d)}}if(e.length){a.dom.className+=" "+e.join(" ")}}return a},removeClass:function(b){var a=this,c,g,h,d,e;if(!Ext.isArray(b)){b=[b]}if(a.dom&&a.dom.className){e=a.dom.className.replace(Y,"").split(K);for(c=0,h=b.length;c<h;c++){d=b[c];if(typeof d=="string"){d=d.replace(Y,"");g=e.indexOf(d);if(g!=-1){e.splice(g,1)}}}a.dom.className=e.join(" ")}return a},radioClass:function(b){var a=this.dom.parentNode.childNodes,d,c,e;b=Ext.isArray(b)?b:[b];for(c=0,e=a.length;c<e;c++){d=a[c];if(d&&d.nodeType==1){Ext.fly(d,"_internal").removeClass(b)}}return this.addClass(b)},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},hasClass:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},replaceClass:function(a,b){return this.removeClass(a).addClass(b)},isStyle:function(b,a){return this.getStyle(b)==a},getStyle:function(){return N&&N.getComputedStyle?function(a){var c=this.dom,g,d,e,b;if(c==document){return null}a=J(a);e=(g=c.style[a])?g:(d=N.getComputedStyle(c,""))?d[a]:null;if(a=="marginRight"&&e!="0px"&&!U.correctRightMargin){b=c.style.display;c.style.display="inline-block";e=N.getComputedStyle(c,"").marginRight;c.style.display=b}if(a=="backgroundColor"&&e=="rgba(0, 0, 0, 0)"&&!U.correctTransparentColor){e="transparent"}return e}:function(a){var c=this.dom,e,d;if(c==document){return null}if(a=="opacity"){if(c.style.filter.match){if(e=c.style.filter.match(O)){var b=parseFloat(e[1]);if(!isNaN(b)){return b?b/100:0}}}return 1}a=J(a);return c.style[a]||((d=c.currentStyle)?d[a]:null)}}(),getColor:function(g,e,a){var c=this.getStyle(g),d=(typeof a!="undefined")?a:"#",b;if(!c||(/transparent|inherit/.test(c))){return e}if(/^r/.test(c)){Ext.each(c.slice(4,c.length-1).split(","),function(h){b=parseInt(h,10);d+=(b<16?"0":"")+b.toString(16)})}else{c=c.replace("#","");d+=c.length==3?c.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):c}return(d.length>5?d.toLowerCase():e)},setStyle:function(a,b){var d,c;if(typeof a!="object"){d={};d[a]=b;a=d}for(c in a){b=a[c];c=="opacity"?this.setOpacity(b):this.dom.style[J(c)]=b}return this},setOpacity:function(e,g){var b=this,d=b.dom.style;if(!g||!b.anim){if(Ext.isIE){var c=e<1?"alpha(opacity="+e*100+")":"",a=d.filter.replace(O,"").replace(Y,"");d.zoom=1;d.filter=a+(a.length>0?" ":"")+c}else{d.opacity=e}}else{b.anim({opacity:{to:e}},b.preanim(arguments,1),null,0.35,"easeIn")}return b},clearOpacity:function(){var a=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(a.filter)){a.filter=a.filter.replace(O,"").replace(Y,"")}}else{a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]=""}return this},getHeight:function(c){var d=this,a=d.dom,b=Ext.isIE&&d.isStyle("display","none"),e=Q.max(a.offsetHeight,b?0:a.clientHeight)||0;e=!c?e:e-d.getBorderWidth("tb")-d.getPadding("tb");return e<0?0:e},getWidth:function(d){var c=this,a=c.dom,b=Ext.isIE&&c.isStyle("display","none"),e=Q.max(a.offsetWidth,b?0:a.clientWidth)||0;e=!d?e:e-c.getBorderWidth("lr")-c.getPadding("lr");return e<0?0:e},setWidth:function(b,c){var a=this;b=a.adjustWidth(b);!c||!a.anim?a.dom.style.width=a.addUnits(b):a.anim({width:{to:b}},a.preanim(arguments,1));return a},setHeight:function(c,b){var a=this;c=a.adjustHeight(c);!b||!a.anim?a.dom.style.height=a.addUnits(c):a.anim({height:{to:c}},a.preanim(arguments,1));return a},getBorderWidth:function(a){return this.addStyles(a,ab)},getPadding:function(a){return this.addStyles(a,ad)},clip:function(){var b=this,a=b.dom;if(!L(a,ae)){L(a,ae,true);L(a,P,{o:b.getStyle(Z),x:b.getStyle(W),y:b.getStyle(X)});b.setStyle(Z,F);b.setStyle(W,F);b.setStyle(X,F)}return b},unclip:function(){var c=this,a=c.dom;if(L(a,ae)){L(a,ae,false);var b=L(a,P);if(b.o){c.setStyle(Z,b.o)}if(b.x){c.setStyle(W,b.x)}if(b.y){c.setStyle(X,b.y)}}return c},addStyles:function(i,a){var c=0,b=i.match(ah),d,e,g,h=b.length;for(g=0;g<h;g++){d=b[g];e=d&&parseInt(this.getStyle(a[d]),10);if(e){c+=Q.abs(e)}}return c},margins:ai}}());(function(){var u=Ext.lib.Dom,t="left",p="right",r="top",n="bottom",o="position",s="static",q="relative",m="auto",l="z-index";Ext.Element.addMethods({getX:function(){return u.getX(this.dom)},getY:function(){return u.getY(this.dom)},getXY:function(){return u.getXY(this.dom)},getOffsetsTo:function(b){var c=this.getXY(),a=Ext.fly(b,"_internal").getXY();return[c[0]-a[0],c[1]-a[1]]},setX:function(b,a){return this.setXY([b,this.getY()],this.animTest(arguments,a,1))},setY:function(a,b){return this.setXY([this.getX(),a],this.animTest(arguments,b,1))},setLeft:function(a){this.setStyle(t,this.addUnits(a));return this},setTop:function(a){this.setStyle(r,this.addUnits(a));return this},setRight:function(a){this.setStyle(p,this.addUnits(a));return this},setBottom:function(a){this.setStyle(n,this.addUnits(a));return this},setXY:function(c,b){var a=this;if(!b||!a.anim){u.setXY(a.dom,c)}else{a.anim({points:{to:c}},a.preanim(arguments,1),"motion")}return a},setLocation:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2))},moveTo:function(b,c,a){return this.setXY([b,c],this.animTest(arguments,a,2))},getLeft:function(a){return !a?this.getX():parseInt(this.getStyle(t),10)||0},getRight:function(b){var a=this;return !b?a.getX()+a.getWidth():(a.getLeft(true)+a.getWidth())||0},getTop:function(a){return !a?this.getY():parseInt(this.getStyle(r),10)||0},getBottom:function(b){var a=this;return !b?a.getY()+a.getHeight():(a.getTop(true)+a.getHeight())||0},position:function(c,d,b,e){var a=this;if(!c&&a.isStyle(o,s)){a.setStyle(o,q)}else{if(c){a.setStyle(o,c)}}if(d){a.setStyle(l,d)}if(b||e){a.setXY([b||false,e||false])}},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:s});return this},getPositioning:function(){var a=this.getStyle(t);var b=this.getStyle(r);return{position:this.getStyle(o),left:a,right:a?"":this.getStyle(p),top:b,bottom:b?"":this.getStyle(n),"z-index":this.getStyle(l)}},setPositioning:function(b){var c=this,a=c.dom.style;c.setStyle(b);if(b.right==m){a.right=""}if(b.bottom==m){a.bottom=""}return c},translatePoints:function(a,b){b=isNaN(a[1])?b:a[1];a=isNaN(a[0])?a:a[0];var e=this,d=e.isStyle(o,q),c=e.getXY(),h=parseInt(e.getStyle(t),10),g=parseInt(e.getStyle(r),10);h=!isNaN(h)?h:(d?0:e.dom.offsetLeft);g=!isNaN(g)?g:(d?0:e.dom.offsetTop);return{left:(a-c[0]+h),top:(b-c[1]+g)}},animTest:function(a,b,c){return !!b&&this.preanim?this.preanim(a,c):false}})})();Ext.Element.addMethods({isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},scrollTo:function(d,c){this.dom["scroll"+(/top/i.test(d)?"Top":"Left")]=c;return this},getScroll:function(){var k=this.dom,l=document,j=l.body,o=l.documentElement,d,m,n;if(k==l||k==j){if(Ext.isIE&&Ext.isStrict){d=o.scrollLeft;m=o.scrollTop}else{d=window.pageXOffset;m=window.pageYOffset}n={left:d||(j?j.scrollLeft:0),top:m||(j?j.scrollTop:0)}}else{n={left:k.scrollLeft,top:k.scrollTop}}return n}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls="x-hide-nosize";Ext.Element.addMethods(function(){var A=Ext.Element,q="opacity",w="visibility",z="display",B="hidden",s="offsets",v="asclass",t="none",E="nosize",D="originalDisplay",C="visibilityMode",y="isVisible",x=A.data,u=function(a){var b=x(a,D);if(b===undefined){x(a,D,b="")}return b},r=function(a){var b=x(a,C);if(b===undefined){x(a,C,b=1)}return b};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){x(this.dom,C,a);return this},animate:function(d,b,c,a,e){this.anim(d,{duration:b,callback:c,easing:a},e);return this},anim:function(e,d,h,b,g,i){h=h||"run";d=d||{};var c=this,a=Ext.lib.Anim[h](c.dom,e,(d.duration||b)||0.35,(d.easing||g)||"easeOut",function(){if(i){i.call(c)}if(d.callback){d.callback.call(d.scope||c,c,d)}},c);d.anim=a;return a},preanim:function(b,a){return !b[a]?false:(typeof b[a]=="object"?b[a]:{duration:b[a+1],callback:b[a+2],easing:b[a+3]})},isVisible:function(){var c=this,a=c.dom,b=x(a,y);if(typeof b=="boolean"){return b}b=!c.isStyle(w,B)&&!c.isStyle(z,t)&&!((r(a)==A.ASCLASS)&&c.hasClass(c.visibilityCls||A.visibilityCls));x(a,y,b);return b},setVisible:function(i,b){var e=this,a,c,d,g,h=e.dom,j=r(h);if(typeof b=="string"){switch(b){case z:j=A.DISPLAY;break;case w:j=A.VISIBILITY;break;case s:j=A.OFFSETS;break;case E:case v:j=A.ASCLASS;break}e.setVisibilityMode(j);b=false}if(!b||!e.anim){if(j==A.ASCLASS){e[i?"removeClass":"addClass"](e.visibilityCls||A.visibilityCls)}else{if(j==A.DISPLAY){return e.setDisplayed(i)}else{if(j==A.OFFSETS){if(!i){e.hideModeStyles={position:e.getStyle("position"),top:e.getStyle("top"),left:e.getStyle("left")};e.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{e.applyStyles(e.hideModeStyles||{position:"",top:"",left:""});delete e.hideModeStyles}}else{e.fixDisplay();h.style.visibility=i?"visible":B}}}}else{if(i){e.setOpacity(0.01);e.setVisible(true)}e.anim({opacity:{to:(i?1:0)}},e.preanim(arguments,1),null,0.35,"easeIn",function(){i||e.setVisible(false).setOpacity(1)})}x(h,y,i);return e},hasMetrics:function(){var a=this.dom;return this.isVisible()||(r(a)==A.VISIBILITY)},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.preanim(arguments,0));return a},setDisplayed:function(a){if(typeof a=="boolean"){a=a?u(this.dom):t}this.setStyle(z,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(z,t)){a.setStyle(w,B);a.setStyle(z,u(this.dom));if(a.isStyle(z,t)){a.setStyle(z,"block")}}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());(function(){var C=null,M=undefined,R=true,H=false,S="setX",U="setY",aa="setXY",O="left",Q="bottom",I="top",P="right",K="height",V="width",T="points",E="hidden",B="absolute",G="visible",W="motion",N="position",J="easeOut",X=new Ext.Element.Flyweight(),F={},D=function(a){return a||{}},L=function(a){X.dom=a;X.id=Ext.id(a);return X},Y=function(a){if(!F[a]){F[a]=[]}return F[a]},Z=function(a,b){F[a]=b};Ext.enableFx=R;Ext.Fx={switchStatements:function(b,a,c){return a.apply(this,c[b])},slideIn:function(l,o){o=D(o);var j=this,m=j.dom,g=m.style,d,c,h,a,b,g,k,e,i,n;l=l||"t";j.queueFx(o,function(){d=L(m).getXY();L(m).fixDisplay();c=L(m).getFxRestore();h={x:d[0],y:d[1],0:d[0],1:d[1],width:m.offsetWidth,height:m.offsetHeight};h.right=h.x+h.width;h.bottom=h.y+h.height;L(m).setWidth(h.width).setHeight(h.height);a=L(m).fxWrap(c.pos,o,E);g.visibility=G;g.position=B;function q(){L(m).fxUnwrap(a,c.pos,o);g.width=c.width;g.height=c.height;L(m).afterFx(o)}e={to:[h.x,h.y]};i={to:h.width};n={to:h.height};function p(x,A,w,z,u,s,ad,ae,r,v,y){var t={};L(x).setWidth(w).setHeight(z);if(L(x)[u]){L(x)[u](s)}A[ad]=A[ae]="0";if(r){t.width=r}if(v){t.height=v}if(y){t.points=y}return t}k=L(m).switchStatements(l.toLowerCase(),p,{t:[a,g,h.width,0,C,C,O,Q,C,n,C],l:[a,g,0,h.height,C,C,P,I,i,C,C],r:[a,g,h.width,h.height,S,h.right,O,I,C,C,e],b:[a,g,h.width,h.height,U,h.bottom,O,I,C,n,e],tl:[a,g,0,0,C,C,P,Q,i,n,e],bl:[a,g,0,0,U,h.y+h.height,P,I,i,n,e],br:[a,g,0,0,aa,[h.right,h.bottom],O,I,i,n,e],tr:[a,g,0,0,S,h.x+h.width,O,Q,i,n,e]});g.visibility=G;L(a).show();arguments.callee.anim=L(a).fxanim(k,o,W,0.5,J,q)});return j},slideOut:function(k,a){a=D(a);var i=this,l=i.dom,e=l.style,d=i.getXY(),b,c,h,g,j={to:0};k=k||"t";i.queueFx(a,function(){c=L(l).getFxRestore();h={x:d[0],y:d[1],0:d[0],1:d[1],width:l.offsetWidth,height:l.offsetHeight};h.right=h.x+h.width;h.bottom=h.y+h.height;L(l).setWidth(h.width).setHeight(h.height);b=L(l).fxWrap(c.pos,a,G);e.visibility=G;e.position=B;L(b).setWidth(h.width).setHeight(h.height);function n(){a.useDisplay?L(l).setDisplayed(H):L(l).hide();L(l).fxUnwrap(b,c.pos,a);e.width=c.width;e.height=c.height;L(l).afterFx(a)}function m(x,p,r,o,t,q,u,s,v){var w={};x[p]=x[r]="0";w[o]=t;if(q){w[q]=u}if(s){w[s]=v}return w}g=L(l).switchStatements(k.toLowerCase(),m,{t:[e,O,Q,K,j],l:[e,P,I,V,j],r:[e,O,I,V,j,T,{to:[h.right,h.y]}],b:[e,O,I,K,j,T,{to:[h.x,h.bottom]}],tl:[e,P,Q,V,j,K,j],bl:[e,P,I,V,j,K,j,T,{to:[h.x,h.bottom]}],br:[e,O,I,V,j,K,j,T,{to:[h.x+h.width,h.bottom]}],tr:[e,O,Q,V,j,K,j,T,{to:[h.right,h.y]}]});arguments.callee.anim=L(b).fxanim(g,a,W,0.5,J,n)});return i},puff:function(a){a=D(a);var c=this,b=c.dom,g=b.style,e,h,d;c.queueFx(a,function(){e=L(b).getWidth();h=L(b).getHeight();L(b).clearOpacity();L(b).show();d=L(b).getFxRestore();function i(){a.useDisplay?L(b).setDisplayed(H):L(b).hide();L(b).clearOpacity();L(b).setPositioning(d.pos);g.width=d.width;g.height=d.height;g.fontSize="";L(b).afterFx(a)}arguments.callee.anim=L(b).fxanim({width:{to:L(b).adjustWidth(e*2)},height:{to:L(b).adjustHeight(h*2)},points:{by:[-e*0.5,-h*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},a,W,0.5,J,i)});return c},switchOff:function(a){a=D(a);var c=this,b=c.dom,e=b.style,d;c.queueFx(a,function(){L(b).clearOpacity();L(b).clip();d=L(b).getFxRestore();function g(){a.useDisplay?L(b).setDisplayed(H):L(b).hide();L(b).clearOpacity();L(b).setPositioning(d.pos);e.width=d.width;e.height=d.height;L(b).afterFx(a)}L(b).fxanim({opacity:{to:0.3}},C,C,0.1,C,function(){L(b).clearOpacity();(function(){L(b).fxanim({height:{to:1},points:{by:[0,L(b).getHeight()*0.5]}},a,W,0.3,"easeIn",g)}).defer(100)})});return c},highlight:function(e,a){a=D(a);var c=this,b=c.dom,h=a.attr||"backgroundColor",g={},d;c.queueFx(a,function(){L(b).clearOpacity();L(b).show();function i(){b.style[h]=d;L(b).afterFx(a)}d=b.style[h];g[h]={from:e||"ffff9c",to:a.endColor||L(b).getColor(h)||"ffffff"};arguments.callee.anim=L(b).fxanim(g,a,"color",1,"easeIn",i)});return c},frame:function(h,d,a){a=D(a);var e=this,b=e.dom,g,c;e.queueFx(a,function(){h=h||"#C3DAF9";if(h.length==6){h="#"+h}d=d||1;L(b).show();var i=L(b).getXY(),k={x:i[0],y:i[1],0:i[0],1:i[1],width:b.offsetWidth,height:b.offsetHeight},l=function(){g=L(document.body||document.documentElement).createChild({style:{position:B,"z-index":35000,border:"0px solid "+h}});return g.queueFx({},j)};arguments.callee.anim={isAnimated:true,stop:function(){d=0;g.stopFx()}};function j(){var m=Ext.isBorderBox?2:1;c=g.anim({top:{from:k.y,to:k.y-20},left:{from:k.x,to:k.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:k.height,to:k.height+20*m},width:{from:k.width,to:k.width+20*m}},{duration:a.duration||1,callback:function(){g.remove();--d>0?l():L(b).afterFx(a)}});arguments.callee.anim={isAnimated:true,stop:function(){c.stop()}}}l()});return e},pause:function(a){var b=this.dom,c;this.queueFx({},function(){c=setTimeout(function(){L(b).afterFx({})},a*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(c);L(b).afterFx({})}}});return this},fadeIn:function(b){b=D(b);var d=this,c=d.dom,a=b.endOpacity||1;d.queueFx(b,function(){L(c).setOpacity(0);L(c).fixDisplay();c.style.visibility=G;arguments.callee.anim=L(c).fxanim({opacity:{to:a}},b,C,0.5,J,function(){if(a==1){L(c).clearOpacity()}L(c).afterFx(b)})});return d},fadeOut:function(b){b=D(b);var d=this,c=d.dom,e=c.style,a=b.endOpacity||0;d.queueFx(b,function(){arguments.callee.anim=L(c).fxanim({opacity:{to:a}},b,C,0.5,J,function(){if(a==0){Ext.Element.data(c,"visibilityMode")==Ext.Element.DISPLAY||b.useDisplay?e.display="none":e.visibility=E;L(c).clearOpacity()}L(c).afterFx(b)})});return d},scale:function(c,b,a){this.shift(Ext.apply({},a,{width:c,height:b}));return this},shift:function(a){a=D(a);var b=this.dom,c={};this.queueFx(a,function(){for(var d in a){if(a[d]!=M){c[d]={to:a[d]}}}c.width?c.width.to=L(b).adjustWidth(a.width):c;c.height?c.height.to=L(b).adjustWidth(a.height):c;if(c.x||c.y||c.xy){c.points=c.xy||{to:[c.x?c.x.to:L(b).getX(),c.y?c.y.to:L(b).getY()]}}arguments.callee.anim=L(b).fxanim(c,a,W,0.35,J,function(){L(b).afterFx(a)})});return this},ghost:function(k,b){b=D(b);var i=this,a=i.dom,e=a.style,h={opacity:{to:0},points:{}},d=h.points,c,g,j;k=k||"b";i.queueFx(b,function(){c=L(a).getFxRestore();g=L(a).getWidth();j=L(a).getHeight();function l(){b.useDisplay?L(a).setDisplayed(H):L(a).hide();L(a).clearOpacity();L(a).setPositioning(c.pos);e.width=c.width;e.height=c.height;L(a).afterFx(b)}d.by=L(a).switchStatements(k.toLowerCase(),function(m,n){return[m,n]},{t:[0,-j],l:[-g,0],r:[g,0],b:[0,j],tl:[-g,-j],bl:[-g,j],br:[g,j],tr:[g,-j]});arguments.callee.anim=L(a).fxanim(h,b,W,0.5,J,l)});return i},syncFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:R,stopFx:H});return a},sequenceFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:H,concurrent:H,stopFx:H});return a},nextFx:function(){var a=Y(this.dom.id)[0];if(a){a.call(this)}},hasActiveFx:function(){return Y(this.dom.id)[0]},stopFx:function(d){var c=this,a=c.dom.id;if(c.hasActiveFx()){var b=Y(a)[0];if(b&&b.anim){if(b.anim.isAnimated){Z(a,[b]);b.anim.stop(d!==undefined?d:R)}else{Z(a,[])}}}return c},beforeFx:function(a){if(this.hasActiveFx()&&!a.concurrent){if(a.stopFx){this.stopFx();return R}return H}return R},hasFxBlock:function(){var a=Y(this.dom.id);return a&&a[0]&&a[0].block},queueFx:function(a,d){var c=L(this.dom);if(!c.hasFxBlock()){Ext.applyIf(a,c.fxDefaults);if(!a.concurrent){var b=c.beforeFx(a);d.block=a.block;Y(c.dom.id).push(d);if(b){c.nextFx()}}else{d.call(c)}}return c},fxWrap:function(a,c,e){var d=this.dom,g,h;if(!c.wrap||!(g=Ext.getDom(c.wrap))){if(c.fixPosition){h=L(d).getXY()}var b=document.createElement("div");b.style.visibility=e;g=d.parentNode.insertBefore(b,d);L(g).setPositioning(a);if(L(g).isStyle(N,"static")){L(g).position("relative")}L(d).clearPositioning("auto");L(g).clip();g.appendChild(d);if(h){L(g).setXY(h)}}return g},fxUnwrap:function(d,a,b){var c=this.dom;L(c).clearPositioning();L(c).setPositioning(a);if(!b.wrap){var e=L(d).dom.parentNode;e.insertBefore(c,d);L(d).remove()}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},afterFx:function(b){var c=this.dom,a=c.id;if(b.afterStyle){L(c).setStyle(b.afterStyle)}if(b.afterCls){L(c).addClass(b.afterCls)}if(b.remove==R){L(c).remove()}if(b.callback){b.callback.call(b.scope,L(c))}if(!b.concurrent){Y(a).shift();L(c).nextFx()}},fxanim:function(d,c,g,b,e,h){g=g||"run";c=c||{};var a=Ext.lib.Anim[g](this.dom,d,(c.duration||b)||0.35,(c.easing||e)||J,h,this);c.anim=a;return a}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();Ext.CompositeElementLite=function(c,d){this.elements=[];this.add(c,d);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(d){var c=this.el;c.dom=d;c.id=d.id;return c},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(l,h){var k=this,j=k.elements;if(!l){return this}if(typeof l=="string"){l=Ext.Element.selectorFunction(l,h)}else{if(l.isComposite){l=l.elements}else{if(!Ext.isIterable(l)){l=[l]}}}for(var m=0,i=l.length;m<i;++m){j.push(k.transformElement(l[m]))}return k},invoke:function(m,e){var l=this,n=l.elements,i=n.length,k,o;for(o=0;o<i;o++){k=n[o];if(k){Ext.Element.prototype[m].apply(l.getElement(k),e)}}return l},item:function(e){var h=this,i=h.elements[e],g=null;if(i){g=h.getElement(i)}return g},addListener:function(e,m,n,o){var p=this.elements,i=p.length,q,l;for(q=0;q<i;q++){l=p[q];if(l){Ext.EventManager.on(l,e,m,n||l,o)}}return this},each:function(m,n){var l=this,o=l.elements,i=o.length,e,k;for(e=0;e<i;e++){k=o[e];if(k){k=this.getElement(k);if(m.call(n||k,k,l,e)===false){break}}}return l},fill:function(d){var c=this;c.elements=[];c.add(d);return c},filter:function(g){var e=[],h=this,i=Ext.isFunction(g)?g:function(a){return a.is(g)};h.each(function(a,c,b){if(i(a,b)!==false){e[e.length]=h.transformElement(a)}});h.elements=e;return h},indexOf:function(b){return this.elements.indexOf(this.transformElement(b))},replaceElement:function(j,k,h){var d=!isNaN(j)?j:this.indexOf(j),i;if(d>-1){k=Ext.getDom(k);if(h){i=this.elements[d];i.parentNode.insertBefore(k,i);Ext.removeNode(i)}this.elements.splice(d,1,k)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;Ext.CompositeElementLite.importElementMethods=function(){var g,d=Ext.Element.prototype,e=Ext.CompositeElementLite.prototype;for(g in d){if(typeof d[g]=="function"){(function(a){e[a]=e[a]||function(){return this.invoke(a,arguments)}}).call(e,g)}}};Ext.CompositeElementLite.importElementMethods();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(e,d){var g;if(typeof e=="string"){g=Ext.Element.selectorFunction(e,d)}else{if(e.length!==undefined){g=e}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(g)};Ext.select=Ext.Element.select;(function(){var j="beforerequest",o="requestcomplete",p="requestexception",m=undefined,q="load",l="POST",k="GET",n=window;Ext.data.Connection=function(a){Ext.apply(this,a);this.addEvents(j,o,p);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(c){var u=this;if(u.fireEvent(j,u,c)){if(c.el){if(!Ext.isEmpty(c.indicatorText)){u.indicatorText='<div class="loading-indicator">'+c.indicatorText+"</div>"}if(u.indicatorText){Ext.getDom(c.el).innerHTML=u.indicatorText}c.success=(Ext.isFunction(c.success)?c.success:function(){}).createInterceptor(function(r){Ext.getDom(c.el).innerHTML=r.responseText})}var e=c.params,g=c.url||u.url,h,b={success:u.handleResponse,failure:u.handleFailure,scope:u,argument:{options:c},timeout:Ext.num(c.timeout,u.timeout)},d,i;if(Ext.isFunction(e)){e=e.call(c.scope||n,c)}e=Ext.urlEncode(u.extraParams,Ext.isObject(e)?Ext.urlEncode(e):e);if(Ext.isFunction(g)){g=g.call(c.scope||n,c)}if((d=Ext.getDom(c.form))){g=g||d.action;if(c.isUpload||(/multipart\/form-data/i.test(d.getAttribute("enctype")))){return u.doFormUpload.call(u,c,e,g)}i=Ext.lib.Ajax.serializeForm(d);e=e?(e+"&"+i):i}h=c.method||u.method||((e||c.xmlData||c.jsonData)?l:k);if(h===k&&(u.disableCaching&&c.disableCaching!==false)||c.disableCaching===true){var a=c.disableCachingParam||u.disableCachingParam;g=Ext.urlAppend(g,a+"="+(new Date().getTime()))}c.headers=Ext.apply(c.headers||{},u.defaultHeaders||{});if(c.autoAbort===true||u.autoAbort){u.abort()}if((h==k||c.xmlData||c.jsonData)&&e){g=Ext.urlAppend(g,e);e=""}return(u.transId=Ext.lib.Ajax.request(h,g,b,e,c))}else{return c.callback?c.callback.apply(c.scope,[c,m,m]):null}},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId},abort:function(a){if(a||this.isLoading()){Ext.lib.Ajax.abort(a||this.transId)}},handleResponse:function(b){this.transId=false;var a=b.argument.options;b.argument=a?a.argument:null;this.fireEvent(o,this,b,a);if(a.success){a.success.call(a.scope,b,a)}if(a.callback){a.callback.call(a.scope,a,true,b)}},handleFailure:function(c,a){this.transId=false;var b=c.argument.options;c.argument=b?b.argument:null;this.fireEvent(p,this,c,b,a);if(b.failure){b.failure.call(b.scope,c,b)}if(b.callback){b.callback.call(b.scope,b,false,c)}},doFormUpload:function(b,i,h){var g=Ext.id(),w=document,a=w.createElement("iframe"),e=Ext.getDom(b.form),x=[],y,c="multipart/form-data",d={target:e.target,method:e.method,encoding:e.encoding,enctype:e.enctype,action:e.action};Ext.fly(a).set({id:g,name:g,cls:"x-hidden",src:Ext.SSL_SECURE_URL});w.body.appendChild(a);if(Ext.isIE){document.frames[g].name=g}Ext.fly(e).set({target:g,method:l,enctype:c,encoding:c,action:h||d.action});Ext.iterate(Ext.urlDecode(i,false),function(r,s){y=w.createElement("input");Ext.fly(y).set({type:"hidden",value:s,name:r});e.appendChild(y);x.push(y)});function z(){var s=this,t={responseText:"",responseXML:null,argument:b.argument},r,v;try{r=a.contentWindow.document||a.contentDocument||n.frames[g].document;if(r){if(r.body){if(/textarea/i.test((v=r.body.firstChild||{}).tagName)){t.responseText=v.value}else{t.responseText=r.body.innerHTML}}t.responseXML=r.XMLDocument||r}}catch(B){}Ext.EventManager.removeListener(a,q,z,s);s.fireEvent(o,s,t,b);function u(A,E,F){if(Ext.isFunction(A)){A.apply(E,F)}}u(b.success,b.scope,[t,b]);u(b.callback,b.scope,[b,true,t]);if(!s.debugUploads){setTimeout(function(){Ext.removeNode(a)},100)}}Ext.EventManager.on(a,q,z,this);e.submit();Ext.fly(e).set(d);Ext.each(x,function(r){Ext.removeNode(r)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(b){return Ext.lib.Ajax.serializeForm(b)}});Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.EventManager=function(){var C,O,U=false,S=Ext.isGecko||Ext.isWebKit||Ext.isSafari,P=Ext.lib.Event,M=Ext.lib.Dom,aa=document,N=window,K="DOMContentLoaded",I="complete",X=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,H=[];function Q(d){var a=false,e=0,g=H.length,c=false,b;if(d){if(d.getElementById||d.navigator){for(;e<g;++e){b=H[e];if(b.el===d){a=b.id;break}}if(!a){a=Ext.id(d);H.push({id:a,el:d});c=true}}else{a=Ext.id(d)}if(!Ext.elCache[a]){Ext.Element.addToCache(new Ext.Element(d),a);if(c){Ext.elCache[a].skipGC=true}}}return a}function R(k,i,e,j,a,c){k=Ext.getDom(k);var b=Q(k),d=Ext.elCache[b].events,h;h=P.on(k,i,a);d[i]=d[i]||[];d[i].push([e,a,c,h,j]);if(k.addEventListener&&i=="mousewheel"){var g=["DOMMouseScroll",a,false];k.addEventListener.apply(k,g);Ext.EventManager.addListener(N,"unload",function(){k.removeEventListener.apply(k,g)})}if(k==aa&&i=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(a)}}function Z(){if(window!=top){return false}try{aa.documentElement.doScroll("left")}catch(a){return false}ab();return true}function L(a){if(Ext.isIE&&Z()){return true}if(aa.readyState==I){ab();return true}U||(O=setTimeout(arguments.callee,2));return false}var T;function V(a){T||(T=Ext.query("style, link[rel=stylesheet]"));if(T.length==aa.styleSheets.length){ab();return true}U||(O=setTimeout(arguments.callee,2));return false}function D(a){aa.removeEventListener(K,arguments.callee,false);V()}function ab(a){if(!U){U=true;if(O){clearTimeout(O)}if(S){aa.removeEventListener(K,ab,false)}if(Ext.isIE&&L.bindIE){aa.detachEvent("onreadystatechange",L)}P.un(N,"load",arguments.callee)}if(C&&!Ext.isReady){Ext.isReady=true;C.fire();C.listeners=[]}}function ac(){C||(C=new Ext.util.Event());if(S){aa.addEventListener(K,ab,false)}if(Ext.isIE){if(!L()){L.bindIE=true;aa.attachEvent("onreadystatechange",L)}}else{if(Ext.isOpera){(aa.readyState==I&&V())||aa.addEventListener(K,D,false)}else{if(Ext.isWebKit){L()}}}P.on(N,"load",ab)}function E(b,a){return function(){var c=Ext.toArray(arguments);if(a.target==Ext.EventObject.setEvent(c[0]).target){b.apply(this,c)}}}function F(b,a,c){return function(d){c.delay(a.buffer,b,null,[new Ext.EventObjectImpl(d)])}}function J(a,b,e,c,d){return function(g){Ext.EventManager.removeListener(b,e,c,d);a(g)}}function Y(b,a,c){return function(d){var e=new Ext.util.DelayedTask(b);if(!c.tasks){c.tasks=[]}c.tasks.push(e);e.delay(a.delay||10,b,null,[new Ext.EventObjectImpl(d)])}}function W(g,h,b,d,c){var a=(!b||typeof b=="boolean")?{}:b,j=Ext.getDom(g),i;d=d||a.fn;c=c||a.scope;if(!j){throw'Error listening for "'+h+'". Element "'+g+"\" doesn't exist."}function e(l){if(!Ext){return}l=Ext.EventObject.setEvent(l);var k;if(a.delegate){if(!(k=l.getTarget(a.delegate,j))){return}}else{k=l.target}if(a.stopEvent){l.stopEvent()}if(a.preventDefault){l.preventDefault()}if(a.stopPropagation){l.stopPropagation()}if(a.normalized===false){l=l.browserEvent}d.call(c||j,l,k,a)}if(a.target){e=E(e,a)}if(a.delay){e=Y(e,a,d)}if(a.single){e=J(e,j,h,d,c)}if(a.buffer){i=new Ext.util.DelayedTask(e);e=F(e,a,i)}R(j,h,d,i,e,c);return e}var G={addListener:function(g,i,d,e,h){if(typeof i=="object"){var a=i,c,b;for(c in a){b=a[c];if(!X.test(c)){if(Ext.isFunction(b)){W(g,c,a,b,a.scope)}else{W(g,c,b)}}}}else{W(g,i,h,d,e)}},removeListener:function(m,i,d,c){m=Ext.getDom(m);var b=Q(m),g=m&&(Ext.elCache[b].events)[i]||[],a,j,l,k,h,e;for(j=0,h=g.length;j<h;j++){if(Ext.isArray(e=g[j])&&e[0]==d&&(!c||e[2]==c)){if(e[4]){e[4].cancel()}k=d.tasks&&d.tasks.length;if(k){while(k--){d.tasks[k].cancel()}delete d.tasks}a=e[1];P.un(m,i,P.extAdapter?e[3]:a);if(a&&m.addEventListener&&i=="mousewheel"){m.removeEventListener("DOMMouseScroll",a,false)}if(a&&m==aa&&i=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(a)}g.splice(j,1);if(g.length===0){delete Ext.elCache[b].events[i]}for(k in Ext.elCache[b].events){return false}Ext.elCache[b].events={};return false}}},removeAll:function(l){l=Ext.getDom(l);var a=Q(l),g=Ext.elCache[a]||{},c=g.events||{},h,i,e,k,d,j,b;for(k in c){if(c.hasOwnProperty(k)){h=c[k];for(i=0,e=h.length;i<e;i++){d=h[i];if(d[4]){d[4].cancel()}if(d[0].tasks&&(j=d[0].tasks.length)){while(j--){d[0].tasks[j].cancel()}delete d.tasks}b=d[1];P.un(l,k,P.extAdapter?d[3]:b);if(l.addEventListener&&b&&k=="mousewheel"){l.removeEventListener("DOMMouseScroll",b,false)}if(b&&l==aa&&k=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(b)}}}}if(Ext.elCache[a]){Ext.elCache[a].events={}}},getListeners:function(c,g){c=Ext.getDom(c);var a=Q(c),e=Ext.elCache[a]||{},b=e.events||{},d=[];if(b&&b[g]){return b[g]}else{return null}},purgeElement:function(j,b,h){j=Ext.getDom(j);var a=Q(j),d=Ext.elCache[a]||{},c=d.events||{},i,e,g;if(h){if(c&&c.hasOwnProperty(h)){e=c[h];for(i=0,g=e.length;i<g;i++){Ext.EventManager.removeListener(j,h,e[i][0])}}}else{Ext.EventManager.removeAll(j)}if(b&&j&&j.childNodes){for(i=0,g=j.childNodes.length;i<g;i++){Ext.EventManager.purgeElement(j.childNodes[i],b,h)}}},_unload:function(){var e;for(e in Ext.elCache){Ext.EventManager.removeAll(e)}delete Ext.elCache;delete Ext.Element._flyweights;var a,d,b,c=Ext.lib.Ajax;(typeof c.conn=="object")?d=c.conn:d={};for(b in d){a=d[b];if(a){c.abort({conn:a,tId:b})}}},onDocumentReady:function(a,b,c){if(Ext.isReady){C||(C=new Ext.util.Event());C.addListener(a,b,c);C.fire();C.listeners=[]}else{if(!C){ac()}c=c||{};c.delay=c.delay||1;C.addListener(a,b,c)}},fireDocReady:ab};G.on=G.addListener;G.un=G.removeListener;G.stoppedMouseDownEvent=new Ext.util.Event();return G}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var b=function(){var g=document.body||document.getElementsByTagName("body")[0];if(!g){return false}var a=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){a.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){a.push("ext-chrome")}}if(Ext.isMac){a.push("ext-mac")}if(Ext.isLinux){a.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var e=g.parentNode;if(e){Ext.fly(e,"_internal").addClass(((Ext.isStrict&&Ext.isIE)||(!Ext.enableForcedBoxModel&&!Ext.isIE))?" ext-strict":" ext-border-box")}}if(Ext.enableForcedBoxModel&&!Ext.isIE){Ext.isForcedBorderBox=true;a.push("ext-forced-border-box")}Ext.fly(g,"_internal").addClass(a);return true};if(!b()){Ext.onReady(b)}})();(function(){var c=Ext.apply(Ext.supports,{correctRightMargin:true,correctTransparentColor:true,cssFloat:true});var d=function(){var a=document.createElement("div"),b=document,i,h;a.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="float:left;background-color:transparent;">';b.body.appendChild(a);h=a.lastChild;if((i=b.defaultView)){if(i.getComputedStyle(a.firstChild.firstChild,null).marginRight!="0px"){c.correctRightMargin=false}if(i.getComputedStyle(h,null).backgroundColor!="transparent"){c.correctTransparentColor=false}}c.cssFloat=!!h.style.cssFloat;b.body.removeChild(a)};if(Ext.isReady){d()}else{Ext.onReady(d)}})();Ext.EventObject=function(){var e=Ext.lib.Event,i=/(dbl)?click/,g={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},h=Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2};Ext.EventObjectImpl=function(a){if(a){this.setEvent(a.browserEvent||a)}};Ext.EventObjectImpl.prototype={setEvent:function(a){var b=this;if(a==b||(a&&a.browserEvent)){return a}b.browserEvent=a;if(a){b.button=a.button?h[a.button]:(a.which?a.which-1:-1);if(i.test(a.type)&&b.button==-1){b.button=0}b.type=a.type;b.shiftKey=a.shiftKey;b.ctrlKey=a.ctrlKey||a.metaKey||false;b.altKey=a.altKey;b.keyCode=a.keyCode;b.charCode=a.charCode;b.target=e.getTarget(a);b.xy=e.getXY(a)}else{b.button=-1;b.shiftKey=false;b.ctrlKey=false;b.altKey=false;b.keyCode=0;b.charCode=0;b.target=null;b.xy=[0,0]}return b},stopEvent:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}e.stopEvent(a.browserEvent)}},preventDefault:function(){if(this.browserEvent){e.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}e.stopPropagation(a.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isSafari?(g[a]||a):a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(b,a,c){return b?Ext.fly(this.target).findParent(b,a,c):(c?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?e.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var b=this.browserEvent;var a=0;if(b.wheelDelta){a=b.wheelDelta/120}else{if(b.detail){a=-b.detail/3}}return a},within:function(b,a,d){if(b){var c=this[a?"getRelatedTarget":"getTarget"]();return c&&((d?(c==Ext.getDom(b)):false)||Ext.fly(b).contains(c))}return false}};return new Ext.EventObjectImpl()}();Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Ext,function(){var g=Ext,e=0,d=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(b,a){return Ext.extend(b,a(b.prototype))},getDoc:function(){return Ext.get(document)},num:function(a,b){a=Number(Ext.isEmpty(a)||Ext.isArray(a)||typeof a=="boolean"||(typeof a=="string"&&a.trim().length==0)?NaN:a);return isNaN(a)?b:a},value:function(a,c,b){return Ext.isEmpty(a,b)?c:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,i,b,c){a[i]=a[i].createSequence(b,c)},addBehaviors:function(a){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(a)})}else{var j={},b,k,c;for(k in a){if((b=k.split("@"))[1]){c=b[0];if(!j[c]){j[c]=Ext.select(c)}j[c].on(b[1],a[k])}}j=null}},getScrollBarWidth:function(c){if(!Ext.isReady){return 0}if(c===true||d===null){var a=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),b=a.child("div",true);var j=b.offsetWidth;a.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var k=b.offsetWidth;a.remove();d=j-k+2}return d},combine:function(){var c=arguments,i=c.length,a=[];for(var b=0;b<i;b++){var k=c[b];if(Ext.isArray(k)){a=a.concat(k)}else{if(k.length!==undefined&&!k.substr){a=a.concat(Array.prototype.slice.call(k,0))}else{a.push(k)}}}return a},copyTo:function(c,b,a){if(typeof a=="string"){a=a.split(/[,;\s]/)}Ext.each(a,function(i){if(b.hasOwnProperty(i)){c[i]=b[i]}},this);return c},destroy:function(){Ext.each(arguments,function(a){if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(typeof a.destroy=="function"){a.destroy()}else{if(a.dom){a.remove()}}}}},this)},destroyMembers:function(a,c,m,i){for(var b=1,n=arguments,o=n.length;b<o;b++){Ext.destroy(a[n[b]]);delete a[n[b]]}},clean:function(b){var a=[];Ext.each(b,function(c){if(!!c){a.push(c)}});return a},unique:function(c){var b=[],a={};Ext.each(c,function(i){if(!a[i]){b.push(i)}a[i]=true});return b},flatten:function(c){var a=[];function b(i){Ext.each(i,function(h){if(Ext.isArray(h)){b(h)}else{a.push(h)}});return a}return b(c)},min:function(c,b){var a=c[0];b=b||function(j,k){return j<k?-1:1};Ext.each(c,function(i){a=b(a,i)==-1?a:i});return a},max:function(c,b){var a=c[0];b=b||function(j,k){return j>k?1:-1};Ext.each(c,function(i){a=b(a,i)==1?a:i});return a},mean:function(a){return a.length>0?Ext.sum(a)/a.length:undefined},sum:function(b){var a=0;Ext.each(b,function(c){a+=c});return a},partition:function(c,b){var a=[[],[]];Ext.each(c,function(l,i,m){a[(b&&b(l,i,m))||(!b&&l)?0:1].push(l)});return a},invoke:function(i,c){var a=[],b=Array.prototype.slice.call(arguments,2);Ext.each(i,function(l,h){if(l&&typeof l[c]=="function"){a.push(l[c].apply(l,b))}else{a.push(undefined)}});return a},pluck:function(c,a){var b=[];Ext.each(c,function(i){b.push(i[a])});return b},zip:function(){var q=Ext.partition(arguments,function(h){return typeof h!="function"}),c=q[0],a=q[1][0],p=Ext.max(Ext.pluck(c,"length")),i=[];for(var b=0;b<p;b++){i[b]=[];if(a){i[b]=a.apply(a,Ext.pluck(c,b))}else{for(var j=0,o=c.length;j<o;j++){i[b].push(c[j][b])}}}return i},getCmp:function(a){return Ext.ComponentMgr.get(a)},useShims:g.isIE6||(g.isMac&&g.isGecko2),type:function(a){if(a===undefined||a===null){return false}if(a.htmlElement){return"element"}var b=typeof a;if(b=="object"&&a.nodeName){switch(a.nodeType){case 1:return"element";case 3:return(/\S/).test(a.nodeValue)?"textnode":"whitespace"}}if(b=="object"||b=="function"){switch(a.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof a.length=="number"&&typeof a.item=="function"){return"nodelist"}}return b},intercept:function(a,i,b,c){a[i]=a[i].createInterceptor(b,c)},callback:function(i,a,b,c){if(typeof i=="function"){if(c){i.defer(c,a,b||[])}else{i.apply(a,b||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(d,e){var g=this;return(typeof d!="function")?this:function(){var a=g.apply(this||window,arguments);d.apply(e||this||window,arguments);return a}}});Ext.applyIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1")},leftPad:function(h,e,i){var g=String(h);if(!i){i=" "}while(g.length<e){g=i+g}return g}});String.prototype.toggle=function(c,d){return this==c?d:c};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"")}}();Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(c,d){return Math.min(Math.max(this,c),d)}});Ext.lib.Dom.getRegion=function(b){return Ext.lib.Region.getRegion(b)};Ext.lib.Region=function(j,h,b,k){var i=this;i.top=j;i[1]=j;i.right=h;i.bottom=b;i.left=k;i[0]=k};Ext.lib.Region.prototype={contains:function(c){var d=this;return(c.left>=d.left&&c.right<=d.right&&c.top>=d.top&&c.bottom<=d.bottom)},getArea:function(){var b=this;return((b.bottom-b.top)*(b.right-b.left))},intersect:function(i){var j=this,l=Math.max(j.top,i.top),k=Math.min(j.right,i.right),b=Math.min(j.bottom,i.bottom),m=Math.max(j.left,i.left);if(b>=l&&k>=m){return new Ext.lib.Region(l,k,b,m)}},union:function(i){var j=this,l=Math.min(j.top,i.top),k=Math.max(j.right,i.right),b=Math.max(j.bottom,i.bottom),m=Math.min(j.left,i.left);return new Ext.lib.Region(l,k,b,m)},constrainTo:function(c){var d=this;d.top=d.top.constrain(c.top,c.bottom);d.bottom=d.bottom.constrain(c.top,c.bottom);d.left=d.left.constrain(c.left,c.right);d.right=d.right.constrain(c.left,c.right);return d},adjust:function(j,k,b,h){var i=this;i.top+=j;i.left+=k;i.right+=h;i.bottom+=b;return i}};Ext.lib.Region.getRegion=function(k){var i=Ext.lib.Dom.getXY(k),l=i[1],j=i[0]+k.offsetWidth,b=i[1]+k.offsetHeight,m=i[0];return new Ext.lib.Region(l,j,b,m)};Ext.lib.Point=function(e,g){if(Ext.isArray(e)){g=e[1];e=e[0]}var d=this;d.x=d.right=d.left=d[0]=e;d.y=d.top=d.bottom=d[1]=g};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.apply(Ext.DomHelper,function(){var o,k="afterbegin",m="afterend",l="beforebegin",p="beforeend",j=/tag|children|cn|html$/i;function n(a,g,h,e,b,d){a=Ext.getDom(a);var c;if(o.useDom){c=q(g,null);if(d){a.appendChild(c)}else{(b=="firstChild"?a:a.parentNode).insertBefore(c,a[b]||a)}}else{c=Ext.DomHelper.insertHtml(e,a,Ext.DomHelper.createHtml(g))}return h?Ext.get(c,true):c}function q(h,a){var g,i=document,c,w,e,v;if(Ext.isArray(h)){g=i.createDocumentFragment();for(var b=0,d=h.length;b<d;b++){q(h[b],g)}}else{if(typeof h=="string"){g=i.createTextNode(h)}else{g=i.createElement(h.tag||"div");c=!!g.setAttribute;for(var w in h){if(!j.test(w)){e=h[w];if(w=="cls"){g.className=e}else{if(c){g.setAttribute(w,e)}else{g[w]=e}}}}Ext.DomHelper.applyStyles(g,h.style);if((v=h.children||h.cn)){q(v,g)}else{if(h.html){g.innerHTML=h.html}}}}if(a){a.appendChild(g)}return g}o={createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return new Ext.Template(b)},useDom:false,insertBefore:function(c,a,b){return n(c,a,b,l)},insertAfter:function(c,a,b){return n(c,a,b,m,"nextSibling")},insertFirst:function(c,a,b){return n(c,a,b,k,"firstChild")},append:function(c,a,b){return n(c,a,b,p,"",true)},createDom:q};return o}());Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(h){var j=this,i=j.disableFormats!==true,k=Ext.util.Format,m=j;if(j.compiled){return j.compiled(h)}function l(c,a,e,b){if(e&&i){if(e.substr(0,5)=="this."){return m.call(e.substr(5),h[a],h)}else{if(b){var g=j.argsRe;b=b.split(",");for(var q=0,d=b.length;q<d;q++){b[q]=b[q].replace(g,"$1")}b=[h[a]].concat(b)}else{b=[h[a]]}return k[e].apply(k,b)}}else{return h[a]!==undefined?h[a]:""}}return j.html.replace(j.re,l)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(g,d,e){return this[g](d,e)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.util.Functions={createInterceptor:function(i,e,g){var h=i;if(!Ext.isFunction(e)){return i}else{return function(){var a=this,b=arguments;e.target=a;e.method=i;return(e.apply(g||a||window,b)!==false)?i.apply(a||window,b):null}}},createDelegate:function(i,h,e,g){if(!Ext.isFunction(i)){return i}return function(){var a=e||arguments;if(g===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e)}else{if(Ext.isNumber(g)){a=Array.prototype.slice.call(arguments,0);var b=[g,0].concat(e);Array.prototype.splice.apply(a,b)}}return i.apply(h||window,a)}},defer:function(j,k,i,g,h){j=Ext.util.Functions.createDelegate(j,i,g,h);if(k>0){return setTimeout(j,k)}j();return 0},createSequence:function(g,d,e){if(!Ext.isFunction(d)){return g}else{return function(){var a=g.apply(this||window,arguments);d.apply(e||this||window,arguments);return a}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.apply(Ext.util.Observable.prototype,function(){function b(e){var k=(this.methodEvents=this.methodEvents||{})[e],n,o,m,l=this;if(!k){this.methodEvents[e]=k={};k.originalFn=this[e];k.methodName=e;k.before=[];k.after=[];var a=function(c,d,g){if((o=c.apply(d||l,g))!==undefined){if(typeof o=="object"){if(o.returnValue!==undefined){n=o.returnValue}else{n=o}m=!!o.cancel}else{if(o===false){m=true}else{n=o}}}};this[e]=function(){var d=Array.prototype.slice.call(arguments,0),g;n=o=undefined;m=false;for(var c=0,h=k.before.length;c<h;c++){g=k.before[c];a(g.fn,g.scope,d);if(m){return n}}if((o=k.originalFn.apply(l,d))!==undefined){n=o}for(var c=0,h=k.after.length;c<h;c++){g=k.after[c];a(g.fn,g.scope,d);if(m){return n}}return n}}return k}return{beforeMethod:function(e,g,a){b.call(this,e).before.push({fn:g,scope:a})},afterMethod:function(e,g,a){b.call(this,e).after.push({fn:g,scope:a})},removeMethodListener:function(e,k,l){var i=this.getMethodEvent(e);for(var m=0,a=i.before.length;m<a;m++){if(i.before[m].fn==k&&i.before[m].scope==l){i.before.splice(m,1);return}}for(var m=0,a=i.after.length;m<a;m++){if(i.after[m].fn==k&&i.after[m].scope==l){i.after.splice(m,1);return}}},relayEvents:function(i,m){var k=this;function l(c){return function(){return k.fireEvent.apply(k,[c].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0,a=m.length;n<a;n++){var o=m[n];k.events[o]=k.events[o]||true;i.on(o,l(o),k)}},enableBubble:function(k){var j=this;if(!Ext.isEmpty(k)){k=Ext.isArray(k)?k:Array.prototype.slice.call(arguments,0);for(var l=0,a=k.length;l<a;l++){var m=k[l];m=m.toLowerCase();var i=j.events[m]||true;if(typeof i=="boolean"){i=new Ext.util.Event(j,m);j.events[m]=i}i.bubble=true}}}}}());Ext.util.Observable.capture=function(g,d,e){g.fireEvent=g.fireEvent.createInterceptor(d,e)};Ext.util.Observable.observeClass=function(c,d){if(c){if(!c.fireEvent){Ext.apply(c,new Ext.util.Observable());Ext.util.Observable.capture(c.prototype,c.fireEvent,c)}if(typeof d=="object"){c.on(d)}return c}};Ext.apply(Ext.EventManager,function(){var q,k,o,r,s=Ext.lib.Dom,l=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,m=0,n=0,p=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{doResizeEvent:function(){var a=s.getViewHeight(),b=s.getViewWidth();if(n!=a||m!=b){q.fire(m=b,n=a)}},onWindowResize:function(a,b,c){if(!q){q=new Ext.util.Event();k=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}q.addListener(a,b,c)},fireWindowResize:function(){if(q){k.delay(100)}},onTextResize:function(d,a,c){if(!o){o=new Ext.util.Event();var b=new Ext.Element(document.createElement("div"));b.dom.className="x-text-resize";b.dom.innerHTML="X";b.appendTo(document.body);r=b.dom.offsetHeight;setInterval(function(){if(b.dom.offsetHeight!=r){o.fire(r,r=b.dom.offsetHeight)}},this.textResizeInterval)}o.addListener(d,a,c)},removeResizeListener:function(a,b){if(q){q.removeListener(a,b)}},fireResize:function(){if(q){q.fire(s.getViewWidth(),s.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,getKeyEvent:function(){return p?"keydown":"keypress"},useKeydown:p}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var c=this,d=this.normalizeKey(c.keyCode);return(d>=33&&d<=40)||d==c.RETURN||d==c.TAB||d==c.ESC},isSpecialKey:function(){var b=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b==this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});Ext.Element.addMethods({swallowEvent:function(g,e){var h=this;function i(a){a.stopPropagation();if(e){a.preventDefault()}}if(Ext.isArray(g)){Ext.each(g,function(a){h.on(a,i)});return h}h.on(g,i);return h},relayEvent:function(d,c){this.on(d,function(a){c.fireEvent(d,a)})},clean:function(h){var l=this,k=l.dom,j=k.firstChild,m=-1;if(Ext.Element.data(k,"isCleaned")&&h!==true){return l}while(j){var i=j.nextSibling;if(j.nodeType==3&&!(/\S/.test(j.nodeValue))){k.removeChild(j)}else{j.nodeIndex=++m}j=i}Ext.Element.data(k,"isCleaned",true);return l},load:function(){var b=this.getUpdater();b.update.apply(b,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(h,i,j){h=(typeof h=="object")?h:{tag:"div",cls:h};var k=this,g=i?Ext.DomHelper.append(i,h,true):Ext.DomHelper.insertBefore(k.dom,h,true);if(j&&k.setBox&&k.getBox){g.setBox(k.getBox())}return g}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;Ext.Element.addMethods({getAnchorXY:function(y,t,h){y=(y||"tl").toLowerCase();h=h||{};var u=this,B=u.dom==document.body||u.dom==document,r=h.width||B?Ext.lib.Dom.getViewWidth():u.getWidth(),w=h.height||B?Ext.lib.Dom.getViewHeight():u.getHeight(),o,C=Math.round,A=u.getXY(),s=u.getScroll(),v=B?s.left:!t?A[0]:0,x=B?s.top:!t?A[1]:0,z={c:[C(r*0.5),C(w*0.5)],t:[C(r*0.5),0],l:[0,C(w*0.5)],r:[r,C(w*0.5)],b:[C(r*0.5),w],tl:[0,0],bl:[0,w],br:[r,w],tr:[r,0]};o=z[y];return[o[0]+v,o[1]+x]},anchorTo:function(v,q,u,w,n,m){var p=this,s=p.dom,o=!Ext.isEmpty(n),t=function(){Ext.fly(s).alignTo(v,q,u,w);Ext.callback(m,Ext.fly(s))},r=this.getAnchor();this.removeAnchor();Ext.apply(r,{fn:t,scroll:o});Ext.EventManager.onWindowResize(t,null);if(o){Ext.EventManager.on(window,"scroll",t,null,{buffer:!isNaN(n)?n:50})}t.call(p);return p},removeAnchor:function(){var c=this,d=this.getAnchor();if(d&&d.fn){Ext.EventManager.removeResizeListener(d.fn);if(d.scroll){Ext.EventManager.un(window,"scroll",d.fn)}delete d.fn}return c},getAnchor:function(){var d=Ext.Element.data,g=this.dom;if(!g){return}var e=d(g,"_anchor");if(!e){e=d(g,"_anchor",{})}return e},getAlignToXY:function(ad,X,W){ad=Ext.get(ad);if(!ad||!ad.dom){throw"Element.alignToXY with an element that doesn't exist"}W=W||[0,0];X=(!X||X=="?"?"tl-bl?":(!(/-/).test(X)&&X!==""?"tl-"+X:X||"tl-bl")).toLowerCase();var o=this,w=o.dom,d,h,Y,Z,T,P,y,R=Ext.lib.Dom.getViewWidth()-10,x=Ext.lib.Dom.getViewHeight()-10,af,ac,ab,aa,O,m,c=document,p=c.documentElement,V=c.body,Q=(p.scrollLeft||V.scrollLeft||0)+5,S=(p.scrollTop||V.scrollTop||0)+5,r=false,ae="",ag="",U=X.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!U){throw"Element.alignTo with an invalid alignment "+X}ae=U[1];ag=U[2];r=!!U[3];d=o.getAnchorXY(ae,true);h=ad.getAnchorXY(ag,false);Y=h[0]-d[0]+W[0];Z=h[1]-d[1]+W[1];if(r){T=o.getWidth();P=o.getHeight();y=ad.getRegion();af=ae.charAt(0);ac=ae.charAt(ae.length-1);ab=ag.charAt(0);aa=ag.charAt(ag.length-1);O=((af=="t"&&ab=="b")||(af=="b"&&ab=="t"));m=((ac=="r"&&aa=="l")||(ac=="l"&&aa=="r"));if(Y+T>R+Q){Y=m?y.left-T:R+Q-T}if(Y<Q){Y=m?y.right:Q}if(Z+P>x+S){Z=O?y.top-P:x+S-P}if(Z<S){Z=O?y.bottom:S}}return[Y,Z]},alignTo:function(k,h,i,g){var j=this;return j.setXY(j.getAlignToXY(k,h,i),j.preanim&&!!g?j.preanim(arguments,3):false)},adjustForConstraints:function(g,e,d){return this.getConstrainToXY(e||document,false,d,g)||g},getConstrainToXY:function(g,h,k,i){var j={top:0,left:0,bottom:0,right:0};return function(M,E,J,H){M=Ext.get(M);J=J?Ext.applyIf(J,j):j;var a,e,b=0,c=0;if(M.dom==document.body||M.dom==document){a=Ext.lib.Dom.getViewWidth();e=Ext.lib.Dom.getViewHeight()}else{a=M.dom.clientWidth;e=M.dom.clientHeight;if(!E){var d=M.getXY();b=d[0];c=d[1]}}var w=M.getScroll();b+=J.left+w.left;c+=J.top+w.top;a-=J.right;e-=J.bottom;var x=b+a,N=c+e,L=H||(!E?this.getXY():[this.getLeft(true),this.getTop(true)]),F=L[0],G=L[1],K=this.getConstrainOffset(),y=this.dom.offsetWidth+K,s=this.dom.offsetHeight+K;var I=false;if((F+y)>x){F=x-y;I=true}if((G+s)>N){G=N-s;I=true}if(F<b){F=b;I=true}if(G<c){G=c;I=true}return I?[F,G]:false}}(),getConstrainOffset:function(){return 0},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(b){return this.alignTo(b||document,"c-c")}});Ext.Element.addMethods({select:function(d,c){return Ext.Element.select(d,c,this.dom)}});Ext.apply(Ext.Element.prototype,function(){var g=Ext.getDom,e=Ext.get,d=Ext.DomHelper;return{insertSibling:function(c,m,l){var b=this,n,o=(m||"before").toLowerCase()=="after",a;if(Ext.isArray(c)){a=b;Ext.each(c,function(h){n=Ext.fly(a,"_internal").insertSibling(h,m,l);if(o){a=n}});return n}c=c||{};if(c.nodeType||c.dom){n=b.dom.parentNode.insertBefore(g(c),o?b.dom.nextSibling:b.dom);if(!l){n=e(n)}}else{if(o&&!b.dom.nextSibling){n=d.append(b.dom.parentNode,c,!l)}else{n=d[o?"insertAfter":"insertBefore"](b.dom,c,!l)}}return n}}}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var d="_internal",c=/(\d+\.?\d+)px/;return{applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},getStyles:function(){var a={};Ext.each(arguments,function(b){a[b]=this.getStyle(b)},this);return a},setOverflow:function(b){var a=this.dom;if(b=="auto"&&Ext.isMac&&Ext.isGecko2){a.style.overflow="hidden";(function(){a.style.overflow="auto"}).defer(1)}else{a.style.overflow=b}},boxWrap:function(b){b=b||"x-box";var a=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+String.format(Ext.Element.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",a.dom).appendChild(this.dom);return a},setSize:function(b,i,h){var a=this;if(typeof b=="object"){i=b.height;b=b.width}b=a.adjustWidth(b);i=a.adjustHeight(i);if(!h||!a.anim){a.dom.style.width=a.addUnits(b);a.dom.style.height=a.addUnits(i)}else{a.anim({width:{to:b},height:{to:i}},a.preanim(arguments,2))}return a},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle("height"))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("tb")}}return b},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){a+=this.getFrameWidth("lr")}}return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:(this.getPadding(a)+this.getBorderWidth(a))},addClassOnOver:function(a){this.hover(function(){Ext.fly(this,d).addClass(a)},function(){Ext.fly(this,d).removeClass(a)});return this},addClassOnFocus:function(a){this.on("focus",function(){Ext.fly(this,d).addClass(a)},this.dom);this.on("blur",function(){Ext.fly(this,d).removeClass(a)},this.dom);return this},addClassOnClick:function(b){var a=this.dom;this.on("mousedown",function(){Ext.fly(a,d).addClass(b);var h=Ext.getDoc(),i=function(){Ext.fly(a,d).removeClass(b);h.removeListener("mouseup",i)};h.on("mouseup",i)});return this},getViewSize:function(){var b=document,a=this.dom,j=(a==b||a==b.body);if(j){var i=Ext.lib.Dom;return{width:i.getViewWidth(),height:i.getViewHeight()}}else{return{width:a.clientWidth,height:a.clientHeight}}},getStyleSize:function(){var n=this,r,o,b=document,a=this.dom,q=(a==b||a==b.body),p=a.style;if(q){var h=Ext.lib.Dom;return{width:h.getViewWidth(),height:h.getViewHeight()}}if(p.width&&p.width!="auto"){r=parseFloat(p.width);if(n.isBorderBox()){r-=n.getFrameWidth("lr")}}if(p.height&&p.height!="auto"){o=parseFloat(p.height);if(n.isBorderBox()){o-=n.getFrameWidth("tb")}}return{width:r||n.getWidth(true),height:o||n.getHeight(true)}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(a).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(j){var i=this,k,b={t:"top",l:"left",r:"right",b:"bottom"},a={};if(!j){for(k in i.margins){a[b[k]]=parseFloat(i.getStyle(i.margins[k]))||0}return a}else{return i.addStyles.call(i,j,i.margins)}}}}());Ext.Element.addMethods({setBox:function(k,j,h){var l=this,i=k.width,m=k.height;if((j&&!l.autoBoxAdjust)&&!l.isBorderBox()){i-=(l.getBorderWidth("lr")+l.getPadding("lr"));m-=(l.getBorderWidth("tb")+l.getPadding("tb"))}l.setBounds(k.x,k.y,i,m,l.animTest.call(l,arguments,h,2));return l},getBox:function(x,h){var t=this,E,A,l,B=t.getBorderWidth,b=t.getPadding,z,D,F,r;if(!h){E=t.getXY()}else{A=parseInt(t.getStyle("left"),10)||0;l=parseInt(t.getStyle("top"),10)||0;E=[A,l]}var C=t.dom,G=C.offsetWidth,y=C.offsetHeight,w;if(!x){w={x:E[0],y:E[1],0:E[0],1:E[1],width:G,height:y}}else{z=B.call(t,"l")+b.call(t,"l");D=B.call(t,"r")+b.call(t,"r");F=B.call(t,"t")+b.call(t,"t");r=B.call(t,"b")+b.call(t,"b");w={x:E[0]+z,y:E[1]+F,0:E[0]+z,1:E[1]+F,width:G-(z+D),height:y-(F+r)}}w.right=w.x+w.width;w.bottom=w.y+w.height;return w},move:function(q,x,w){var t=this,n=t.getXY(),p=n[0],r=n[1],v=[p-x,r],o=[p+x,r],s=[p,r-x],y=[p,r+x],u={l:v,left:v,r:o,right:o,t:s,top:s,up:s,b:y,bottom:y,down:y};q=q.toLowerCase();t.moveTo(u[q][0],u[q][1],t.animTest.call(t,arguments,w,2))},setLeftTop:function(h,i){var e=this,g=e.dom.style;g.left=e.addUnits(h);g.top=e.addUnits(i);return e},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(h,j,l,i,m){var k=this;if(!m||!k.anim){k.setSize(l,i);k.setLocation(h,j)}else{k.anim({points:{to:[h,j]},width:{to:k.adjustWidth(l)},height:{to:k.adjustHeight(i)}},k.preanim(arguments,4),"motion")}return k},setRegion:function(c,d){return this.setBounds(c.left,c.top,c.right-c.left,c.bottom-c.top,this.animTest.call(this,arguments,d,1))}});Ext.Element.addMethods({scrollTo:function(i,n,j){var m=/top/i.test(i),o=this,l=o.dom,k;if(!j||!o.anim){k="scroll"+(m?"Top":"Left");l[k]=n}else{k="scroll"+(m?"Left":"Top");o.anim({scroll:{to:m?[l[k],n]:[n,l[k]]}},o.preanim(arguments,2),"scroll")}return o},scrollIntoView:function(y,v){var c=Ext.getDom(y)||Ext.getBody().dom,w=this.dom,x=this.getOffsetsTo(c),r=x[0]+c.scrollLeft,B=x[1]+c.scrollTop,b=B+w.offsetHeight,z=r+w.offsetWidth,A=c.clientHeight,o=parseInt(c.scrollTop,10),C=parseInt(c.scrollLeft,10),t=o+A,l=C+c.clientWidth;if(w.offsetHeight>A||B<o){c.scrollTop=B}else{if(b>t){c.scrollTop=b-A}}c.scrollTop=c.scrollTop;if(v!==false){if(w.offsetWidth>c.clientWidth||r<C){c.scrollLeft=r}else{if(z>l){c.scrollLeft=z-c.clientWidth}}c.scrollLeft=c.scrollLeft}return this},scrollChildIntoView:function(c,d){Ext.fly(c,"_scrollChildIntoView").scrollIntoView(this,d)},scroll:function(r,z,x){if(!this.isScrollable()){return false}var w=this.dom,v=w.scrollLeft,h=w.scrollTop,q=w.scrollWidth,s=w.scrollHeight,u=w.clientWidth,A=w.clientHeight,y=false,l,t={l:Math.min(v+z,q-u),r:l=Math.max(v-z,0),t:Math.max(h-z,0),b:Math.min(h+z,s-A)};t.d=t.b;t.u=t.t;r=r.substr(0,1);if((l=t[r])>-1){y=true;this.scrollTo(r=="l"||r=="r"?"left":"top",l,this.preanim(arguments,2))}return y}});Ext.Element.addMethods(function(){var n="visibility",i="display",j="hidden",k="none",o="x-masked",l="x-masked-relative",m=Ext.Element.data;return{isVisible:function(c){var b=!this.isStyle(n,j)&&!this.isStyle(i,k),a=this.dom.parentNode;if(c!==true||!b){return b}while(a&&!(/^body/i.test(a.tagName))){if(!Ext.fly(a,"_isVisible").isVisible()){return false}a=a.parentNode}return true},isDisplayed:function(){return !this.isStyle(i,k)},enableDisplayMode:function(a){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(a)){m(this.dom,"originalDisplay",a)}return this},mask:function(r,d){var b=this,g=b.dom,c=Ext.DomHelper,e="ext-el-mask-msg",s,a;if(!/^body/i.test(g.tagName)&&b.getStyle("position")=="static"){b.addClass(l)}if(s=m(g,"maskMsg")){s.remove()}if(s=m(g,"mask")){s.remove()}a=c.append(g,{cls:"ext-el-mask"},true);m(g,"mask",a);b.addClass(o);a.setDisplayed(true);if(typeof r=="string"){var h=c.append(g,{cls:e,cn:{tag:"div"}},true);m(g,"maskMsg",h);h.dom.className=d?e+" "+d:e;h.dom.firstChild.innerHTML=r;h.setDisplayed(true);h.center(b)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&b.getStyle("height")=="auto"){a.setSize(undefined,b.getHeight())}return a},unmask:function(){var b=this,a=b.dom,d=m(a,"mask"),c=m(a,"maskMsg");if(d){if(c){c.remove();m(a,"maskMsg",undefined)}d.remove();m(a,"mask",undefined);b.removeClass([o,l])}},isMasked:function(){var a=m(this.dom,"mask");return a&&a.isVisible()},createShim:function(){var b=document.createElement("iframe"),a;b.frameBorder="0";b.className="ext-shim";b.src=Ext.SSL_SECURE_URL;a=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));a.autoBoxAdjust=false;return a}}}());Ext.Element.addMethods({addKeyListener:function(e,h,i){var g;if(typeof e!="object"||Ext.isArray(e)){g={key:e,fn:h,scope:i}}else{g={key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:h,scope:i}}return new Ext.KeyMap(this,g)},addKeyMap:function(b){return new Ext.KeyMap(this,b)}});Ext.CompositeElementLite.importElementMethods();Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(g,e){if(!g){return this}if(typeof g=="string"){g=Ext.Element.selectorFunction(g,e)}var d=this.elements;Ext.each(g,function(a){d.push(Ext.get(a))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},removeElement:function(j,i){var k=this,h=this.elements,g;Ext.each(j,function(a){if((g=(h[a]||h[a=k.indexOf(a)]))){if(i){if(g.dom){g.remove()}else{Ext.removeNode(g)}}h.splice(a,1)}});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(c,d){this.elements=[];this.add(c,d)},getElement:function(b){return b},transformElement:function(b){return Ext.get(b)}});Ext.Element.select=function(g,h,e){var i;if(typeof g=="string"){i=Ext.Element.selectorFunction(g,e)}else{if(g.length!==undefined){i=g}else{throw"Invalid selector"}}return(h===true)?new Ext.CompositeElement(i):new Ext.CompositeElementLite(i)};Ext.select=Ext.Element.select;Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var h="beforeupdate",l="update",m="failure";function i(c){var b=this;b.transaction=null;if(c.argument.form&&c.argument.reset){try{c.argument.form.reset()}catch(a){}}if(b.loadScripts){b.renderer.render(b.el,c,b,j.createDelegate(b,[c]))}else{b.renderer.render(b.el,c,b);j.call(b,c)}}function j(c,b,a){this.fireEvent(b||l,this.el,c);if(Ext.isFunction(c.argument.callback)){c.argument.callback.call(c.argument.scope,this.el,Ext.isEmpty(a)?true:false,c,c.argument.options)}}function k(a){j.call(this,a,m,!!(this.transaction=null))}return{constructor:function(b,c){var a=this;b=Ext.get(b);if(!c&&b.updateManager){return b.updateManager}a.el=b;a.defaultUrl=null;a.addEvents(h,l,m);Ext.apply(a,Ext.Updater.defaults);a.transaction=null;a.refreshDelegate=a.refresh.createDelegate(a);a.updateDelegate=a.update.createDelegate(a);a.formUpdateDelegate=(a.formUpdate||function(){}).createDelegate(a);a.renderer=a.renderer||a.getDefaultRenderer();Ext.Updater.superclass.constructor.call(a)},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(a){this.defaultUrl=a},getEl:function(){return this.el},update:function(e,q,o,b){var c=this,g,d;if(c.fireEvent(h,c.el,e,q)!==false){if(Ext.isObject(e)){g=e;e=g.url;q=q||g.params;o=o||g.callback;b=b||g.discardUrl;d=g.scope;if(!Ext.isEmpty(g.nocache)){c.disableCaching=g.nocache}if(!Ext.isEmpty(g.text)){c.indicatorText='<div class="loading-indicator">'+g.text+"</div>"}if(!Ext.isEmpty(g.scripts)){c.loadScripts=g.scripts}if(!Ext.isEmpty(g.timeout)){c.timeout=g.timeout}}c.showLoading();if(!b){c.defaultUrl=e}if(Ext.isFunction(e)){e=e.call(c)}var a=Ext.apply({},{url:e,params:(Ext.isFunction(q)&&d)?q.createDelegate(d):q,success:i,failure:k,scope:c,callback:undefined,timeout:(c.timeout*1000),disableCaching:c.disableCaching,argument:{options:g,url:e,form:null,callback:o,scope:d||window,params:q}},g);c.transaction=Ext.Ajax.request(a)}},formUpdate:function(b,e,c,a){var d=this;if(d.fireEvent(h,d.el,b,e)!==false){if(Ext.isFunction(e)){e=e.call(d)}b=Ext.getDom(b);d.transaction=Ext.Ajax.request({form:b,url:e,success:i,failure:k,scope:d,timeout:(d.timeout*1000),argument:{url:e,form:b,callback:a,reset:c}});d.showLoading.defer(1,d)}},startAutoRefresh:function(e,d,b,a,g){var c=this;if(g){c.update(d||c.defaultUrl,b,a,true)}if(c.autoRefreshProcId){clearInterval(c.autoRefreshProcId)}c.autoRefreshProcId=setInterval(c.update.createDelegate(c,[d||c.defaultUrl,b,a,true]),e*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(a){if(this.defaultUrl){this.update(this.defaultUrl,null,a,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(j,k,i,g){var h=Ext.get(j).getUpdater();Ext.apply(h,g);h.update(k,i,g?g.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(i,g,e,h){i.update(g.responseText,e.loadScripts,h)}};(function(){Date.useStrict=false;function c(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(i,h){return b[h]})}Date.formatCodeToRegex=function(b,g){var a=Date.parseCodes[b];if(a){a=typeof a=="function"?a():a;Date.parseCodes[b]=a}return a?Ext.applyIf({c:a.c?c(a.c,g||"{0}"):a.c},a):{g:0,c:null,s:Ext.escapeRe(b)}};var d=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(h,i){var b=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var a=(h||"").match(b);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var a="Y-m-dTH:i:sP",e=[],i=0,l=a.length;i<l;++i){var b=a.charAt(i);e.push(b=="T"?"'T'":Date.getFormatCode(b))}return e.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(p,r,q,b,i,h,m){b=b||0;i=i||0;h=h||0;m=m||0;var a=new Date(p<100?100:p,r-1,q,b,i,h,m).add(Date.YEAR,p<100?p-100:0);return p==a.getFullYear()&&r==a.getMonth()+1&&q==a.getDate()&&b==a.getHours()&&i==a.getMinutes()&&h==a.getSeconds()&&m==a.getMilliseconds()},parseDate:function(h,a,i){var b=Date.parseFunctions;if(b[a]==null){Date.createParser(a)}return b[a](h,Ext.isDefined(i)?i:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];if(b){b=typeof b=="function"?b():b;Date.formatCodes[a]=b}return b||("'"+String.escape(a)+"'")},createFormat:function(a){var b=[],k=false,i="";for(var j=0;j<a.length;++j){i=a.charAt(j);if(!k&&i=="\\"){k=true}else{if(k){k=false;b.push("'"+String.escape(i)+"'")}else{b.push(Date.getFormatCode(i))}}}Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y < 100 ? 100 : y, m, d, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(p){var v=Date.parseRegexes.length,b=1,u=[],q=[],r=false,w="",s=0,t,i;for(;s<p.length;++s){w=p.charAt(s);if(!r&&w=="\\"){r=true}else{if(r){r=false;q.push(String.escape(w))}else{t=d(w,b);b+=t.g;q.push(t.s);if(t.g&&t.c){if(t.calcLast){i=t.c}else{u.push(t.c)}}}}}if(i){u.push(i)}Date.parseRegexes[v]=new RegExp("^"+q.join("")+"$","i");Date.parseFunctions[p]=new Function("input","strict",c(a,v,u.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(Date.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(Date.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},d("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return d("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return d("A")},A:{calcLast:true,g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return d("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return d("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],i=[d("Y",1),d("m",2),d("d",3),d("h",4),d("i",5),d("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d("P",8).c,"}else{",d("O",8).c,"}","}"].join("\n")}];for(var a=0,h=i.length;a<h;++a){b.push(i[a].c)}return{g:1,c:b.join(""),s:[i[0].s,"(?:","-",i[1].s,"(?:","-",i[2].s,"(?:","(?:T| )?",i[3].s,":",i[4].s,"(?::",i[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createFormat(b)}return Date.formatFunctions[b].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var d=0,h=this.clone(),g=this.getMonth(),i;for(i=0,h.setDate(1),h.setMonth(0);i<g;h.setMonth(++i)){d+=h.getDaysInMonth()}return d+this.getDate()-1},getWeekOfYear:function(){var d=86400000,c=7*d;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/d,g=Math.floor(b/7),a=new Date(g*c).getUTCFullYear();return g-Math.floor(Date.UTC(a,0,7)/c)+1}}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)))},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var a=this.getMonth();return a==1&&this.isLeapYear()?29:b[a]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(h){if(h){return this.clone().clearTime()}var c=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=c){for(var d=1,i=this.add(Date.HOUR,d);i.getDate()!=c;d++,i=this.add(Date.HOUR,d)){}this.setDate(c);this.setHours(i.getHours())}return this},add:function(d,i){var h=this.clone();if(!d||i===0){return h}switch(d.toLowerCase()){case Date.MILLI:h.setMilliseconds(this.getMilliseconds()+i);break;case Date.SECOND:h.setSeconds(this.getSeconds()+i);break;case Date.MINUTE:h.setMinutes(this.getMinutes()+i);break;case Date.HOUR:h.setHours(this.getHours()+i);break;case Date.DAY:h.setDate(this.getDate()+i);break;case Date.MONTH:var g=this.getDate();if(g>28){g=Math.min(g,this.getFirstDateOfMonth().add("mo",i).getLastDateOfMonth().getDate())}h.setDate(g);h.setMonth(this.getMonth()+i);break;case Date.YEAR:h.setFullYear(this.getFullYear()+i);break}return h},between:function(g,e){var d=this.getTime();return g.getTime()<=d&&d<=e.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(g){if(g<=-1){var h=Math.ceil(-g),i=Math.ceil(h/12),e=(h%12)?12-h%12:0;this.setFullYear(this.getFullYear()-i);return this._xMonth(e)}else{return this._xMonth(g)}},setDate:function(b){return this.setTime(this.getTime()-(this.getDate()-b)*86400000)}})}Ext.util.MixedCollection=function(c,d){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=c===true;if(d){this.getKey=d}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(d,g){if(arguments.length==1){g=arguments[0];d=this.getKey(g)}if(typeof d!="undefined"&&d!==null){var e=this.map[d];if(typeof e!="undefined"){return this.replace(d,g)}this.map[d]=g}this.length++;this.items.push(g);this.keys.push(d);this.fireEvent("add",this.length-1,g,d);return g},getKey:function(b){return b.id},replace:function(i,h){if(arguments.length==1){h=arguments[0];i=this.getKey(h)}var g=this.map[i];if(typeof i=="undefined"||i===null||typeof g=="undefined"){return this.add(i,h)}var e=this.indexOfKey(i);this.items[e]=h;this.map[i]=h;this.fireEvent("replace",i,g,h);return h},addAll:function(i){if(arguments.length>1||Ext.isArray(i)){var g=arguments.length>1?arguments:i;for(var j=0,h=g.length;j<h;j++){this.add(g[j])}}else{for(var k in i){if(this.allowFunctions||typeof i[k]!="function"){this.add(k,i[k])}}}},each:function(i,j){var g=[].concat(this.items);for(var k=0,h=g.length;k<h;k++){if(i.call(j||g[k],g[k],k,h)===false){break}}},eachKey:function(h,i){for(var e=0,g=this.keys.length;e<g;e++){h.call(i||window,this.keys[e],this.items[e],e,g)}},find:function(h,i){for(var e=0,g=this.items.length;e<g;e++){if(h.call(i||window,this.items[e],this.keys[e])){return this.items[e]}}return null},insert:function(e,d,g){if(arguments.length==2){g=arguments[1];d=this.getKey(g)}if(this.containsKey(d)){this.suspendEvents();this.removeKey(d);this.resumeEvents()}if(e>=this.length){return this.add(d,g)}this.length++;this.items.splice(e,0,g);if(typeof d!="undefined"&&d!==null){this.map[d]=g}this.keys.splice(e,0,d);this.fireEvent("add",e,g,d);return g},remove:function(b){return this.removeAt(this.indexOf(b))},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var g=this.items[e];this.items.splice(e,1);var d=this.keys[e];if(typeof d!="undefined"){delete this.map[d]}this.keys.splice(e,1);this.fireEvent("remove",g,d);return g}return false},removeKey:function(b){return this.removeAt(this.indexOfKey(b))},getCount:function(){return this.length},indexOf:function(b){return this.items.indexOf(b)},indexOfKey:function(b){return this.keys.indexOf(b)},item:function(d){var e=this.map[d],g=e!==undefined?e:(typeof d=="number")?this.items[d]:undefined;return typeof g!="function"||this.allowFunctions?g:null},itemAt:function(b){return this.items[b]},key:function(b){return this.map[b]},contains:function(b){return this.indexOf(b)!=-1},containsKey:function(b){return typeof this.map[b]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(i,s,m){var q,p,r=String(s).toUpperCase()=="DESC"?-1:1,n=[],c=this.keys,o=this.items;m=m||function(a,b){return a-b};for(q=0,p=o.length;q<p;q++){n[n.length]={key:c[q],value:o[q],index:q}}n.sort(function(b,d){var a=m(b[i],d[i])*r;if(a===0){a=(b.index<d.index?-1:1)}return a});for(q=0,p=n.length;q<p;q++){o[q]=n[q].value;c[q]=n[q].key}this.fireEvent("sort",this)},sort:function(d,c){this._sort("value",d,c)},reorder:function(n){this.suspendEvents();var i=this.items,o=0,l=i.length,j=[],m=[],k;for(k in n){j[n[k]]=i[k]}for(o=0;o<l;o++){if(n[o]==undefined){m.push(i[o])}}for(o=0;o<l;o++){if(j[o]==undefined){j[o]=m.shift()}}this.clear();this.addAll(j);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(d,c){this._sort("key",d,c||function(h,i){var a=String(h).toUpperCase(),b=String(i).toUpperCase();return a>b?1:(a<b?-1:0)})},getRange:function(i,h){var g=this.items;if(g.length<1){return[]}i=i||0;h=Math.min(typeof h=="undefined"?this.length-1:h,this.length-1);var k,j=[];if(i<=h){for(k=i;k<=h;k++){j[j.length]=g[k]}}else{for(k=i;k>=h;k--){j[j.length]=g[k]}}return j},filter:function(i,e,h,g){if(Ext.isEmpty(e,false)){return this.clone()}e=this.createValueMatcher(e,h,g);return this.filterBy(function(a){return a&&e.test(a[i])})},filterBy:function(l,m){var k=new Ext.util.MixedCollection();k.getKey=this.getKey;var i=this.keys,n=this.items;for(var o=0,j=n.length;o<j;o++){if(l.call(m||this,n[o],i[o])){k.add(i[o],n[o])}}return k},findIndex:function(k,g,i,j,h){if(Ext.isEmpty(g,false)){return -1}g=this.createValueMatcher(g,j,h);return this.findIndexBy(function(a){return a&&g.test(a[k])},null,i)},findIndexBy:function(l,m,k){var i=this.keys,n=this.items;for(var o=(k||0),j=n.length;o<j;o++){if(l.call(m||this,n[o],i[o])){return o}}return -1},createValueMatcher:function(k,i,h,g){if(!k.exec){var j=Ext.escapeRe;k=String(k);if(i===true){k=j(k)}else{k="^"+j(k);if(g===true){k+="$"}}k=new RegExp(k,h?"":"i")}return k},clone:function(){var i=new Ext.util.MixedCollection();var g=this.keys,j=this.items;for(var k=0,h=j.length;k<h;k++){i.add(g[k],j[k])}i.getKey=this.getKey;return i}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(b){Ext.apply(this,b||{});this.all=new Ext.util.MixedCollection();this.types={}},get:function(b){return this.all.get(b)},register:function(b){this.all.add(b)},unregister:function(b){this.all.remove(b)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c},isRegistered:function(b){return this.types[b]!==undefined},create:function(g,h){var e=g[this.typeName]||g.type||h,i=this.types[e];if(i==undefined){throw new Error(String.format("The '{0}' type has not been registered with this manager",e))}return new i(g)},onAvailable:function(h,i,e){var g=this.all;g.on("add",function(b,a){if(a.id==h){i.call(e||a,a);g.un("add",i,e)}})}});Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3,i;for(i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var m=this,N=m.html,G=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,R=/^<tpl\b[^>]*?for="(.*?)"/,C=/^<tpl\b[^>]*?if="(.*?)"/,s=/^<tpl\b[^>]*?exec="(.*?)"/,F,I=0,M=[],J="values",B="parent",L="xindex",K="xcount",Q="return ",S="with(values){ ";N=["<tpl>",N,"</tpl>"].join("");while((F=N.match(G))){var T=F[0].match(R),U=F[0].match(C),H=F[0].match(s),P=null,O=null,E=null,i=T&&T[1]?T[1]:"";if(U){P=U&&U[1]?U[1]:null;if(P){O=new Function(J,B,L,K,S+Q+(Ext.util.Format.htmlDecode(P))+"; }")}}if(H){P=H&&H[1]?H[1]:null;if(P){E=new Function(J,B,L,K,S+(Ext.util.Format.htmlDecode(P))+"; }")}}if(i){switch(i){case".":i=new Function(J,B,S+Q+J+"; }");break;case"..":i=new Function(J,B,S+Q+B+"; }");break;default:i=new Function(J,B,S+Q+i+"; }")}}M.push({id:I,target:i,exec:E,test:O,body:F[1]||""});N=N.replace(F[0],"{xtpl"+I+"}");++I}for(var D=M.length-1;D>=0;--D){m.compileTpl(M[D])}m.master=M[M.length-1];m.tpls=M};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(w,o,p,t,u){var q=this,r,i=q.tpls[w],n,v=[];if((i.test&&!i.test.call(q,o,p,t,u))||(i.exec&&i.exec.call(q,o,p,t,u))){return""}n=i.target?i.target.call(q,o,p):o;r=n.length;p=i.target?o:p;if(i.target&&Ext.isArray(n)){for(var s=0,r=n.length;s<r;s++){v[v.length]=i.compiled.call(q,n[s],p,s+1,r)}return v.join("")}return i.compiled.call(q,n,p,t,u)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML)};Ext.util.CSS=function(){var h=null;var i=document;var e=/(-[a-z])/gi;var g=function(b,a){return a.charAt(1).toUpperCase()};return{createStyleSheet:function(d,a){var m;var n=i.getElementsByTagName("head")[0];var b=i.createElement("style");b.setAttribute("type","text/css");if(a){b.setAttribute("id",a)}if(Ext.isIE){n.appendChild(b);m=b.styleSheet;m.cssText=d}else{try{b.appendChild(i.createTextNode(d))}catch(c){b.cssText=d}n.appendChild(b);m=b.styleSheet?b.styleSheet:(b.sheet||i.styleSheets[i.styleSheets.length-1])}this.cacheStyleSheet(m);return m},removeStyleSheet:function(a){var b=i.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var b=i.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);i.getElementsByTagName("head")[0].appendChild(b)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(c){if(!h){h={}}try{var a=c.cssRules||c.rules;for(var d=a.length-1;d>=0;--d){h[a[d].selectorText.toLowerCase()]=a[d]}}catch(b){}},getRules:function(d){if(h===null||d){h={};var b=i.styleSheets;for(var c=0,m=b.length;c<m;c++){try{this.cacheStyleSheet(b[c])}catch(a){}}}return h},getRule:function(d,b){var c=this.getRules(b);if(!Ext.isArray(d)){return c[d.toLowerCase()]}for(var a=0;a<d.length;a++){if(c[d[a]]){return c[d[a].toLowerCase()]}}return null},updateRule:function(l,b,c){if(!Ext.isArray(l)){var a=this.getRule(l);if(a){a.style[b.replace(e,g)]=c;return true}}else{for(var d=0;d<l.length;d++){if(this.updateRule(l[d],b,c)){return true}}}return false}}}();Ext.util.ClickRepeater=Ext.extend(Ext.util.Observable,{constructor:function(c,d){this.el=Ext.get(c);this.el.unselectable();Ext.apply(this,d);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(b){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b)},handleMouseDown:function(b){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this,[b])},click:function(b){this.fireEvent("click",this,b);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(b){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this,b)}});Ext.KeyNav=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(g){var e=g.getKey(),d=this.keyToHandler[e];if(d&&this[d]){if(this.doRelay(g,this[d],d)!==true){g[this.defaultEventAction]()}}},doRelay:function(g,d,e){return d.call(this.scope||this,g,e)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(c){var d=c.getKey();if(d>=37&&d<=40){c.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(b){this[b?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(g,d,e){this.el=Ext.get(g);this.eventName=e||"keydown";this.bindings=[];if(d){this.addBinding(d)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(t){if(Ext.isArray(t)){Ext.each(t,function(a){this.addBinding(a)},this);return}var m=t.key,p=t.fn||t.handler,j=t.scope;if(t.stopEvent){this.stopEvent=t.stopEvent}if(typeof m=="string"){var o=[];var q=m.toUpperCase();for(var s=0,r=q.length;s<r;s++){o.push(q.charCodeAt(s))}m=o}var u=Ext.isArray(m);var n=function(c){if(this.checkModifiers(t,c)){var a=c.getKey();if(u){for(var d=0,b=m.length;d<b;d++){if(m[d]==a){if(this.stopEvent){c.stopEvent()}p.call(j||window,a,c);return}}}else{if(a==m){if(this.stopEvent){c.stopEvent()}p.call(j||window,a,c)}}}};this.bindings.push(n)},checkModifiers:function(e,l){var k,n,m=["shift","ctrl","alt"];for(var o=0,i=m.length;o<i;++o){n=m[o];k=e[n];if(!(k===undefined||(k===l[n+"Key"]))){return false}}return true},on:function(i,n,o){var k,j,m,l;if(typeof i=="object"&&!Ext.isArray(i)){k=i.key;j=i.shift;m=i.ctrl;l=i.alt}else{k=i}this.addBinding({key:k,shift:j,ctrl:m,alt:l,fn:n,scope:o})},handleKeyDown:function(e){if(this.enabled){var i=this.bindings;for(var h=0,b=i.length;h<b;h++){i[h].call(this,e)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(b){this[b?"disable":"enable"]()}};Ext.util.TextMetrics=function(){var b;return{measure:function(a,g,e){if(!b){b=Ext.util.TextMetrics.Instance(a,e)}b.bind(a);b.setFixedWidth(e||"auto");return b.getSize(g)},createInstance:function(a,d){return Ext.util.TextMetrics.Instance(a,d)}}}();Ext.util.TextMetrics.Instance=function(e,h){var i=new Ext.Element(document.createElement("div"));document.body.appendChild(i.dom);i.position("absolute");i.setLeftTop(-1000,-1000);i.hide();if(h){i.setWidth(h)}var g={getSize:function(a){i.update(a);var b=i.getSize();i.update("");return b},bind:function(a){i.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){i.setWidth(a)},getWidth:function(a){i.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};g.bind(e);return g};Ext.Element.addMethods({getTextWidth:function(g,d,e){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width).constrain(d||0,e||1000000)}});Ext.util.Cookies={set:function(q,o){var k=arguments;var l=arguments.length;var j=(l>2)?k[2]:null;var m=(l>3)?k[3]:"/";var p=(l>4)?k[4]:null;var n=(l>5)?k[5]:false;document.cookie=q+"="+escape(o)+((j===null)?"":("; expires="+j.toGMTString()))+((m===null)?"":("; path="+m))+((p===null)?"":("; domain="+p))+((n===true)?"; secure":"")},get:function(l){var h=l+"=";var j=h.length;var i=document.cookie.length;var k=0;var m=0;while(k<i){m=k+j;if(document.cookie.substring(k,m)==h){return Ext.util.Cookies.getCookieVal(m)}k=document.cookie.indexOf(" ",k)+1;if(k===0){break}}return null},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length}return unescape(document.cookie.substring(c,d))}};Ext.handleError=function(b){throw b};Ext.Error=function(b){this.message=(this.lang[b])?this.lang[b]:b};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});Ext.ComponentMgr=function(){var g=new Ext.util.MixedCollection();var d={};var e={};return{register:function(a){g.add(a)},unregister:function(a){g.remove(a)},get:function(a){return g.get(a)},onAvailable:function(a,b,c){g.on("add",function(k,j){if(j.id==a){b.call(c||j,j);g.un("add",b,c)}})},all:g,types:d,ptypes:e,isRegistered:function(a){return d[a]!==undefined},isPluginRegistered:function(a){return e[a]!==undefined},registerType:function(a,b){d[a]=b;b.xtype=a},create:function(b,a){return b.render?b:new d[b.xtype||a](b)},registerPlugin:function(a,b){e[a]=b;b.ptype=a},createPlugin:function(b,a){var c=e[b.ptype||a];if(c.init){return c}else{return new c(b)}}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(d){d=d||{};if(d.initialConfig){if(d.isAction){this.baseAction=d}d=d.initialConfig}else{if(d.tagName||d.dom||Ext.isString(d)){d={applyTo:d,id:d.id||d}}}this.initialConfig=d;Ext.apply(this,d);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var g=0,e=this.plugins.length;g<e;g++){this.plugins[g]=this.initPlugin(this.plugins[g])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState()}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(b){if(b.ptype&&!Ext.isFunction(b.init)){b=Ext.ComponentMgr.createPlugin(b)}else{if(Ext.isString(b)){b=Ext.ComponentMgr.createPlugin({ptype:b})}}b.init(this);return b},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents)},render:function(e,g){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!e&&this.el){this.el=Ext.get(this.el);e=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(e);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(g!==undefined){if(Ext.isNumber(g)){g=this.container.dom.childNodes[g]}else{g=Ext.getDom(g)}}this.onRender(this.container,g||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);var i=this.getContentTarget();if(this.html){i.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var h=Ext.getDom(this.contentEl);Ext.fly(h).removeClass(["x-hidden","x-hide-display"]);i.appendChild(h)}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](i,this.data);delete this.data}}this.afterRender(this.container);if(this.hidden){this.doHide()}if(this.disabled){this.disable(true)}if(this.stateful!==false){this.initStateEvents()}this.fireEvent("afterrender",this)}return this},update:function(g,j,h){var k=this.getContentTarget();if(this.tpl&&typeof g!=="string"){this.tpl[this.tplWriteMode](k,g||{})}else{var i=Ext.isObject(g)?Ext.DomHelper.markup(g):g;k.update(i,j,h)}},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.fireEvent("added",this,d,c)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){var h=this.ref.split("/"),i=h.length,e=0,g=this;while(g&&e<i){g=g.ownerCt;++e}if(g){g[this.refName=h[--e]]=this;this.refOwner=g}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner}},initState:function(){if(Ext.state.Manager){var c=this.getStateId();if(c){var d=Ext.state.Manager.get(c);if(d){if(this.fireEvent("beforestaterestore",this,d)!==false){this.applyState(Ext.apply({},d));this.fireEvent("staterestore",this,d)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var d=0,c;c=this.stateEvents[d];d++){this.on(c,this.saveState,this,{delay:100})}}},applyState:function(b){if(b){Ext.apply(this,b)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var c=this.getStateId();if(c){var d=this.getState();if(this.fireEvent("beforestatesave",this,d)!==false){Ext.state.Manager.set(c,d);this.fireEvent("statesave",this,d)}}}},applyToMarkup:function(b){this.allowDomMove=false;this.el=Ext.get(b);this.render(this.el.dom.parentNode)},addClass:function(b){if(this.el){this.el.addClass(b)}else{this.cls=this.cls?this.cls+" "+b:b}return this},removeClass:function(b){if(this.el){this.el.removeClass(b)}else{if(this.cls){this.cls=this.cls.split(" ").remove(b).join(" ")}}return this},onRender:function(d,e){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl)}else{var g=document.createElement("div");Ext.DomHelper.overwrite(g,this.autoEl);this.el=g.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){d.dom.insertBefore(this.el.dom,e);if(g){Ext.removeNode(g);g=null}}}},getAutoCreate:function(){var b=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!b.id){b.id=this.id}return b},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove()}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}},deleteMembers:function(){var d=arguments;for(var g=0,e=d.length;g<e;++g){delete this[d[g]]}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(c,d){if(d){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[c,false]);this.focusTask.delay(Ext.isNumber(d)?d:10);return this}if(this.rendered&&!this.isDestroyed){this.el.focus();if(c===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(b){if(this.rendered){this.onDisable()}this.disabled=true;if(b!==true){this.fireEvent("disable",this)}return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(b){return this[b?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();this.fireEvent("hide",this)}return this},doHide:function(){this.hidden=true;if(this.rendered){this.onHide()}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(b){return this[b?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(d){d=d||{};var g=d.id||Ext.id();var e=Ext.applyIf(d,this.initialConfig);e.id=g;return new this.constructor(e)},getXType:function(){return this.constructor.xtype},isXType:function(c,d){if(Ext.isFunction(c)){c=c.xtype}else{if(Ext.isObject(c)){c=c.constructor.xtype}}return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.constructor.xtype==c},getXTypes:function(){var e=this.constructor;if(!e.xtypes){var g=[],c=this;while(c&&c.constructor.xtype){g.unshift(c.constructor.xtype);c=c.constructor.superclass}e.xtypeChain=g;e.xtypes=g.join("/")}return e.xtypes},findParentBy:function(d){for(var c=this.ownerCt;(c!=null)&&!d(c,this);c=c.ownerCt){}return c||null},findParentByType:function(c,d){return this.findParentBy(function(a){return a.isXType(c,d)})},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break}h=h.ownerCt}return this},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true})}},clearMons:function(){Ext.each(this.mons,function(b){b.item.un(b.ename,b.fn,b.scope)},this);this.mons=[]},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true})}},mon:function(o,e,p,q,k){this.createMons();if(Ext.isObject(e)){var l=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var m=e;for(var n in m){if(l.test(n)){continue}if(Ext.isFunction(m[n])){this.mons.push({item:o,ename:n,fn:m[n],scope:m.scope});o.on(n,m[n],m.scope,m)}else{this.mons.push({item:o,ename:n,fn:m[n],scope:m.scope});o.on(n,m[n])}}return}this.mons.push({item:o,ename:e,fn:p,scope:q});o.on(e,p,q,k)},mun:function(m,q,n,o){var l,p;this.createMons();for(var i=0,k=this.mons.length;i<k;++i){p=this.mons[i];if(m===p.item&&q==p.ename&&n===p.fn&&o===p.scope){this.mons.splice(i,1);m.un(q,n,o);l=true;break}}return l},nextSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b!=-1&&b+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(b+1)}}return null},previousSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b>0){return this.ownerCt.items.itemAt(b-1)}}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[]},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b])},getText:function(){return this.initialConfig.text},setIconClass:function(b){this.initialConfig.iconCls=b;this.callEach("setIconClass",[b])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(c,d){this.initialConfig.handler=c;this.initialConfig.scope=d;this.callEach("setHandler",[c,d])},each:function(c,d){Ext.each(this.items,c,d)},callEach:function(i,g){var j=this.items;for(var k=0,h=j.length;k<h;k++){j[k][i].apply(j[k],g)}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this)},removeComponent:function(b){this.items.remove(b)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});(function(){Ext.Layer=function(l,m){l=l||{};var k=Ext.DomHelper,b=l.parentEl,j=b?Ext.getDom(b):document.body;if(m){this.dom=Ext.getDom(m)}if(!this.dom){var a=l.dh||{tag:"div",cls:"x-layer"};this.dom=k.append(j,a)}if(l.cls){this.addClass(l.cls)}this.constrain=l.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(l.id){this.id=this.dom.id=l.id}else{this.id=Ext.id(this.dom)}this.zindex=l.zindex||this.getZIndex();this.position("absolute",this.zindex);if(l.shadow){this.shadowOffset=l.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:l.shadow})}else{this.shadowOffset=0}this.useShim=l.shim!==false&&Ext.useShims;this.useDisplay=l.useDisplay;this.hide()};var d=Ext.Element.prototype;var c=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var a=c.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.dom.style.display="none";a.dom.style.visibility="visible"}var b=this.dom.parentNode;if(a.dom.parentNode!=b){b.insertBefore(a.dom,this.dom)}a.setStyle("z-index",this.getZIndex()-2);this.shim=a;return a},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);c.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(a){this.sync(true)}}},sync:function(t){var b=this.shadow;if(!this.updating&&this.isVisible()&&(b||this.useShim)){var q=this.getShim(),h=this.getWidth(),p=this.getHeight(),s=this.getLeft(true),a=this.getTop(true);if(b&&!this.shadowDisabled){if(t&&!b.isVisible()){b.show(this)}else{b.realign(s,a,h,p)}if(q){if(t){q.show()}var l=b.el.getXY(),r=q.dom.style,u=b.el.getSize();r.left=(l[0])+"px";r.top=(l[1])+"px";r.width=(u.width)+"px";r.height=(u.height)+"px"}}else{if(q){if(t){q.show()}q.setSize(h,p);q.setLeftTop(s,a)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(a){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var r=Ext.lib.Dom.getViewWidth(),v=Ext.lib.Dom.getViewHeight();var a=Ext.getDoc().getScroll();var b=this.getXY();var q=b[0],s=b[1];var w=this.shadowOffset;var p=this.dom.offsetWidth+w,u=this.dom.offsetHeight+w;var t=false;if((q+p)>r+a.left){q=r-p-w;t=true}if((s+u)>v+a.top){s=v-u-w;t=true}if(q<a.left){q=a.left;t=true}if(s<a.top){s=a.top;t=true}if(t){if(this.avoidY){var h=this.avoidY;if(s<=h&&(s+u)>=h){s=h-u-5}}b=[q,s];this.storeXY(b);d.setXY.call(this,b);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){d.setXY.call(this,this.lastXY)}else{if(this.lastLT){d.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(m,n,b,a,e){if(m){this.showAction()}if(n&&m){var o=function(){this.sync(true);if(a){a()}}.createDelegate(this);d.setVisible.call(this,true,true,b,o,e)}else{if(!m){this.hideUnders(true)}var o=a;if(n){o=function(){this.hideAction();if(a){a()}}.createDelegate(this)}d.setVisible.call(this,m,n,b,o,e);if(m){this.sync(true)}else{if(!n){this.hideAction()}}}return this},storeXY:function(a){delete this.lastLT;this.lastXY=a},storeLeftTop:function(a,b){delete this.lastXY;this.lastLT=[a,b]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.storeLeftTop(a,this.getTop(true));d.setLeft.apply(this,arguments);this.sync();return this},setTop:function(a){this.storeLeftTop(this.getLeft(true),a);d.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(a,b){this.storeLeftTop(a,b);d.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(e,n,b,a,m){this.fixDisplay();this.beforeAction();this.storeXY(e);var o=this.createCB(a);d.setXY.call(this,e,n,b,o,m);if(!n){o()}return this},createCB:function(a){var b=this;return function(){b.constrainXY();b.sync(true);if(a){a()}}},setX:function(m,l,b,a,e){this.setXY([m,this.getY()],l,b,a,e);return this},setY:function(a,m,e,b,l){this.setXY([this.getX(),a],m,e,b,l);return this},setSize:function(h,e,o,a,q,b){this.beforeAction();var p=this.createCB(q);d.setSize.call(this,h,e,o,a,p,b);if(!o){p()}return this},setWidth:function(m,n,b,a,e){this.beforeAction();var o=this.createCB(a);d.setWidth.call(this,m,n,b,o,e);if(!n){o()}return this},setHeight:function(h,n,b,a,e){this.beforeAction();var o=this.createCB(a);d.setHeight.call(this,h,n,b,o,e);if(!n){o()}return this},setBounds:function(b,h,a,t,e,r,q,s){this.beforeAction();var u=this.createCB(q);if(!e){this.storeXY([b,h]);d.setXY.call(this,[b,h]);d.setSize.call(this,a,t,e,r,u,s);u()}else{d.setBounds.call(this,b,h,a,t,e,r,u,s)}return this},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1)}if(this.shim){this.shim.setStyle("z-index",a)}return this}})})();Ext.Shadow=function(h){Ext.apply(this,h);if(typeof this.mode!="string"){this.mode=this.defaultMode}var g=this.offset,i={h:0},a=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":i.w=0;i.l=i.t=g;i.t-=1;if(Ext.isIE){i.l-=this.offset+a;i.t-=this.offset+a;i.w-=a;i.h-=a;i.t+=1}break;case"sides":i.w=(g*2);i.l=-g;i.t=g-1;if(Ext.isIE){i.l-=(this.offset-a);i.t-=this.offset+a;i.l+=1;i.w-=(this.offset-a)*2;i.w-=a+1;i.h-=1}break;case"frame":i.w=i.h=(g*2);i.l=i.t=-g;i.t+=1;i.h-=2;if(Ext.isIE){i.l-=(this.offset-a);i.t-=(this.offset-a);i.l+=1;i.w-=(this.offset+a+1);i.h-=(this.offset+a);i.h+=1}break}this.adjusts=i};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(b){b=Ext.get(b);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b)}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(B,a,d,y){if(!this.el){return}var s=this.adjusts,v=this.el.dom,C=v.style,x=0,h=(d+s.w),z=(y+s.h),w=h+"px",l=z+"px",t,A;C.left=(B+s.l)+"px";C.top=(a+s.t)+"px";if(C.width!=w||C.height!=l){C.width=w;C.height=l;if(!Ext.isIE){t=v.childNodes;A=Math.max(0,(h-12))+"px";t[0].childNodes[1].style.width=A;t[1].childNodes[1].style.width=A;t[2].childNodes[1].style.width=A;t[1].style.height=Math.max(0,(z-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}}};Ext.Shadow.Pool=function(){var c=[],d=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var a=c.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,d));a.autoBoxAdjust=false}return a},push:function(a){c.push(a)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(h,l){if(typeof h=="object"){l=h.height;h=h.width}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMinWidth)&&(h<this.boxMinWidth)){h=this.boxMinWidth}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMinHeight)&&(l<this.boxMinHeight)){l=this.boxMinHeight}if(Ext.isDefined(h)&&Ext.isDefined(this.boxMaxWidth)&&(h>this.boxMaxWidth)){h=this.boxMaxWidth}if(Ext.isDefined(l)&&Ext.isDefined(this.boxMaxHeight)&&(l>this.boxMaxHeight)){l=this.boxMaxHeight}if(!this.boxReady){this.width=h;this.height=l;return this}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==h&&this.lastSize.height==l){return this}this.lastSize={width:h,height:l};var m=this.adjustSize(h,l),j=m.width,i=m.height,k;if(j!==undefined||i!==undefined){k=this.getResizeEl();if(!this.deferHeight&&j!==undefined&&i!==undefined){k.setSize(j,i)}else{if(!this.deferHeight&&i!==undefined){k.setHeight(i)}else{if(j!==undefined){k.setWidth(j)}}}this.onResize(j,i,h,l);this.fireEvent("resize",this,j,i,h,l)}return this},setWidth:function(b){return this.setSize(b)},setHeight:function(b){return this.setSize(undefined,b)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var b=this.getResizeEl();return{width:b.getWidth()+b.getMargins("lr"),height:b.getHeight()+b.getMargins("tb")}},getPosition:function(d){var c=this.getPositionEl();if(d===true){return[c.getLeft(true),c.getTop(true)]}return this.xy||c.getXY()},getBox:function(e){var g=this.getPosition(e);var d=this.getSize();d.x=g[0];d.y=g[1];return d},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(b){if(this.rendered){this.getContentTarget().setOverflow(b?"auto":"")}this.autoScroll=b;return this},setPosition:function(i,j){if(i&&typeof i[1]=="number"){j=i[1];i=i[0]}this.x=i;this.y=j;if(!this.boxReady){return this}var h=this.adjustPosition(i,j);var k=h.x,l=h.y;var m=this.getPositionEl();if(k!==undefined||l!==undefined){if(k!==undefined&&l!==undefined){m.setLeftTop(k,l)}else{if(k!==undefined){m.setLeft(k)}else{if(l!==undefined){m.setTop(l)}}}this.onPosition(k,l);this.fireEvent("move",this,k,l)}return this},setPagePosition:function(e,g){if(e&&typeof e[1]=="number"){g=e[1];e=e[0]}this.pageX=e;this.pageY=g;if(!this.boxReady){return}if(e===undefined||g===undefined){return}var d=this.getPositionEl().translatePoints(e,g);this.setPosition(d.left,d.top);return this},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this},onResize:function(h,e,g,i){},onPosition:function(d,c){},adjustSize:function(d,c){if(this.autoWidth){d="auto"}if(this.autoHeight){c="auto"}return{width:d,height:c}},adjustPosition:function(d,c){return{x:d,y:c}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(k,i,g,j,h){this.el=Ext.get(k,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(i,true);this.orientation=g||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!h){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(h).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=j||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=j||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(h,i){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var k=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var j=k-this.activeMinSize;var g=Math.max(this.activeMaxSize-k,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?j:g,this.placement==Ext.SplitBar.LEFT?g:j,this.tickSize);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?j:g,this.placement==Ext.SplitBar.TOP?g:j,this.tickSize)}this.dragSpecs.startSize=k;this.dragSpecs.startPoint=[h,i];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,h,i)},onEndProxyDrag:function(g){Ext.get(this.proxy).setDisplayed(false);var d=Ext.lib.Event.getXY(g);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var e;if(this.orientation==Ext.SplitBar.HORIZONTAL){e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?d[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-d[0])}else{e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?d[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-d[1])}e=Math.min(Math.max(e,this.activeMinSize),this.activeMaxSize);if(e!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,e)!==false){this.adapter.setElementSize(this,e);this.fireEvent("moved",this,e);this.fireEvent("resize",this,e)}}},getAdapter:function(){return this.adapter},setAdapter:function(b){this.adapter=b;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(b){this.minSize=b},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(b){this.maxSize=b},setCurrentSize:function(c){var d=this.animate;this.animate=false;this.adapter.setElementSize(this,c);this.animate=d},destroy:function(b){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(b){this.el.remove()}this.purgeListeners()}});Ext.SplitBar.createProxy=function(d){var g=new Ext.Element(document.createElement("div"));document.body.appendChild(g.dom);g.unselectable();var e="x-splitbar-proxy";g.addClass(e+" "+(d==Ext.SplitBar.HORIZONTAL?e+"-h":e+"-v"));return g.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(b){},getElementSize:function(b){if(b.orientation==Ext.SplitBar.HORIZONTAL){return b.resizingEl.getWidth()}else{return b.resizingEl.getHeight()}},setElementSize:function(d,e,g){if(d.orientation==Ext.SplitBar.HORIZONTAL){if(!d.animate){d.resizingEl.setWidth(e);if(g){g(d,e)}}else{d.resizingEl.setWidth(e,true,0.1,g,"easeOut")}}else{if(!d.animate){d.resizingEl.setHeight(e);if(g){g(d,e)}}else{d.resizingEl.setHeight(e,true,0.1,g,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(b){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(b)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(b){this.basic.init(b)},getElementSize:function(b){return this.basic.getElementSize(b)},setElementSize:function(d,e,g){this.basic.setElementSize(d,e,this.moveSplitter.createDelegate(this,[d]))},moveSplitter:function(d){var c=Ext.SplitBar;switch(d.placement){case c.LEFT:d.el.setX(d.resizingEl.getRight());break;case c.RIGHT:d.el.setStyle("right",(this.container.getWidth()-d.resizingEl.getLeft())+"px");break;case c.TOP:d.el.setY(d.resizingEl.getBottom());break;case c.BOTTOM:d.el.setY(d.resizingEl.getTop()-d.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var b=this.items;if(b){delete this.items;this.add(b)}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(b){if(this.layout&&this.layout!=b){this.layout.setContainer(null)}this.layout=b;this.initItems();b.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto"}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined&&this.layout.setActiveItem){var b=this.activeItem;delete this.activeItem;this.layout.setActiveItem(b)}if(!this.ownerCt){this.doLayout(false,true)}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(b){return b.getItemId()},add:function(c){this.initItems();var j=arguments.length>1;if(j||Ext.isArray(c)){var h=[];Ext.each(j?arguments:c,function(a){h.push(this.add(a))},this);return h}var i=this.lookupComponent(this.applyDefaults(c));var k=this.items.length;if(this.fireEvent("beforeadd",this,i,k)!==false&&this.onBeforeAdd(i)!==false){this.items.add(i);i.onAdded(this,k);this.onAdd(i);this.fireEvent("add",this,i,k)}return i},onAdd:function(b){},onAdded:function(d,c){this.ownerCt=d;this.initRef();this.cascade(function(a){a.initRef()});this.fireEvent("added",this,d,c)},insert:function(n,c){var o=arguments,l=o.length,i=[],m,k;this.initItems();if(l>2){for(m=l-1;m>=1;--m){i.push(this.insert(n,o[m]))}return i}k=this.lookupComponent(this.applyDefaults(c));n=Math.min(n,this.items.length);if(this.fireEvent("beforeadd",this,k,n)!==false&&this.onBeforeAdd(k)!==false){if(k.ownerCt==this){this.items.remove(k)}this.items.insert(n,k);k.onAdded(this,n);this.onAdd(k);this.fireEvent("add",this,k,n)}return k},applyDefaults:function(c){var d=this.defaults;if(d){if(Ext.isFunction(d)){d=d.call(this,c)}if(Ext.isString(c)){c=Ext.ComponentMgr.get(c);Ext.apply(c,d)}else{if(!c.events){Ext.applyIf(c.isAction?c.initialConfig:c,d)}else{Ext.apply(c,d)}}}return c},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false)}if(this.hideBorders===true){b.border=(b.border===true)}},remove:function(e,c){this.initItems();var g=this.getComponent(e);if(g&&this.fireEvent("beforeremove",this,g)!==false){this.doRemove(g,c);this.fireEvent("remove",this,g)}return g},onRemove:function(b){},doRemove:function(h,i){var c=this.layout,g=c&&this.rendered;if(g){c.onRemove(h)}this.items.remove(h);h.onRemoved();this.onRemove(h);if(i===true||(i!==false&&this.autoDestroy)){h.destroy()}if(g){c.afterRemove(h)}},removeAll:function(m){this.initItems();var k,j=[],h=[];this.items.each(function(a){j.push(a)});for(var l=0,i=j.length;l<i;++l){k=j[l];this.remove(k,m);if(k.ownerCt!==this){h.push(k)}}return h},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.items.get(b)},lookupComponent:function(b){if(Ext.isString(b)){return Ext.ComponentMgr.get(b)}else{if(!b.events){return this.createComponent(b)}}return b},createComponent:function(e,g){if(e.render){return e}var c=Ext.create(Ext.apply({ownerCt:this},e),g||this.defaultType);delete c.initialConfig.ownerCt;delete c.ownerCt;return c},canLayout:function(){var b=this.getVisibilityEl();return b&&b.dom&&!b.isStyle("display","none")},doLayout:function(o,p){var l=this.rendered,m=p||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!o;if(!m){return}o=o&&!this.deferLayout}else{delete this.deferLayout}if(l&&this.layout){this.layout.layout()}if(o!==true&&this.items){var q=this.items.items;for(var c=0,i=q.length;c<i;c++){var n=q[c];if(n.doLayout){n.doLayout(false,m)}}}if(l){this.onLayout(o,m)}this.hasLayout=true;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var b=this.hasLayout;if(this.ownerCt){return b?!this.hasLayoutPending():false}return b},hasLayoutPending:function(){var b=false;this.ownerCt.bubble(function(a){if(a.layoutPending){b=true;return false}});return b},onShow:function(){Ext.Container.superclass.onShow.call(this);if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true)}},getLayout:function(){if(!this.layout){var b=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(b)}return this.layout},beforeDestroy:function(){var b;if(this.items){while(b=this.items.first()){this.doRemove(b,true)}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},cascade:function(j,k,h){if(j.apply(k||this,h||[this])!==false){if(this.items){var l=this.items.items;for(var m=0,i=l.length;m<i;m++){if(l[m].cascade){l[m].cascade(j,k,h)}else{j.apply(k||l[m],h||[l[m]])}}}}return this},findById:function(g){var e=null,d=this;this.cascade(function(a){if(d!=a&&a.id===g){e=a;return false}});return e},findByType:function(c,d){return this.findBy(function(a){return a.isXType(c,d)})},find:function(c,d){return this.findBy(function(a){return a[c]===d})},findBy:function(h,i){var g=[],e=this;this.cascade(function(a){if(e!=a&&h.call(i||a,a,e)===true){g.push(a)}});return g},get:function(b){return this.getComponent(b)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(b){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,b)},type:"container",IEMeasureHack:function(i,q){var s=i.dom.childNodes,r=s.length,c,d=[],e,p,o;for(p=0;p<r;p++){c=s[p];e=Ext.get(c);if(e){d[p]=e.getStyle("display");e.setStyle({display:"none"})}}o=i?i.getViewSize(q):{};for(p=0;p<r;p++){c=s[p];e=Ext.get(c);if(e){e.setStyle({display:d[p]})}}return o},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var d=this.container,c=d.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){c.addClass(this.targetCls)}this.onLayout(d,c);d.fireEvent("afterlayout",d,this)},onLayout:function(d,c){this.renderAll(d,c)},isValidParent:function(c,d){return d&&c.getPositionEl().dom.parentNode==(d.dom||d)},renderAll:function(l,k){var c=l.items.items,m,j,i=c.length;for(m=0;m<i;m++){j=c[m];if(j&&(!j.rendered||!this.isValidParent(j,k))){this.renderItem(j,m,k)}}},renderItem:function(g,e,c){if(g){if(!g.rendered){g.render(c,e);this.configureItem(g)}else{if(!this.isValidParent(g,c)){if(Ext.isNumber(e)){e=c.dom.childNodes[e]}c.dom.insertBefore(g.getPositionEl().dom,e||null);g.container=c;this.configureItem(g)}}}},getRenderedItems:function(m){var n=m.getLayoutTarget(),l=m.items.items,i=l.length,o,k,c=[];for(o=0;o<i;o++){if((k=l[o]).rendered&&this.isValidParent(k,n)&&k.shouldLayout!==false){c.push(k)}}return c},configureItem:function(c){if(this.extraCls){var d=c.getPositionEl?c.getPositionEl():c;d.addClass(this.extraCls)}if(c.doLayout&&this.forceLayout){c.doLayout()}if(this.renderHidden&&c!=this.activeItem){c.hide()}},onRemove:function(c){if(this.activeItem==c){delete this.activeItem}if(c.rendered&&this.extraCls){var d=c.getPositionEl?c.getPositionEl():c;d.removeClass(this.extraCls)}},afterRemove:function(b){if(b.removeRestore){b.removeMode="container";delete b.removeRestore}},onResize:function(){var d=this.container,b;if(d.collapsed){return}if(b=d.bufferResize&&d.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);this.resizeBuffer=Ext.isNumber(b)?b:50}d.layoutPending=true;this.resizeTask.delay(this.resizeBuffer)}else{this.runLayout()}},runLayout:function(){var b=this.container;this.layout();b.onLayout();delete b.layoutPending},setContainer:function(c){if(this.monitorResize&&c!=this.container){var d=this.container;if(d){d.un(d.resizeEvent,this.onResize,this)}if(c){c.on(c.resizeEvent,this.onResize,this)}}this.container=c},parseMargins:function(d){if(Ext.isNumber(d)){d=d.toString()}var g=d.split(" "),e=g.length;if(e==1){g[1]=g[2]=g[3]=g[0]}else{if(e==2){g[2]=g[0];g[3]=g[1]}else{if(e==3){g[3]=g[1]}}}return{top:parseInt(g[0],10)||0,right:parseInt(g[1],10)||0,bottom:parseInt(g[2],10)||0,left:parseInt(g[3],10)||0}},fieldTpl:(function(){var b=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");b.disableFormats=true;return b.compile()})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel()}if(this.container){this.container.un(this.container.resizeEvent,this.onResize,this)}if(!Ext.isEmpty(this.targetCls)){var b=this.container.getLayoutTarget();if(b){b.removeClass(this.targetCls)}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(m,k){Ext.layout.AutoLayout.superclass.onLayout.call(this,m,k);var l=this.getRenderedItems(m),i=l.length,c,j;for(c=0;c<i;c++){j=l[c];if(j.doLayout){j.doLayout(true)}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();if(!b){return{}}return b.getStyleSize()},onLayout:function(d,c){Ext.layout.FitLayout.superclass.onLayout.call(this,d,c);if(!d.collapsed){this.setItemSize(this.activeItem||d.items.itemAt(0),this.getLayoutTargetSize())}},setItemSize:function(c,d){if(c&&d.height>0){c.setSize(d)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(h){var g=this.activeItem,e=this.container;h=e.getComponent(h);if(h&&g!=h){if(g){g.hide();if(g.hidden!==true){return false}g.fireEvent("deactivate",g)}var i=h.doLayout&&(this.layoutOnCardChange||!h.rendered);this.activeItem=h;delete h.deferLayout;h.show();this.layout();if(i){h.doLayout()}h.fireEvent("activate",h)}},renderAll:function(d,c){if(this.deferredRender){this.renderItem(this.activeItem,undefined,c)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,d,c)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d={};if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},onLayout:function(G,i){Ext.layout.AnchorLayout.superclass.onLayout.call(this,G,i);var D=this.getLayoutTargetSize(),I=D.width,E=D.height,C=i.getStyle("overflow"),F=this.getRenderedItems(G),z=F.length,L=[],J,Q,x,H,K,O,M,N,y=0,A,P;if(I<20&&E<20){return}if(G.anchorSize){if(typeof G.anchorSize=="number"){Q=G.anchorSize}else{Q=G.anchorSize.width;x=G.anchorSize.height}}else{Q=G.initialConfig.width;x=G.initialConfig.height}for(A=0;A<z;A++){H=F[A];P=H.getPositionEl();if(!H.anchor&&H.items&&!Ext.isNumber(H.width)&&!(Ext.isIE6&&Ext.isStrict)){H.anchor=this.defaultAnchor}if(H.anchor){K=H.anchorSpec;if(!K){N=H.anchor.split(" ");H.anchorSpec=K={right:this.parseAnchor(N[0],H.initialConfig.width,Q),bottom:this.parseAnchor(N[1],H.initialConfig.height,x)}}O=K.right?this.adjustWidthAnchor(K.right(I)-P.getMargins("lr"),H):undefined;M=K.bottom?this.adjustHeightAnchor(K.bottom(E)-P.getMargins("tb"),H):undefined;if(O||M){L.push({component:H,width:O||undefined,height:M||undefined})}}}for(A=0,z=L.length;A<z;A++){J=L[A];J.component.setSize(J.width,J.height)}if(C&&C!="hidden"&&!this.adjustmentPass){var B=this.getLayoutTargetSize();if(B.width!=D.width||B.height!=D.height){this.adjustmentPass=true;this.onLayout(G,i)}}delete this.adjustmentPass},parseAnchor:function(m,i,a){if(m&&m!="none"){var k;if(this.parseAnchorRE.test(m)){var j=a-i;return function(b){if(b!==k){k=b;return b-j}}}else{if(m.indexOf("%")!=-1){var l=parseFloat(m.replace("%",""))*0.01;return function(b){if(b!==k){k=b;return Math.floor(b*l)}}}else{m=parseInt(m,10);if(!isNaN(m)){return function(b){if(b!==k){k=b;return b+m}}}}}}return false},adjustWidthAnchor:function(c,d){return c},adjustHeightAnchor:function(c,d){return c}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}Ext.layout.ColumnLayout.superclass.renderAll.call(this,d,this.innerCt)},onLayout:function(x,u){var w=x.items.items,v=w.length,s,z,A,m=[];this.renderAll(x,u);var c=this.getLayoutTargetSize();if(c.width<1&&c.height<1){return}var i=c.width-this.scrollOffset,y=c.height,h=i;this.innerCt.setWidth(i);for(z=0;z<v;z++){s=w[z];A=s.getPositionEl().getMargins("lr");m[z]=A;if(!s.columnWidth){h-=(s.getWidth()+A)}}h=h<0?0:h;for(z=0;z<v;z++){s=w[z];A=m[z];if(s.columnWidth){s.setSize(Math.floor(s.columnWidth*h)-A)}}if(Ext.isIE){if(z=u.getStyle("overflow")&&z!="hidden"&&!this.adjustmentPass){var t=this.getLayoutTargetSize();if(t.width!=c.width){this.adjustmentPass=true;this.onLayout(x,u)}}}delete this.adjustmentPass}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:true,type:"form",onRemove:function(g){Ext.layout.FormLayout.superclass.onRemove.call(this,g);if(this.trackLabels){g.un("show",this.onFieldShow,this);g.un("hide",this.onFieldHide,this)}var c=g.getPositionEl(),e=g.getItemCt&&g.getItemCt();if(g.rendered&&e){if(c&&c.dom){c.insertAfter(e)}Ext.destroy(e);Ext.destroyMembers(g,"label","itemCt");if(g.customItemCt){Ext.destroyMembers(g,"getItemCt","customItemCt")}}},setContainer:function(d){Ext.layout.FormLayout.superclass.setContainer.call(this,d);if(d.labelAlign){d.addClass("x-form-label-"+d.labelAlign)}if(d.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0})}else{this.labelSeparator=Ext.isDefined(d.labelSeparator)?d.labelSeparator:this.labelSeparator;d.labelWidth=d.labelWidth||100;if(Ext.isNumber(d.labelWidth)){var c=Ext.isNumber(d.labelPad)?d.labelPad:5;Ext.apply(this,{labelAdjust:d.labelWidth+c,labelStyle:"width:"+d.labelWidth+"px;",elementStyle:"padding-left:"+(d.labelWidth+c)+"px"})}if(d.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}}},isHide:function(b){return b.hideLabel||this.container.hideLabels},onFieldShow:function(b){b.getItemCt().removeClass("x-hide-"+b.hideMode);if(b.isComposite){b.doLayout()}},onFieldHide:function(b){b.getItemCt().addClass("x-hide-"+b.hideMode)},getLabelStyle:function(i){var g="",k=[this.labelStyle,i];for(var j=0,h=k.length;j<h;++j){if(k[j]){g+=k[j];if(g.substr(-1,1)!=";"){g+=";"}}}return g},renderItem:function(h,g,i){if(h&&(h.isFormField||h.fieldLabel)&&h.inputType!="hidden"){var c=this.getTemplateArgs(h);if(Ext.isNumber(g)){g=i.dom.childNodes[g]||null}if(g){h.itemCt=this.fieldTpl.insertBefore(g,c,true)}else{h.itemCt=this.fieldTpl.append(i,c,true)}if(!h.getItemCt){Ext.apply(h,{getItemCt:function(){return h.itemCt},customItemCt:true})}h.label=h.getItemCt().child("label.x-form-item-label");if(!h.rendered){h.render("x-form-el-"+h.id)}else{if(!this.isValidParent(h,i)){Ext.fly("x-form-el-"+h.id).appendChild(h.getPositionEl())}}if(this.trackLabels){if(h.hidden){this.onFieldHide(h)}h.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(h)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},getTemplateArgs:function(c){var d=!c.fieldLabel||c.hideLabel;return{id:c.id,label:c.fieldLabel,itemCls:(c.itemCls||this.container.itemCls||"")+(c.hideLabel?" x-hide-label":""),clearCls:c.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(c.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:d?"":(Ext.isDefined(c.labelSeparator)?c.labelSeparator:this.labelSeparator)}},adjustWidthAnchor:function(e,g){if(g.label&&!this.isHide(g)&&(this.container.labelAlign!="top")){var c=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return e-this.labelAdjust+(c?-3:0)}return e},adjustHeightAnchor:function(d,c){if(c.label&&!this.isHide(c)&&(this.container.labelAlign=="top")){return d-c.label.getHeight()}return d},isValidParent:function(c,d){return d&&this.container.getEl().contains(c.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(b){if(this.animate===false){b.animCollapse=false}b.collapsible=true;if(this.autoWidth){b.autoWidth=true}if(this.titleCollapse){b.titleCollapse=true}if(this.hideCollapseTool){b.hideCollapseTool=true}if(this.collapseFirst!==undefined){b.collapseFirst=this.collapseFirst}if(!this.activeItem&&!b.collapsed){this.setActiveItem(b,true)}else{if(this.activeItem&&this.activeItem!=b){b.collapsed=true}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);b.header.addClass("x-accordion-hd");b.on("beforeexpand",this.beforeExpand,this)},onRemove:function(b){Ext.layout.AccordionLayout.superclass.onRemove.call(this,b);if(b.rendered){b.header.removeClass("x-accordion-hd")}b.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(g,d){var e=this.activeItem;if(e){if(this.sequence){delete this.activeItem;if(!e.collapsed){e.collapse({callback:function(){g.expand(d||true)},scope:this});return false}}else{e.collapse(this.animate)}}this.setActive(g);if(this.activeOnTop){g.el.dom.parentNode.insertBefore(g.el.dom,g.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(l,m){if(this.fill&&l){var n=0,o,i=this.getRenderedItems(this.container),j=i.length,k;for(o=0;o<j;o++){if((k=i[o])!=l&&!k.hidden){n+=k.header.getHeight()}}m.height-=n;l.setSize(m)}},setActiveItem:function(b){this.setActive(b,true)},setActive:function(g,d){var e=this.activeItem;g=this.container.getComponent(g);if(e!=g){if(g.rendered&&g.collapsed&&d){g.expand()}else{if(e){e.fireEvent("deactivate",e)}this.activeItem=g;g.fireEvent("activate",g)}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(b){Ext.layout.TableLayout.superclass.setContainer.call(this,b);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(m,k){var l=m.items.items,i=l.length,j,c;if(!this.table){k.addClass("x-table-layout-ct");this.table=k.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}this.renderAll(m,k)},getRow:function(d){var c=this.table.tBodies[0].childNodes[d];if(!c){c=document.createElement("tr");this.table.tBodies[0].appendChild(c)}return c},getNextCell:function(l){var k=this.getNextNonSpan(this.currentColumn,this.currentRow);var o=this.currentColumn=k[0],p=this.currentRow=k[1];for(var m=p;m<p+(l.rowspan||1);m++){if(!this.cells[m]){this.cells[m]=[]}for(var q=o;q<o+(l.colspan||1);q++){this.cells[m][q]=true}}var n=document.createElement("td");if(l.cellId){n.id=l.cellId}var c="x-table-layout-cell";if(l.cellCls){c+=" "+l.cellCls}n.className=c;if(l.colspan){n.colSpan=l.colspan}if(l.rowspan){n.rowSpan=l.rowspan}this.getRow(p).appendChild(n);return n},getNextNonSpan:function(e,g){var d=this.columns;while((d&&e>=d)||(this.cells[g]&&this.cells[g][e])){if(d&&e>=d){g++;e=0}else{e++}}return[e,g]},renderItem:function(h,g,i){if(!this.table){this.table=i.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}if(h&&!h.rendered){h.render(this.getNextCell(h));this.configureItem(h)}else{if(h&&!this.isValidParent(h,i)){var c=this.getNextCell(h);c.insertBefore(h.getPositionEl().dom,null);h.container=Ext.get(c);this.configureItem(h)}}},isValidParent:function(c,d){return c.getPositionEl().up("table",5).dom.parentNode===(d.dom||d)},destroy:function(){delete this.table;Ext.layout.TableLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(d,c){c.position();this.paddingLeft=c.getPadding("l");this.paddingTop=c.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,d,c)},adjustWidthAnchor:function(c,d){return c?c-d.getPosition(true)[0]+this.paddingLeft:c},adjustHeightAnchor:function(c,d){return c?c-d.getPosition(true)[1]+this.paddingTop:c}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(g){Ext.layout.BoxLayout.superclass.constructor.call(this,g);if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins)}var h=this.overflowHandler;if(typeof h=="string"){h={type:h}}var i="none";if(h&&h.type!=undefined){i=h.type}var e=Ext.layout.boxOverflow[i];if(e[this.type]){e=e[this.type]}this.overflowHandler=new e(this,h)},onLayout:function(t,o){Ext.layout.BoxLayout.superclass.onLayout.call(this,t,o);var r=this.getLayoutTargetSize(),n=this.getVisibleItems(t),s=this.calculateChildBoxes(n,r),p=s.boxes,m=s.meta;if(r.width>0){var l=this.overflowHandler,u=m.tooNarrow?"handleOverflow":"clearOverflow";var q=l[u](s,r);if(q){if(q.targetSize){r=q.targetSize}if(q.recalculate){n=this.getVisibleItems(t);s=this.calculateChildBoxes(n,r);p=s.boxes}}}this.layoutTargetLastSize=r;this.childBoxCache=s;this.updateInnerCtSize(r,s);this.updateChildBoxes(p);this.handleTargetOverflow(r,t,o)},updateChildBoxes:function(k){for(var g=0,i=k.length;g<i;g++){var j=k[g],h=j.component;if(j.dirtySize){h.setSize(j.width,j.height)}if(isNaN(j.left)||isNaN(j.top)){continue}h.setPosition(j.left,j.top)}},updateInnerCtSize:function(q,m){var l=this.align,n=this.padding,o=q.width,k=q.height;if(this.type=="hbox"){var j=o,p=m.meta.maxHeight+n.top+n.bottom;if(l=="stretch"){p=k}else{if(l=="middle"){p=Math.max(k,p)}}}else{var p=k,j=m.meta.maxWidth+n.left+n.right;if(l=="stretch"){j=o}else{if(l=="center"){j=Math.max(o,j)}}}this.innerCt.setSize(j||undefined,p||undefined)},handleTargetOverflow:function(j,h,k){var i=k.getStyle("overflow");if(i&&i!="hidden"&&!this.adjustmentPass){var g=this.getLayoutTargetSize();if(g.width!=j.width||g.height!=j.height){this.adjustmentPass=true;this.onLayout(h,k)}}delete this.adjustmentPass},isValidParent:function(c,d){return this.innerCt&&c.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(m){var m=m||this.container,n=m.getLayoutTarget(),l=m.items.items,i=l.length,o,k,c=[];for(o=0;o<i;o++){if((k=l[o]).rendered&&this.isValidParent(k,n)&&k.hidden!==true&&k.collapsed!==true&&k.shouldLayout!==false){c.push(k)}}return c},renderAll:function(d,c){if(!this.innerCt){this.innerCt=c.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding)}Ext.layout.BoxLayout.superclass.renderAll.call(this,d,this.innerCt)},getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),d;if(c){d=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&d.width==0){d=c.getStyleSize()}d.width-=c.getPadding("lr");d.height-=c.getPadding("tb")}return d},renderItem:function(b){if(Ext.isString(b.margins)){b.margins=this.parseMargins(b.margins)}else{if(!b.margins){b.margins=this.defaultMargins}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)},destroy:function(){Ext.destroy(this.overflowHandler);Ext.layout.BoxLayout.superclass.destroy.apply(this,arguments)}});Ext.ns("Ext.layout.boxOverflow");Ext.layout.boxOverflow.None=Ext.extend(Object,{constructor:function(c,d){this.layout=c;Ext.apply(this,d||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn});Ext.layout.boxOverflow.none=Ext.layout.boxOverflow.None;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(r,o){if(!this.leftTr){var p=r.buttonAlign=="center"?"center":"left";o.addClass("x-toolbar-layout-ct");o.insertHtml("beforeEnd",String.format(this.tableHTML,p));this.leftTr=o.child("tr.x-toolbar-left-row",true);this.rightTr=o.child("tr.x-toolbar-right-row",true);this.extrasTr=o.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[]}}var n=r.buttonAlign=="right"?this.rightTr:this.leftTr,i=r.items.items,s=0;for(var t=0,q=i.length,c;t<q;t++,s++){c=i[t];if(c.isFill){n=this.rightTr;s=-1}else{if(!c.rendered){c.render(this.insertCell(c,n,s));this.configureItem(c)}else{if(!c.xtbHidden&&!this.isValidParent(c,n.childNodes[s])){var u=this.insertCell(c,n,s);u.appendChild(c.getPositionEl().dom);c.container=Ext.get(u)}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(o)},cleanup:function(c){var h=c.childNodes,g,i;for(g=h.length-1;g>=0&&(i=h[g]);g--){if(!i.firstChild){c.removeChild(i)}}},insertCell:function(h,c,g){var i=document.createElement("td");i.className="x-toolbar-cell";c.insertBefore(i,c.childNodes[g]||null);return i},hideItem:function(b){this.hiddenItems.push(b);b.xtbHidden=true;b.xtbWidth=b.getPositionEl().dom.parentNode.offsetWidth;b.hide()},unhideItem:function(b){b.show();b.xtbHidden=false;this.hiddenItems.remove(b)},getItemWidth:function(b){return b.hidden?(b.xtbWidth||0):b.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(s){if(this.container.enableOverflow===false){return}var z=s.dom.clientWidth,t=s.dom.firstChild.offsetWidth,q=z-this.triggerWidth,A=this.lastWidth||0,y=this.hiddenItems,w=y.length!=0,p=z>=A;this.lastWidth=z;if(t>z||(w&&p)){var r=this.container.items.items,u=r.length,x=0,i;for(var v=0;v<u;v++){i=r[v];if(!i.isFill){x+=this.getItemWidth(i);if(x>q){if(!(i.hidden||i.xtbHidden)){this.hideItem(i)}}else{if(i.xtbHidden){this.unhideItem(i)}}}}}w=y.length!=0;if(w){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true}}else{if(this.more){this.clearMenu();this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false}}}},createMenuConfig:function(i,g){var e=Ext.apply({},i.initialConfig),h=i.toggleGroup;Ext.copyTo(e,i,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(e,{text:i.overflowText||i.text,hideOnClick:g});if(h||i.enableToggle){Ext.apply(e,{group:h,checked:i.pressed,listeners:{checkchange:function(a,b){i.toggle(b)}}})}delete e.ownerCt;delete e.xtype;delete e.id;return e},addComponentToMenu:function(c,d){if(d instanceof Ext.Toolbar.Separator){c.add("-")}else{if(Ext.isFunction(d.isXType)){if(d.isXType("splitbutton")){c.add(this.createMenuConfig(d,true))}else{if(d.isXType("button")){c.add(this.createMenuConfig(d,!d.menu))}else{if(d.isXType("buttongroup")){d.items.each(function(a){this.addComponentToMenu(c,a)},this)}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(a){delete a.menu})}},beforeMoreShow:function(k){var i=this.container.items.items,j=i.length,l,m;var o=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.Toolbar.Separator)};this.clearMenu();k.removeAll();for(var n=0;n<j;n++){l=i[n];if(l.xtbHidden){if(m&&(o(l,m)||o(m,l))){k.add("-")}this.addComponentToMenu(k,l);m=l}}if(k.items.length<1){k.add(this.noItemsMenuText)}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var b=this.insertCell(this.more,this.extrasTr,100);this.more.render(b)}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",calculateChildBoxes:function(aE,aS){var ap=aE.length,ad=this.padding,ar=ad.top,aa=ad.left,ax=ar+ad.bottom,ag=aa+ad.right,aT=aS.width-this.scrollOffset,aP=aS.height,aH=Math.max(0,aP-ax),af=this.pack=="start",Y=this.pack=="center",av=this.pack=="end",aj=0,ae=0,ab=0,aK=0,i=0,an=[],aL,al,ai,Z,az,aM,ac,am,aR,ay,aF,ah;for(ac=0;ac<ap;ac++){aL=aE[ac];ai=aL.height;al=aL.width;aM=!aL.hasLayout&&typeof aL.doLayout=="function";if(typeof al!="number"){if(aL.flex&&!al){ab+=aL.flex}else{if(!al&&aM){aL.doLayout()}Z=aL.getSize();al=Z.width;ai=Z.height}}az=aL.margins;ay=az.left+az.right;aj+=ay+(al||0);aK+=ay+(aL.flex?aL.minWidth||0:al);i+=ay+(aL.minWidth||al||0);if(typeof ai!="number"){if(aM){aL.doLayout()}ai=aL.getHeight()}ae=Math.max(ae,ai+az.top+az.bottom);an.push({component:aL,height:ai||undefined,width:al||undefined})}var ak=aK-aT,aG=i>aT;var aI=Math.max(0,aT-aj-ag);if(aG){for(ac=0;ac<ap;ac++){an[ac].width=aE[ac].minWidth||aE[ac].width||an[ac].width}}else{if(ak>0){var at=[];for(var aq=0,aA=ap;aq<aA;aq++){var au=aE[aq],aC=au.minWidth||0;if(au.flex){an[aq].width=aC}else{at.push({minWidth:aC,available:an[aq].width-aC,index:aq})}}at.sort(function(b,a){return b.available>a.available?1:-1});for(var ac=0,aA=at.length;ac<aA;ac++){var ao=at[ac].index;if(ao==undefined){continue}var au=aE[ao],aJ=an[ao],aB=aJ.width,aC=au.minWidth,aQ=Math.max(aC,aB-Math.ceil(ak/(aA-ac))),aO=aB-aQ;an[ao].width=aQ;ak-=aO}}else{var aN=aI,aD=ab;for(ac=0;ac<ap;ac++){aL=aE[ac];am=an[ac];az=aL.margins;aF=az.top+az.bottom;if(af&&aL.flex&&!aL.width){aR=Math.ceil((aL.flex/aD)*aN);aN-=aR;aD-=aL.flex;am.width=aR;am.dirtySize=true}}}}if(Y){aa+=aI/2}else{if(av){aa+=aI}}for(ac=0;ac<ap;ac++){aL=aE[ac];am=an[ac];az=aL.margins;aa+=az.left;aF=az.top+az.bottom;am.left=aa;am.top=ar+az.top;switch(this.align){case"stretch":ah=aH-aF;am.height=ah.constrain(aL.minHeight||0,aL.maxHeight||1000000);am.dirtySize=true;break;case"stretchmax":ah=ae-aF;am.height=ah.constrain(aL.minHeight||0,aL.maxHeight||1000000);am.dirtySize=true;break;case"middle":var aw=aH-am.height-aF;if(aw>0){am.top=ar+aF+(aw/2)}}aa+=am.width+az.right}return{boxes:an,meta:{maxHeight:ae,nonFlexWidth:aj,desiredWidth:aK,minimumWidth:i,shortfall:aK-aT,tooNarrow:aG}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",calculateChildBoxes:function(aG,aS){var ap=aG.length,ac=this.padding,ar=ac.top,Z=ac.left,ax=ar+ac.bottom,af=Z+ac.right,aT=aS.width-this.scrollOffset,aQ=aS.height,aj=Math.max(0,aT-af),ae=this.pack=="start",i=this.pack=="center",av=this.pack=="end",aK=0,aA=0,aa=0,ai=0,aI=0,an=[],aM,al,ag,Y,aB,aN,ab,am,aR,ay,aH,aP;for(ab=0;ab<ap;ab++){aM=aG[ab];ag=aM.height;al=aM.width;aN=!aM.hasLayout&&typeof aM.doLayout=="function";if(typeof ag!="number"){if(aM.flex&&!ag){aa+=aM.flex}else{if(!ag&&aN){aM.doLayout()}Y=aM.getSize();al=Y.width;ag=Y.height}}aB=aM.margins;aH=aB.top+aB.bottom;aK+=aH+(ag||0);ai+=aH+(aM.flex?aM.minHeight||0:ag);aI+=aH+(aM.minHeight||ag||0);if(typeof al!="number"){if(aN){aM.doLayout()}al=aM.getWidth()}aA=Math.max(aA,al+aB.left+aB.right);an.push({component:aM,height:ag||undefined,width:al||undefined})}var ah=ai-aQ,aJ=aI>aQ;var aE=Math.max(0,(aQ-aK-ax));if(aJ){for(ab=0,aD=ap;ab<aD;ab++){an[ab].height=aG[ab].minHeight||aG[ab].height||an[ab].height}}else{if(ah>0){var ak=[];for(var aq=0,aD=ap;aq<aD;aq++){var au=aG[aq],aC=au.minHeight||0;if(au.flex){an[aq].height=aC}else{ak.push({minHeight:aC,available:an[aq].height-aC,index:aq})}}ak.sort(function(b,a){return b.available>a.available?1:-1});for(var ab=0,aD=ak.length;ab<aD;ab++){var ao=ak[ab].index;if(ao==undefined){continue}var au=aG[ao],aL=an[ao],az=aL.height,aC=au.minHeight,at=Math.max(aC,az-Math.ceil(ah/(aD-ab))),aO=az-at;an[ao].height=at;ah-=aO}}else{var ad=aE,aF=aa;for(ab=0;ab<ap;ab++){aM=aG[ab];am=an[ab];aB=aM.margins;ay=aB.left+aB.right;if(ae&&aM.flex&&!aM.height){flexedHeight=Math.ceil((aM.flex/aF)*ad);ad-=flexedHeight;aF-=aM.flex;am.height=flexedHeight;am.dirtySize=true}}}}if(i){ar+=aE/2}else{if(av){ar+=aE}}for(ab=0;ab<ap;ab++){aM=aG[ab];am=an[ab];aB=aM.margins;ar+=aB.top;ay=aB.left+aB.right;am.left=Z+aB.left;am.top=ar;switch(this.align){case"stretch":aP=aj-ay;am.width=aP.constrain(aM.minWidth||0,aM.maxWidth||1000000);am.dirtySize=true;break;case"stretchmax":aP=aA-ay;am.width=aP.constrain(aM.minWidth||0,aM.maxWidth||1000000);am.dirtySize=true;break;case"center":var aw=aj-am.width-ay;if(aw>0){am.left=Z+ay+(aw/2)}}ar+=am.height+aB.bottom}return{boxes:an,meta:{maxWidth:aA,nonFlexHeight:aK,desiredHeight:ai,minimumHeight:aI,shortfall:ai-aQ,tooNarrow:aJ}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(b){this.monitorResize=!b.floating;b.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,b)},renderItem:function(c,a,h){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img alt="{altText}" src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")}if(c&&!c.rendered){if(Ext.isNumber(a)){a=h.dom.childNodes[a]}var i=this.getItemArgs(c);c.render(c.positionEl=a?this.itemTpl.insertBefore(a,i,true):this.itemTpl.append(h,i,true));c.positionEl.menuItemId=c.getItemId();if(!i.isMenuItem&&i.needsIcon){c.positionEl.addClass("x-menu-list-item-indent")}this.configureItem(c)}else{if(c&&!this.isValidParent(c,h)){if(Ext.isNumber(a)){a=h.dom.childNodes[a]}h.dom.insertBefore(c.getActionEl().dom,a||null)}}},getItemArgs:function(g){var e=g instanceof Ext.menu.Item,c=!(e||g instanceof Ext.menu.Separator);return{isMenuItem:e,needsIcon:c&&(g.icon||g.iconCls),icon:g.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(g.iconCls||""),itemId:"x-menu-el-"+g.id,itemCls:"x-menu-list-item ",altText:g.altText||""}},isValidParent:function(c,d){return c.el.up("li.x-menu-list-item",5).dom.parentNode===(d.dom||d)},onLayout:function(d,c){Ext.layout.MenuLayout.superclass.onLayout.call(this,d,c);this.doAutoSize()},doAutoSize:function(){var i=this.container,g=i.width;if(i.floating){if(g){i.setWidth(g)}else{if(Ext.isIE){i.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":i.minWidth);var h=i.getEl(),e=h.dom.offsetWidth;i.setWidth(i.getLayoutTarget().getWidth()+h.getFrameWidth("lr"))}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain"}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null}if(this.header===true){this.elements+=",header";this.header=null}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header"}}if(this.footerCfg||this.footer===true){this.elements+=",footer";this.footer=null}if(this.buttons){this.fbar=this.buttons;this.buttons=null}if(this.fbar){this.createFbar(this.fbar)}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createFbar:function(c){var d=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(c,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(a){return{minWidth:a.minWidth||d}}});this.fbar.items.each(function(a){a.minWidth=a.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(d,g){var e;if(Ext.isArray(d)){d={items:d}}e=d.events?Ext.apply(d,g):this.createComponent(Ext.apply({},d,g),"toolbar");this.toolbars.push(e);return e},createElement:function(e,g){if(this[e]){g.appendChild(this[e].dom);return}if(e==="bwrap"||this.elements.indexOf(e)!=-1){if(this[e+"Cfg"]){this[e]=Ext.fly(g).createChild(this[e+"Cfg"])}else{var d=document.createElement("div");d.className=this[e+"Cls"];this[e]=Ext.get(g.appendChild(d))}if(this[e+"CssClass"]){this[e].addClass(this[e+"CssClass"])}if(this[e+"Style"]){this[e].applyStyles(this[e+"Style"])}}},onRender:function(q,r){Ext.Panel.superclass.onRender.call(this,q,r);this.createClasses();var u=this.el,p=u.dom,m,o;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.tools){o=this.tools;this.elements+=(this.header!==false)?",header":""}this.tools={};u.addClass(this.baseCls);if(p.firstChild){this.header=u.down("."+this.headerCls);this.bwrap=u.down("."+this.bwrapCls);var n=this.bwrap?this.bwrap:u;this.tbar=n.down("."+this.tbarCls);this.body=n.down("."+this.bodyCls);this.bbar=n.down("."+this.bbarCls);this.footer=n.down("."+this.footerCls);this.fromMarkup=true}if(this.preventBodyReset===true){u.addClass("x-panel-reset")}if(this.cls){u.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){u.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",p.firstChild.firstChild.firstChild);this.createElement("bwrap",p);m=this.bwrap.dom;var s=p.childNodes[1],t=p.childNodes[2];m.appendChild(s);m.appendChild(t);var d=m.firstChild.firstChild.firstChild;this.createElement("tbar",d);this.createElement("body",d);this.createElement("bbar",d);this.createElement("footer",m.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(d)}else{this.createElement("header",p);this.createElement("bwrap",p);m=this.bwrap.dom;this.createElement("tbar",m);this.createElement("body",m);this.createElement("bbar",m);this.createElement("footer",m);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding))}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}if(o){this.addTool.apply(this,o)}if(this.fbar){this.footer.addClass("x-panel-btns");this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"})}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar)}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar)}},setIconClass:function(g){var h=this.iconCls;this.iconCls=g;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(h,this.iconCls)}else{var i=this.header,k=i.child("img.x-panel-inline-icon");if(k){Ext.fly(k).replaceClass(h,this.iconCls)}else{var j=i.child("span."+this.headerTextCls);if(j){Ext.DomHelper.insertBefore(j.dom,{tag:"img",alt:"",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}}this.fireEvent("iconchange",this,g,h)},makeFloating:function(b){this.floating=true;this.el=new Ext.Layer(Ext.apply({},b,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(e,g,d){if(!this.fbar){this.createFbar([])}if(g){if(Ext.isString(e)){e={text:e}}e=Ext.apply({handler:g,scope:d},e)}return this.fbar.add(e)},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[]}Ext.each(arguments,function(b){this.tools.push(b)},this);return}if(!this[this.toolTarget]){return}if(!this.toolTemplate){var k=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');k.disableFormats=true;k.compile();Ext.Panel.prototype.toolTemplate=k}for(var l=0,n=arguments,o=n.length;l<o;l++){var a=n[l];if(!this.tools[a.id]){var i="x-tool-"+a.id+"-over";var m=this.toolTemplate.insertFirst(this[this.toolTarget],a,true);this.tools[a.id]=m;m.enableDisplayMode("block");this.mon(m,"click",this.createToolHandler(m,a,i,this));if(a.on){this.mon(m,a.on)}if(a.hidden){m.hide()}if(a.qtip){if(Ext.isObject(a.qtip)){Ext.QuickTips.register(Ext.apply({target:m.id},a.qtip))}else{m.dom.qtip=a.qtip}}m.addClassOnOver(i)}}},onLayout:function(c,d){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout(undefined,d)});this.syncHeight()}},syncHeight:function(){var e=this.toolbarHeight,i=this.body,g=this.lastSize.height,h;if(this.autoHeight||!Ext.isDefined(g)||g=="auto"){return}if(e!=this.getToolbarHeight()){e=Math.max(0,g-this.getFrameHeight());i.setHeight(e);h=i.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(h.width,h.height)}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(i,g,h,e){return function(a){i.removeClass(h);if(g.stopEvent!==false){a.stopEvent()}if(g.handler){g.handler.call(g.scope||i,a,i,e,g)}}},afterRender:function(){if(this.floating&&!this.hidden){this.el.show()}if(this.title){this.setTitle(this.title)}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false)}this.initEvents()},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.doLayout();b.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this);this.syncHeight()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(b){if(this.floating){this.el.beforeAction()}if(b!==false){this.el.addClass("x-panel-animated")}},afterEffect:function(b){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(i,a,h){var g={scope:h,block:true};if(i===true){g.callback=a;return g}else{if(!i.callback){g.callback=a}else{g.callback=function(){a.call(h);Ext.callback(i.callback,i.scope)}}}return Ext.applyIf(g,i)},collapse:function(c){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,c)===false){return}var d=c===true||(c!==false&&this.animCollapse);this.beforeEffect(d);this.onCollapse(d,c);return this},onCollapse:function(d,c){if(d){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false)}},afterCollapse:function(b){this.collapsed=true;this.el.addClass(this.collapsedCls);if(b!==false){this[this.collapseEl].hide(this.hideMode)}this.afterEffect(b);this.cascade(function(a){if(a.lastSize){a.lastSize={width:undefined,height:undefined}}});this.fireEvent("collapse",this)},expand:function(c){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,c)===false){return}var d=c===true||(c!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(d);this.onExpand(d,c);return this},onExpand:function(d,c){if(d){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show(this.hideMode);this.afterExpand(false)}},afterExpand:function(b){this.collapsed=false;if(b!==false){this[this.collapseEl].show(this.hideMode)}this.afterEffect(b);if(this.deferLayout){delete this.deferLayout;this.doLayout(true)}this.fireEvent("expand",this)},toggleCollapse:function(b){this[this.collapsed?"expand":"collapse"](b);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(j,l,m,k){var i=j,h=l;if(Ext.isDefined(i)||Ext.isDefined(h)){if(!this.collapsed){if(Ext.isNumber(i)){this.body.setWidth(i=this.adjustBodyWidth(i-this.getFrameWidth()))}else{if(i=="auto"){i=this.body.setWidth("auto").dom.offsetWidth}else{i=this.body.dom.offsetWidth}}if(this.tbar){this.tbar.setWidth(i);if(this.topToolbar){this.topToolbar.setSize(i)}}if(this.bbar){this.bbar.setWidth(i);if(this.bottomToolbar){this.bottomToolbar.setSize(i);if(Ext.isIE){this.bbar.setStyle("position","static");this.bbar.setStyle("position","")}}}if(this.footer){this.footer.setWidth(i);if(this.fbar){this.fbar.setSize(Ext.isIE?(i-this.footer.getFrameWidth("lr")):"auto")}}if(Ext.isNumber(h)){h=Math.max(0,h-this.getFrameHeight());this.body.setHeight(h)}else{if(h=="auto"){this.body.setHeight(h)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:i,height:h};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:true})}}this.onBodyResize(i,h)}this.syncShadow();Ext.Panel.superclass.onResize.call(this,j,l,m,k)},onBodyResize:function(d,c){this.fireEvent("bodyresize",this,d,c)},getToolbarHeight:function(){var b=0;if(this.rendered){Ext.each(this.toolbars,function(a){b+=a.getHeight()},this)}return b},adjustBodyHeight:function(b){return b},adjustBodyWidth:function(b){return b},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var c=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var d=this.bwrap.dom.firstChild;c+=(Ext.fly(d).getFrameWidth("l")+Ext.fly(d.firstChild).getFrameWidth("r"));c+=this.mc.getFrameWidth("lr")}return c},getFrameHeight:function(){var b=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");b+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){b+=this.el.dom.firstChild.offsetHeight+this.ft.dom.offsetHeight+this.mc.getFrameWidth("tb")}else{b+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)}return b},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(c,d){this.title=c;if(this.header&&this.headerAsText){this.header.child("span").update(c)}if(d){this.setIconClass(d)}this.fireEvent("titlechange",this,c);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var b=this.body.getUpdater();b.update.apply(b,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners()}if(this.tools){for(var b in this.tools){Ext.destroy(this.tools[b])}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this);a.un("remove",this.syncHeight,this)},this)}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0])}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el)}}Ext.destroy(this.toolbars)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(h,i,g){var j=document.createElement("div");j.className="x-panel-ghost "+(h?h:"");if(this.header){j.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(j.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());j.style.width=this.el.dom.offsetWidth+"px";if(!g){this.container.dom.appendChild(j)}else{Ext.getDom(g).appendChild(j)}if(i!==false&&this.el.useShim!==false){var k=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},j);k.show();return k}else{return new Ext.Element(j)}},doAutoLoad:function(){var b=this.body.getUpdater();if(this.renderer){b.setRenderer(this.renderer)}b.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(b){return this.tools[b]}});Ext.reg("panel",Ext.Panel);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){if(Ext.isArray(b)){this.disabledDates=b;this.disabledDatesRE=null}else{this.disabledDatesRE=b}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(b){this.disabledDays=b;this.update(this.value,true)},setMinDate:function(b){this.minDate=b;this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;this.update(this.value,true)},setValue:function(b){this.value=b.clearTime(true);this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(b){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(b?this.value:this.activeDate);if(Ext.isIE){this.el.repaint()}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(b){Ext.fly(b).repaint()})}},doDisabled:function(b){this.keyNav.setDisabled(b);this.prevRepeater.setDisabled(b);this.nextRepeater.setDisabled(b);if(this.showToday){this.todayKeyListener.setDisabled(b);this.todayBtn.setDisabled(b)}},onRender:function(p,d){var i=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],q=this.dayNames,n;for(n=0;n<7;n++){var l=this.startDay+n;if(l>6){l=l-7}i.push("<th><span>",q[l].substr(0,1),"</span></th>")}i[i.length]="</tr></thead><tbody><tr>";for(n=0;n<42;n++){if(n%7===0&&n!==0){i[i.length]="</tr><tr>"}i[i.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}i.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var m=document.createElement("div");m.className="x-date-picker";m.innerHTML=i.join("");p.dom.insertBefore(m,d);this.el=Ext.get(m);this.eventEl=Ext.get(m.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){if(a.ctrlKey){this.showPrevMonth()}else{this.update(this.activeDate.add("d",-1))}},right:function(a){if(a.ctrlKey){this.showNextMonth()}else{this.update(this.activeDate.add("d",1))}},up:function(a){if(a.ctrlKey){this.showNextYear()}else{this.update(this.activeDate.add("d",-7))}},down:function(a){if(a.ctrlKey){this.showPrevYear()}else{this.update(this.activeDate.add("d",7))}},pageUp:function(a){this.showNextMonth()},pageDown:function(a){this.showPrevMonth()},enter:function(a){a.stopPropagation();return true},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var o=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,o),tooltip:String.format(this.todayTip,o),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var d=['<table border="0" cellspacing="0">'];for(var c=0;c<6;c++){d.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(c),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(c+6),"</a></td>",c===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}d.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(d.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(g,b,a){a+=1;if((a%2)===0){g.dom.xmonth=5+Math.round(a*0.5)}else{g.dom.xmonth=Math.round((a-1)*0.5)}})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var b=this.el.getSize();this.monthPicker.setSize(b);this.monthPicker.child("table").setSize(b);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(i){this.mpyear=i;var k=this.mpYears.elements;for(var g=1;g<=10;g++){var j=k[g-1],h;if((g%2)===0){h=i+Math.round(g*0.5);j.firstChild.innerHTML=h;j.xyear=h}else{h=i-(5-Math.round(g*0.5));j.firstChild.innerHTML=h;j.xyear=h}this.mpYears.item(g-1)[h==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(b){this.mpMonths.each(function(a,g,e){a[a.dom.xmonth==b?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(b){},onMonthClick:function(j,d){j.stopEvent();var k=new Ext.Element(d),e;if(k.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(k.is("button.x-date-mp-ok")){var i=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(i.getMonth()!=this.mpSelMonth){i=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(i);this.hideMonthPicker()}else{if((e=k.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelMonth=e.dom.xmonth}else{if((e=k.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelYear=e.dom.xyear}else{if(k.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(k.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(h,e){h.stopEvent();var i=new Ext.Element(e),g;if((g=i.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,g.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if((g=i.up("td.x-date-mp-year",2))){this.update(new Date(g.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(b){if(this.monthPicker){if(b===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(b){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(b){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(d){d.stopEvent();if(!this.disabled){var c=d.getWheelDelta();if(c>0){this.showPrevMonth()}else{if(c<0){this.showNextMonth()}}}},handleDateClick:function(c,d){c.stopEvent();if(!this.disabled&&d.dateValue&&!Ext.fly(d.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(d.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(K,V){if(this.rendered){var ai=this.activeDate,W=this.isVisible();this.activeDate=K;if(!V&&ai&&this.el){var X=K.getTime();if(ai.getMonth()==K.getMonth()&&ai.getFullYear()==K.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==X){a.addClass("x-date-selected");if(W&&!this.cancelFocus){Ext.fly(a.dom.firstChild).focus(50)}return false}},this);return}}var ab=K.getDaysInMonth(),U=K.getFirstDateOfMonth(),ae=U.getDay()-this.startDay;if(ae<0){ae+=7}ab+=ae;var T=K.add("mo",-1),ad=T.getDaysInMonth()-ae,af=this.cells.elements,S=this.textNodes,Q=(new Date(T.getFullYear(),T.getMonth(),ad,this.initHour)),R=new Date().clearTime().getTime(),L=K.clearTime(true).getTime(),N=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,i=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,M=this.disabledDatesRE,P=this.disabledDatesText,w=this.disabledDays?this.disabledDays.join(""):false,O=this.disabledDaysText,d=this.format;if(this.showToday){var Z=new Date().clearTime(),ag=(Z<N||Z>i||(M&&d&&M.test(Z.dateFormat(d)))||(w&&w.indexOf(Z.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(ag);this.todayKeyListener[ag?"disable":"enable"]()}}var aa=function(b,e){e.title="";var c=Q.clearTime(true).getTime();e.firstChild.dateValue=c;if(c==R){e.className+=" x-date-today";e.title=b.todayText}if(c==L){e.className+=" x-date-selected";if(W){Ext.fly(e.firstChild).focus(50)}}if(c<N){e.className=" x-date-disabled";e.title=b.minText;return}if(c>i){e.className=" x-date-disabled";e.title=b.maxText;return}if(w){if(w.indexOf(Q.getDay())!=-1){e.title=O;e.className=" x-date-disabled"}}if(M&&d){var a=Q.dateFormat(d);if(M.test(a)){e.title=P.replace("%0",a);e.className=" x-date-disabled"}}};var t=0;for(;t<ae;t++){S[t].innerHTML=(++ad);Q.setDate(Q.getDate()+1);af[t].className="x-date-prevday";aa(this,af[t])}for(;t<ab;t++){var ah=t-ae+1;S[t].innerHTML=(ah);Q.setDate(Q.getDate()+1);af[t].className="x-date-active";aa(this,af[t])}var J=0;for(;t<42;t++){S[t].innerHTML=(++J);Q.setDate(Q.getDate()+1);af[t].className="x-date-nextday";aa(this,af[t])}this.mbtn.setText(this.monthNames[K.getMonth()]+" "+K.getFullYear());if(!this.internalRender){var ac=this.el.dom.firstChild,Y=ac.offsetWidth;this.el.setWidth(Y+this.el.getBorderWidth("lr"));Ext.fly(ac).setWidth(Y);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){ac.rows[0].cells[1].style.width=(Y-(ac.rows[0].cells[0].offsetWidth+ac.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[K])}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);delete this.textNodes;delete this.cells.elements}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(g,d){this.el=Ext.get(g);Ext.apply(this,d);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false)}else{var e=this.el.getUpdater();e.showLoadIndicator=false;e.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this)}else{var b=this.el.getUpdater();b.un("beforeupdate",this.onBeforeLoad,this);b.un("update",this.onLoad,this);b.un("failure",this.onLoad,this)}}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(j,h){var k=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=h?k.insertBefore(h,{cls:this.baseCls},true):k.append(j,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id}var g=this.el.dom.firstChild;this.progressBar=Ext.get(g.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var i=Ext.get(g.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,i.dom.firstChild]);this.textEl.setWidth(g.offsetWidth)}this.progressBar.setHeight(g.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(i,h,e){this.value=i||0;if(h){this.updateText(h)}if(this.rendered&&!this.isDestroyed){var g=Math.floor(i*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(g,e===true||(e!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(g)}}this.fireEvent("update",this,i,h);return this},wait:function(c){if(!this.waitTimer){var d=this;c=c||{};this.updateText(c.text);this.waitTimer=Ext.TaskMgr.start({run:function(b){var a=c.increment||10;b-=1;this.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,c.animate)},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||this)}this.reset()},scope:d})}return this},isWaiting:function(){return this.waitTimer!==null},updateText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(e,g){Ext.ProgressBar.superclass.setSize.call(this,e,g);if(this.textTopEl){var d=this.el.dom.firstChild;this.textEl.setSize(d.offsetWidth,d.offsetHeight)}this.syncProgressBar();return this},reset:function(b){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}this.clearTimer();if(b===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}Ext.destroyMembers(this,"textEl","progressBar","textTopEl")}Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);(function(){var d=Ext.EventManager;var c=Ext.lib.Dom;Ext.dd.DragDrop=function(a,g,b){if(a){this.init(a,g,b)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,a){},startDrag:function(b,a){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(s,u,a){if(Ext.isNumber(u)){u={left:u,right:u,top:u,bottom:u}}u=u||this.defaultPadding;var q=Ext.get(this.getEl()).getBox(),x=Ext.get(s),b=x.getScroll(),r,w=x.dom;if(w==document.body){r={x:b.left,y:b.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var p=x.getXY();r={x:p[0],y:p[1],width:w.clientWidth,height:w.clientHeight}}var t=q.y-r.y,v=q.x-r.x;this.resetConstraints();this.setXConstraint(v-(u.left||0),r.width-v-q.width-(u.right||0),this.xTickSize);this.setYConstraint(t-(u.top||0),r.height-t-q.height-(u.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,g,b){this.initTarget(a,g,b);d.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(a,g,b){this.config=b||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof a!=="string"){a=Ext.id(a)}this.id=a;this.addToGroup((g)?g:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(b,i,a,h){if(!i&&0!==i){this.padding=[b,b,b,b]}else{if(!a&&0!==a){this.padding=[b,i,b,i]}else{this.padding=[b,i,a,h]}}},setInitPosition:function(j,k){var b=this.getEl();if(!this.DDM.verifyEl(b)){return}var l=j||0;var m=k||0;var a=c.getXY(b);this.initPageX=a[0]-l;this.initPageY=a[1]-m;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a)},setStartPosition:function(a){var b=a||c.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=true;this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}d.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){d.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(a,b){if(this.primaryButtonOnly&&a.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var e=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(e,this)){}else{if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDM.handleMouseDown(a,this);this.DDM.stopEvent(a)}else{}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id)))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(b){var a=b.toUpperCase();delete this.invalidHandleTypes[a]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var a=0,g=this.invalidHandleClasses.length;a<g;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a]}}},isValidHandleChild:function(e){var i=true;var a;try{a=e.nodeName.toUpperCase()}catch(b){a=e.nodeName}i=i&&!this.invalidHandleTypes[a];i=i&&!this.invalidHandleIds[e.id];for(var l=0,m=this.invalidHandleClasses.length;i&&l<m;++l){i=!Ext.fly(e).hasClass(this.invalidHandleClasses[l])}return i},setXTicks:function(a,i){this.xTicks=[];this.xTickSize=i;var b={};for(var h=this.initPageX;h>=this.minX;h=h-i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true}}for(h=this.initPageX;h<=this.maxX;h=h+i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,i){this.yTicks=[];this.yTickSize=i;var b={};for(var h=this.initPageY;h>=this.minY;h=h-i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true}}for(h=this.initPageY;h<=this.maxY;h=h+i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(a,b,g){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(g){this.setXTicks(this.initPageX,g)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(g,a,b){this.topConstraint=g;this.bottomConstraint=a;this.minY=this.initPageY-g;this.maxY=this.initPageY+a;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(a,l){if(!l){return a}else{if(l[0]>=a){return l[0]}else{for(var n=0,o=l.length;n<o;++n){var m=n+1;if(l[m]&&l[m]>=a){var b=a-l[n];var i=l[m]-a;return(i>b)?l[n]:l[m]}}return l[l.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var b=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(j,k){for(var i in this.ids){for(var a in this.ids[i]){var h=this.ids[i][a];if(!this.isTypeOfDD(h)){continue}h[j].apply(h,k)}}},_onLoad:function(){this.init();b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(d,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][d.id]=d},removeDDFromGroup:function(e,a){if(!this.ids[a]){this.ids[a]={}}var g=this.ids[a];if(g&&g[e.id]){delete g[e.id]}},_remove:function(d){for(var a in d.groups){if(a&&this.ids[a]&&this.ids[a][d.id]){delete this.ids[a][d.id]}}delete this.handleIds[d.id]},regHandle:function(d,a){if(!this.handleIds[d]){this.handleIds[d]={}}this.handleIds[d][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(i,m){var j=[];for(var k in i.groups){for(var l in this.ids[k]){var a=this.ids[k][l];if(!this.isTypeOfDD(a)){continue}if(!m||a.isTarget){j[j.length]=a}}}return j},isLegalTarget:function(h,i){var k=this.getRelated(h,true);for(var j=0,a=k.length;j<a;++j){if(k[j].id==i.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(d,a){return(this.handleIds[d]&&this.handleIds[d][a])},getDDById:function(d){for(var a in this.ids){if(this.ids[a][d]){return this.ids[a][d]}}return null},handleMouseDown:function(e,g){if(Ext.QuickTips){Ext.QuickTips.ddDisable()}if(this.dragCurrent){this.handleMouseUp(e)}this.currentTarget=e.getTarget();this.dragCurrent=g;var a=g.getEl();this.startX=e.getPageX();this.startY=e.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var c=Ext.dd.DDM;c.startDrag(c.startX,c.startY)},this.clickTimeThresh)},startDrag:function(a,d){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,d);this.dragCurrent.startDrag(a,d)}this.dragThreshMet=true},handleMouseUp:function(a){if(Ext.QuickTips){Ext.QuickTips.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true)}else{}this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(e){if(!this.dragCurrent){return true}if(Ext.isIE&&(e.button!==0&&e.button!==1&&e.button!==2)){this.stopEvent(e);return this.handleMouseUp(e)}if(!this.dragThreshMet){var g=Math.abs(this.startX-e.getPageX());var a=Math.abs(this.startY-e.getPageY());if(g>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(e);this.dragCurrent.onDrag(e);if(!this.dragCurrent.moveOnly){this.fireEvents(e,false)}}this.stopEvent(e);return true},fireEvents:function(t,s){var e=this.dragCurrent;if(!e||e.isLocked()){return}var a=t.getPoint();var C=[];var z=[];var v=[];var x=[];var A=[];for(var y in this.dragOvers){var B=this.dragOvers[y];if(!this.isTypeOfDD(B)){continue}if(!this.isOverTarget(a,B,this.mode)){z.push(B)}C[y]=true;delete this.dragOvers[y]}for(var i in e.groups){if("string"!=typeof i){continue}for(y in this.ids[i]){var w=this.ids[i][y];if(!this.isTypeOfDD(w)){continue}if(w.isTarget&&!w.isLocked()&&((w!=e)||(e.ignoreSelf===false))){if(this.isOverTarget(a,w,this.mode)){if(s){x.push(w)}else{if(!C[w.id]){A.push(w)}else{v.push(w)}this.dragOvers[w.id]=w}}}}}if(this.mode){if(z.length){e.b4DragOut(t,z);e.onDragOut(t,z)}if(A.length){e.onDragEnter(t,A)}if(v.length){e.b4DragOver(t,v);e.onDragOver(t,v)}if(x.length){e.b4DragDrop(t,x);e.onDragDrop(t,x)}}else{var u=0;for(y=0,u=z.length;y<u;++y){e.b4DragOut(t,z[y].id);e.onDragOut(t,z[y].id)}for(y=0,u=A.length;y<u;++y){e.onDragEnter(t,A[y].id)}for(y=0,u=v.length;y<u;++y){e.b4DragOver(t,v[y].id);e.onDragOver(t,v[y].id)}for(y=0,u=x.length;y<u;++y){e.b4DragDrop(t,x[y].id);e.onDragDrop(t,x[y].id)}}if(s&&!x.length){e.onInvalidDrop(t)}},getBestMatch:function(j){var h=null;var k=j.length;if(k==1){h=j[0]}else{for(var i=0;i<k;++i){var a=j[i];if(a.cursorIsOver){h=a;break}else{if(!h||h.overlap.getArea()<a.overlap.getArea()){h=a}}}}return h},refreshCache:function(k){for(var a in k){if("string"!=typeof a){continue}for(var j in this.ids[a]){var i=this.ids[a][j];if(this.isTypeOfDD(i)){var h=this.getLocation(i);if(h){this.locationCache[i.id]=h}else{delete this.locationCache[i.id]}}}}},verifyEl:function(g){if(g){var a;if(Ext.isIE){try{a=g.offsetParent}catch(e){}}else{a=g.offsetParent}if(a){return true}}return false},getLocation:function(u){if(!this.isTypeOfDD(u)){return null}var w=u.getEl(),r,x,y,e,l,a,z,s,v;try{r=Ext.lib.Dom.getXY(w)}catch(t){}if(!r){return null}x=r[0];y=x+w.offsetWidth;e=r[1];l=e+w.offsetHeight;a=e-u.padding[0];z=y+u.padding[1];s=l+u.padding[2];v=x-u.padding[3];return new Ext.lib.Region(a,z,s,v)},isOverTarget:function(a,s,q){var o=this.locationCache[s.id];if(!o||!this.useCache){o=this.getLocation(s);this.locationCache[s.id]=o}if(!o){return false}s.cursorIsOver=o.contains(a);var l=this.dragCurrent;if(!l||!l.getTargetCoord||(!q&&!l.constrainX&&!l.constrainY)){return s.cursorIsOver}s.overlap=null;var n=l.getTargetCoord(a.x,a.y);var r=l.getDragEl();var p=new Ext.lib.Region(n.y,n.x+r.offsetWidth,n.y+r.offsetHeight,n.x);var m=p.intersect(o);if(m){s.overlap=m;return(q)?true:s.cursorIsOver}else{return false}},_onUnload:function(d,a){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(d){var a=this.elementCache[d];if(!a||!a.el){a=this.elementCache[d]=new this.ElementWrapper(Ext.getDom(d))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(d){var a=Ext.getDom(d);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(h,a){if(h.swapNode){h.swapNode(a)}else{var g=a.parentNode;var i=a.nextSibling;if(i==h){g.insertBefore(h,a)}else{if(a==h.nextSibling){g.insertBefore(a,h)}else{h.parentNode.replaceChild(a,h);g.insertBefore(h,i)}}}},getScroll:function(){var h,a,g=document.documentElement,i=document.body;if(g&&(g.scrollTop||g.scrollLeft)){h=g.scrollTop;a=g.scrollLeft}else{if(i){h=i.scrollTop;a=i.scrollLeft}else{}}return{top:h,left:a}},getStyle:function(d,a){return Ext.fly(d).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,e){var g=Ext.lib.Dom.getXY(e);Ext.lib.Dom.setXY(a,g)},numericSort:function(a,e){return(a-e)},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;if(Ext.lib.Event&&document){a._onLoad()}else{if(a._timeoutCount>2000){}else{setTimeout(a._addListeners,10);if(document&&document.body){a._timeoutCount+=1}}}},handleWasClicked:function(a,e){if(this.isHandle(e,a.id)){return true}else{var g=a.parentNode;while(g){if(this.isHandle(e,g.id)){return true}else{g=g.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(g,e,d){if(g){this.init(g,e,d)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(i,e){var g=i-this.startPageX;var h=e-this.startPageY;this.setDelta(g,h)},setDelta:function(c,d){this.deltaX=c;this.deltaY=d},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d)},alignElWithMouse:function(q,m,n){var o=this.getTargetCoord(m,n);var j=q.dom?q:Ext.fly(q,"_dd");if(!this.deltaSetXY){var l=[o.x,o.y];j.setXY(l);var p=j.getLeft(true);var k=j.getTop(true);this.deltaSetXY=[p-o.x,k-o.y]}else{j.setLeftTop(o.x+this.deltaSetXY[0],o.y+this.deltaSetXY[1])}this.cachePosition(o.x,o.y);this.autoScroll(o.x,o.y,q.offsetHeight,q.offsetWidth);return o},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e}else{var g=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(t,u,y,s){if(this.scroll){var r=Ext.lib.Dom.getViewHeight();var B=Ext.lib.Dom.getViewWidth();var h=this.DDM.getScrollTop();var z=this.DDM.getScrollLeft();var v=y+u;var q=s+t;var w=(r+h-u-this.deltaY);var x=(B+z-t-this.deltaX);var A=40;var C=(document.all)?80:30;if(v>r&&w<A){window.scrollTo(z,h+C)}if(u<h&&h>0&&u-h<A){window.scrollTo(z,h-C)}if(q>B&&x<A){window.scrollTo(z+C,h)}if(t<z&&z>0&&t-z<A){window.scrollTo(z-C,h)}}},getTargetCoord:function(i,e){var g=i-this.deltaX;var h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX}if(g>this.maxX){g=this.maxX}}if(this.constrainY){if(h<this.minY){h=this.minY}if(h>this.maxY){h=this.maxY}}g=this.getTick(g,this.xTicks);h=this.getTick(h,this.yTicks);return{x:g,y:h}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY())},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(g,e,d){if(g){this.init(g,e,d);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var e=this;var g=document.body;if(!g||!g.firstChild){setTimeout(function(){e.createFrame()},50);return}var h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;var i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;g.insertBefore(h,g.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(i,j){var k=this.getEl();var h=this.getDragEl();var g=h.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(g.width,10)/2),Math.round(parseInt(g.height,10)/2))}this.setDragElPos(i,j);Ext.fly(h).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);this.setDragElPos(e,g)},b4StartDrag:function(d,c){this.showFrame(d,c)},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide()},endDrag:function(g){var d=this.getEl();var e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(g,e,d){if(g){this.initTarget(g,e,d)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(b){Ext.apply(this,b);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,b)},initEl:function(b){this.el=Ext.get(b);b.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);delete this.el},onMouseDown:function(c,d){if(this.fireEvent("mousedown",this,c)!==false&&this.onBeforeStart(c)!==false){this.startXY=this.lastXY=c.getXY();this.dragTarget=this.delegate?d:this.el.dom;if(this.preventDefault!==false){c.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this,[c])}}},onMouseMove:function(h,i){if(this.active&&Ext.isIE&&!h.browserEvent.button){h.preventDefault();this.onMouseUp(h);return}h.preventDefault();var e=h.getXY(),g=this.startXY;this.lastXY=e;if(!this.active){if(Math.abs(g[0]-e[0])>this.tolerance||Math.abs(g[1]-e[1])>this.tolerance){this.triggerStart(h)}else{return}}this.fireEvent("mousemove",this,h);this.onDrag(h);this.fireEvent("drag",this,h)},onMouseUp:function(g){var d=Ext.getDoc(),e=this.active;d.un("mousemove",this.onMouseMove,this);d.un("mouseup",this.onMouseUp,this);d.un("selectstart",this.stopSelect,this);g.preventDefault();this.clearStart();this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,g);if(e){this.onEnd(g);this.fireEvent("dragend",this,g)}},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(b);this.fireEvent("dragstart",this,b)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(b){return b?this.constrainModes[b].call(this,this.lastXY):this.lastXY},getOffset:function(g){var d=this.getXY(g),e=this.startXY;return[e[0]-d[0],e[1]-d[1]]},constrainModes:{point:function(c){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var d=this.dragRegion;d.left=c[0];d.top=c[1];d.right=c[0];d.bottom=c[1];d.constrainTo(this.elRegion);return[d.left,d.top]}}});Ext.dd.ScrollManager=function(){var s=Ext.dd.DragDropMgr;var q={};var t=null;var n={};var o=function(a){t=null;u()};var m=function(){if(s.dragCurrent){s.refreshCache(s.dragCurrent.groups)}};var r=function(){if(s.dragCurrent){var b=Ext.dd.ScrollManager;var a=n.el.ddScrollConfig?n.el.ddScrollConfig.increment:b.increment;if(!b.animate){if(n.el.scroll(n.dir,a)){m()}}else{n.el.scroll(n.dir,a,true,b.animDuration,m)}}};var u=function(){if(n.id){clearInterval(n.id)}n.id=0;n.el=null;n.dir=""};var p=function(a,b){u();n.el=a;n.dir=b;var c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:undefined,d=(a.ddScrollConfig&&a.ddScrollConfig.frequency)?a.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;if(c===undefined||s.dragCurrent.ddGroup==c){n.id=setInterval(r,d)}};var l=function(c,a){if(a||!s.dragCurrent){return}var j=Ext.dd.ScrollManager;if(!t||t!=s.dragCurrent){t=s.dragCurrent;j.refreshCache()}var i=Ext.lib.Event.getXY(c);var h=new Ext.lib.Point(i[0],i[1]);for(var e in q){var d=q[e],g=d._region;var b=d.ddScrollConfig?d.ddScrollConfig:j;if(g&&g.contains(h)&&d.isScrollable()){if(g.bottom-h.y<=b.vthresh){if(n.el!=d){p(d,"down")}return}else{if(g.right-h.x<=b.hthresh){if(n.el!=d){p(d,"left")}return}else{if(h.y-g.top<=b.vthresh){if(n.el!=d){p(d,"up")}return}else{if(h.x-g.left<=b.hthresh){if(n.el!=d){p(d,"right")}return}}}}}}u()};s.fireEvents=s.fireEvents.createSequence(l,s);s.stopDrag=s.stopDrag.createSequence(o,s);return{register:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.register(c[a])}}else{c=Ext.get(c);q[c.id]=c}},unregister:function(c){if(Ext.isArray(c)){for(var a=0,b=c.length;a<b;a++){this.unregister(c[a])}}else{c=Ext.get(c);delete q[c.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){for(var a in q){if(typeof q[a]=="object"){q[a]._region=q[a].getRegion()}}}}}();Ext.dd.Registry=function(){var h={};var e={};var g=0;var i=function(b,c){if(typeof b=="string"){return b}var a=b.id;if(!a&&c!==false){a="extdd-"+(++g);b.id=a}return a};return{register:function(b,a){a=a||{};if(typeof b=="string"){b=document.getElementById(b)}a.ddel=b;h[i(b)]=a;if(a.isHandle!==false){e[a.ddel.id]=a}if(a.handles){var c=a.handles;for(var d=0,l=c.length;d<l;d++){e[i(c[d])]=a}}},unregister:function(c){var a=i(c,false);var b=h[a];if(b){delete h[a];if(b.handles){var d=b.handles;for(var m=0,n=d.length;m<n;m++){delete e[i(d[m],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return e[a]},getHandleFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?e[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return h[a]},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?h[b.id]||e[b.id]:null}}}();Ext.dd.StatusProxy=function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!b||b.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceClass(this.dropStatus,b);this.dropStatus=b}},reset:function(b){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("")}},update:function(d){if(typeof d=="string"){this.ghost.update(d)}else{this.ghost.update("");d.style.margin="0";this.ghost.dom.appendChild(d)}var c=this.ghost.dom.firstChild;if(c){Ext.fly(c).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(b){this.el.hide();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(d,g,e){this.callback=g;this.scope=e;if(d&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:d,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};Ext.dd.DragSource=function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(b){return this.dragData},onDragEnter:function(i,h){var e=Ext.dd.DragDropMgr.getDDById(h);this.cachedTarget=e;if(this.beforeDragEnter(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyEnter(this,i,this.dragData);this.proxy.setStatus(g)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(e,i,h)}}},beforeDragEnter:function(d,e,g){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(i,h){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(h);if(this.beforeDragOver(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyOver(this,i,this.dragData);this.proxy.setStatus(g)}if(this.afterDragOver){this.afterDragOver(e,i,h)}}},beforeDragOver:function(d,e,g){return true},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,d,g)}}this.cachedTarget=null},beforeDragOut:function(d,e,g){return true},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)){this.onValidDrop(e,d,g)}else{this.onInvalidDrop(e,d,g)}}else{this.onValidDrop(e,d,g)}if(this.afterDragDrop){this.afterDragDrop(e,d,g)}}delete this.cachedTarget},beforeDragDrop:function(d,e,g){return true},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g)}},getRepairXY:function(c,d){return this.el.getXY()},onInvalidDrop:function(d,e,g){this.beforeInvalidDrop(d,e,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,e,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(e,g)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(d,e,g){return true},handleMouseDown:function(c){if(this.dragging){return}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(d,c){return true},onStartDrag:Ext.emptyFn,startDrag:function(d,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show()},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.dd.DropTarget=Ext.extend(Ext.dd.DDTarget,{constructor:function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,g,d){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(e,g,d){return this.dropAllowed},notifyOut:function(e,g,d){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(e,g,d){return false},destroy:function(){Ext.dd.DropTarget.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DragZone=Ext.extend(Ext.dd.DragSource,{constructor:function(c,d){Ext.dd.DragZone.superclass.constructor.call(this,c,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b)},onInitDrag:function(d,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,c);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragZone.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DropZone=function(c,d){Ext.dd.DropZone.superclass.constructor.call(this,c,d)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b)},onNodeEnter:function(h,g,i,e){},onNodeOver:function(h,g,i,e){return this.dropAllowed},onNodeOut:function(h,g,i,e){},onNodeDrop:function(h,g,i,e){return false},onContainerOver:function(e,g,d){return this.dropNotAllowed},onContainerDrop:function(e,g,d){return false},notifyEnter:function(e,g,d){return this.dropNotAllowed},notifyOver:function(g,i,e){var h=this.getTargetFromEvent(i);if(!h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}return this.onContainerOver(g,i,e)}if(this.lastOverNode!=h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e)}this.onNodeEnter(h,g,i,e);this.lastOverNode=h}return this.onNodeOver(h,g,i,e)},notifyOut:function(e,g,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,g,d);this.lastOverNode=null}},notifyDrop:function(g,i,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null}var h=this.getTargetFromEvent(i);return h?this.onNodeDrop(h,g,i,e):this.onContainerDrop(g,i,e)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(i,e,h){var g=new Ext.dd.DD(Ext.id(this.dom),i,e);return Ext.apply(g,h)},initDDProxy:function(i,e,h){var g=new Ext.dd.DDProxy(Ext.id(this.dom),i,e);return Ext.apply(g,h)},initDDTarget:function(i,e,h){var g=new Ext.dd.DDTarget(Ext.id(this.dom),i,e);return Ext.apply(g,h)}});Ext.data.Api=(function(){var b={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return(Ext.data.Api.actions[a])?true:false},getVerb:function(a){if(b[a]){return b[a]}for(var d in this.actions){if(this.actions[d]===a){b[a]=d;break}}return(b[a]!==undefined)?b[a]:null},isValid:function(a){var g=[];var h=this.actions;for(var i in a){if(!(i in h)){g.push(i)}}return(!g.length)?true:g},hasUniqueUrl:function(k,h){var a=(k.api[h])?k.api[h].url:null;var i=true;for(var j in k.api){if((i=(j===h)?true:(k.api[j].url!=a)?true:false)===false){break}}return i},prepare:function(a){if(!a.api){a.api={}}for(var e in this.actions){var g=this.actions[e];a.api[g]=a.api[g]||a.url||a.directFn;if(typeof(a.api[g])=="string"){a.api[g]={url:a.api[g],method:(a.restful===true)?Ext.data.Api.restActions[g]:undefined}}}},restify:function(a){a.restful=true;for(var d in this.restActions){a.api[this.actions[d]].method||(a.api[this.actions[d]].method=this.restActions[d])}a.onWrite=a.onWrite.createInterceptor(function(k,c,m,n){var o=c.reader;var l=new Ext.data.Response({action:k,raw:m});switch(m.status){case 200:return true;break;case 201:if(Ext.isEmpty(l.raw.responseText)){l.success=true}else{return true}break;case 204:l.success=true;l.data=null;break;default:return true;break}if(l.success===true){this.fireEvent("write",this,k,l.data,l,n,c.request.arg)}else{this.fireEvent("exception",this,"remote",k,c,l,n)}c.request.callback.call(c.request.scope,l.data,l,l.success);return false},a)}}})();Ext.data.Response=function(c,d){Ext.apply(this,c,{raw:d})};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});Ext.data.SortTypes={none:function(b){return b},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"")},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(b){return String(b).toUpperCase()},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));return isNaN(c)?0:c},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""),10);return isNaN(c)?0:c}};Ext.data.Record=function(d,c){this.id=(c||c===0)?c:Ext.data.Record.id(this);this.data=d||{}};Ext.data.Record.create=function(i){var k=Ext.extend(Ext.data.Record,{});var j=k.prototype;j.fields=new Ext.util.MixedCollection(false,function(a){return a.name});for(var g=0,h=i.length;g<h;g++){j.fields.add(new Ext.data.Field(i[g]))}k.getField=function(a){return j.fields.get(a)};return k};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(b){b.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(b){this.store=b},set:function(e,g){var d=Ext.isPrimitive(g)?String:Ext.encode;if(d(this.data[e])==d(g)){return}this.dirty=true;if(!this.modified){this.modified={}}if(this.modified[e]===undefined){this.modified[e]=this.data[e]}this.data[e]=g;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this)}},afterReject:function(){if(this.store){this.store.afterReject(this)}},afterCommit:function(){if(this.store){this.store.afterCommit(this)}},get:function(b){return this.data[b]},beginEdit:function(){this.editing=true;this.modified=this.modified||{}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit()}},reject:function(d){var e=this.modified;for(var g in e){if(typeof e[g]!="function"){this.data[g]=e[g]}}this.dirty=false;delete this.modified;this.editing=false;if(d!==true){this.afterReject()}},commit:function(b){this.dirty=false;delete this.modified;this.editing=false;if(b!==true){this.afterCommit()}},getChanges:function(){var e=this.modified,d={};for(var g in e){if(e.hasOwnProperty(g)){d[g]=this.data[g]}}return d},hasError:function(){return this.error!==null},clearError:function(){this.error=null},copy:function(b){return new this.constructor(Ext.apply({},this.data),b||this.id)},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b))},isValid:function(){return this.fields.find(function(b){return(b.allowBlank===false&&Ext.isEmpty(this.data[b.name]))?true:false},this)?false:true},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(b){this.modified[b.name]=this.data[b.name]},this)}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c))}},lookup:function(i){if(Ext.isArray(i)){var g=["field1"],j=!Ext.isArray(i[0]);if(!j){for(var k=2,h=i[0].length;k<=h;++k){g.push("field"+k)}}return new Ext.data.ArrayStore({fields:g,data:i,expandData:j,autoDestroy:true,autoCreated:true})}return Ext.isObject(i)?(i.events?i:Ext.create(i,"store")):this.get(i)},getKey:function(b){return b.storeId}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(b){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(a){return a.id};this.removed=[];if(b&&b.data){this.inlineData=b.data;delete b.data}Ext.apply(this,b);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy)}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer)}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"])}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear})}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir)}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}this.batchCounter=0;this.batches={}},buildWriter:function(d){var e=undefined,g=(d.format||"json").toLowerCase();switch(g){case"json":e=Ext.data.JsonWriter;break;case"xml":e=Ext.data.XmlWriter;break;default:e=Ext.data.JsonWriter}return new e(d)},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true}},add:function(k){var i,h,g,j;k=[].concat(k);if(k.length<1){return}for(i=0,h=k.length;i<h;i++){g=k[i];g.join(this);if(g.dirty||g.phantom){this.modified.push(g)}}j=this.data.length;this.data.addAll(k);if(this.snapshot){this.snapshot.addAll(k)}this.fireEvent("add",this,k,j)},addSorted:function(d){var c=this.findInsertIndex(d);this.insert(c,d)},doUpdate:function(b){this.data.replace(b.id,b);if(this.snapshot){this.snapshot.replace(b.id,b)}this.fireEvent("update",this,b,Ext.data.Record.COMMIT)},remove:function(d){if(Ext.isArray(d)){Ext.each(d,function(a){this.remove(a)},this);return}var c=this.data.indexOf(d);if(c>-1){d.join(null);this.data.removeAt(c)}if(this.pruneModifiedRecords){this.modified.remove(d)}if(this.snapshot){this.snapshot.remove(d)}if(c>-1){this.fireEvent("remove",this,d,c)}},removeAt:function(b){this.remove(this.getAt(b))},removeAll:function(c){var d=[];this.each(function(a){d.push(a)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}if(c!==true){this.fireEvent("clear",this,d)}},onClear:function(c,d){Ext.each(d,function(a,b){this.destroyRecord(this,a,b)},this)},insert:function(j,k){var i,h,g;k=[].concat(k);for(i=0,h=k.length;i<h;i++){g=k[i];this.data.insert(j+i,g);g.join(this);if(g.dirty||g.phantom){this.modified.push(g)}}if(this.snapshot){this.snapshot.addAll(k)}this.fireEvent("add",this,k,j)},indexOf:function(b){return this.data.indexOf(b)},indexOfId:function(b){return this.data.indexOfKey(b)},getById:function(b){return(this.snapshot||this.data).key(b)},getAt:function(b){return this.data.itemAt(b)},getRange:function(c,d){return this.data.getRange(c,d)},storeOptions:function(b){b=Ext.apply({},b);delete b.callback;delete b.scope;this.lastOptions=b},clearData:function(){this.data.each(function(b){b.join(null)});this.data.clear()},load:function(d){d=Ext.apply({},d);this.storeOptions(d);if(this.sortInfo&&this.remoteSort){var e=this.paramNames;d.params=Ext.apply({},d.params);d.params[e.sort]=this.sortInfo.field;d.params[e.dir]=this.sortInfo.direction}try{return this.execute("read",null,d)}catch(g){this.handleException(g);return false}},updateRecord:function(d,e,g){if(g==Ext.data.Record.EDIT&&this.autoSave===true&&(!e.phantom||(e.phantom&&e.isValid()))){this.save()}},createRecords:function(o,i,m){var n=this.modified,k=i.length,j,l;for(l=0;l<k;l++){j=i[l];if(j.phantom&&j.isValid()){j.markDirty();if(n.indexOf(j)==-1){n.push(j)}}}if(this.autoSave===true){this.save()}},destroyRecord:function(d,e,g){if(this.modified.indexOf(e)!=-1){this.modified.remove(e)}if(!e.phantom){this.removed.push(e);e.lastIndex=g;if(this.autoSave===true){this.save()}}},execute:function(i,h,k,g){if(!Ext.data.Api.isAction(i)){throw new Ext.data.Api.Error("execute",i)}k=Ext.applyIf(k||{},{params:{}});if(g!==undefined){this.addToBatch(g)}var j=true;if(i==="read"){j=this.fireEvent("beforeload",this,k);Ext.applyIf(k.params,this.baseParams)}else{if(this.writer.listful===true&&this.restful!==true){h=(Ext.isArray(h))?h:[h]}else{if(Ext.isArray(h)&&h.length==1){h=h.shift()}}if((j=this.fireEvent("beforewrite",this,i,h,k))!==false){this.writer.apply(k.params,this.baseParams,i,h)}}if(j!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,i)){k.params.xaction=i}this.proxy.request(Ext.data.Api.actions[i],h,k.params,this.reader,this.createCallback(i,h,g),this,k)}return j},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined")}var m=[],l,i,o,q={},p;if(this.removed.length){m.push(["destroy",this.removed])}var r=[].concat(this.getModifiedRecords());if(r.length){var n=[];for(p=r.length-1;p>=0;p--){if(r[p].phantom===true){var s=r.splice(p,1).shift();if(s.isValid()){n.push(s)}}else{if(!r[p].isValid()){r.splice(p,1)}}}if(n.length){m.push(["create",n])}if(r.length){m.push(["update",r])}}l=m.length;if(l){o=++this.batchCounter;for(p=0;p<l;++p){i=m[p];q[i[0]]=i[1]}if(this.fireEvent("beforesave",this,q)!==false){for(p=0;p<l;++p){i=m[p];this.doTransaction(i[0],i[1],o)}return o}}return -1},doTransaction:function(k,h,m){function j(b){try{this.execute(k,b,undefined,m)}catch(a){this.handleException(a)}}if(this.batch===false){for(var l=0,i=h.length;l<i;l++){j.call(this,h[l])}}else{j.call(this,h)}},addToBatch:function(i){var b=this.batches,h=this.batchKey+i,g=b[h];if(!g){b[h]=g={id:i,count:0,data:{}}}++g.count},removeFromBatch:function(n,k,l){var o=this.batches,m=this.batchKey+n,j=o[m],b;if(j){b=j.data[k]||[];j.data[k]=b.concat(l);if(j.count===1){l=j.data;delete o[m];this.fireEvent("save",this,n,l)}else{--j.count}}},createCallback:function(i,g,e){var h=Ext.data.Api.actions;return(i=="read")?this.loadRecords:function(b,c,a){this["on"+Ext.util.Format.capitalize(i)+"Records"](a,g,[].concat(b));if(a===true){this.fireEvent("write",this,i,b,c,g)}this.removeFromBatch(e,i,b)}},clearModified:function(d){if(Ext.isArray(d)){for(var c=d.length-1;c>=0;c--){this.modified.splice(this.modified.indexOf(d[c]),1)}}else{this.modified.splice(this.modified.indexOf(d),1)}},reMap:function(e){if(Ext.isArray(e)){for(var h=0,g=e.length;h<g;h++){this.reMap(e[h])}}else{delete this.data.map[e._phid];this.data.map[e.id]=e;var i=this.data.keys.indexOf(e._phid);this.data.keys.splice(i,1,e.id);delete e._phid}},onCreateRecords:function(h,g,e){if(h===true){try{this.reader.realize(g,e);this.reMap(g)}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onCreateRecords(h,g,e)}}}},onUpdateRecords:function(h,g,e){if(h===true){try{this.reader.update(g,e)}catch(i){this.handleException(i);if(Ext.isArray(g)){this.onUpdateRecords(h,g,e)}}}},onDestroyRecords:function(i,g,j){g=(g instanceof Ext.data.Record)?[g]:[].concat(g);for(var k=0,h=g.length;k<h;k++){this.removed.splice(this.removed.indexOf(g[k]),1)}if(i===false){for(k=g.length-1;k>=0;k--){this.insert(g[k].lastIndex,g[k])}}},handleException:function(b){Ext.handleError(b)},reload:function(b){this.load(Ext.applyIf(b||{},this.lastOptions))},loadRecords:function(t,i,o){var q,p;if(this.isDestroyed===true){return}if(!t||o===false){if(o!==false){this.fireEvent("load",this,[],i)}if(i.callback){i.callback.call(i.scope||this,[],i,false,t)}return}var u=t.records,n=t.totalRecords||u.length;if(!i||i.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(q=0,p=u.length;q<p;q++){u[q].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.clearData();this.data.addAll(u);this.totalLength=n;this.applySort();this.fireEvent("datachanged",this)}else{var m=[],r,s=0;for(q=0,p=u.length;q<p;++q){r=u[q];if(this.indexOfId(r.id)>-1){this.doUpdate(r)}else{m.push(r);++s}}this.totalLength=Math.max(n,this.data.length+s);this.add(m)}this.fireEvent("load",this,u,i);if(i.callback){i.callback.call(i.scope||this,u,i,true)}},loadData:function(g,e){var d=this.reader.readRecords(g);this.loadRecords(d,{add:e},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData()}},sortData:function(){var j=this.hasMultiSort?this.multiSortInfo:this.sortInfo,l=j.direction||"ASC",m=j.sorters,q=[];if(!this.hasMultiSort){m=[{direction:l,field:j.field}]}for(var p=0,i=m.length;p<i;p++){q.push(this.createSortFunction(m[p].field,m[p].direction))}if(q.length==0){return}var n=l.toUpperCase()=="DESC"?-1:1;var o=function(e,a){var b=q[0].call(this,e,a);if(q.length>1){for(var c=1,d=q.length;c<d;c++){b=b||q[c].call(this,e,a)}}return n*b};this.data.sort(l,o);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(l,o)}},createSortFunction:function(i,e){e=e||"ASC";var g=e.toUpperCase()=="DESC"?-1:1;var h=this.fields.get(i).sortType;return function(c,d){var a=h(c.data[i]),b=h(d.data[i]);return g*(a>b?1:(a<b?-1:0))}},setDefaultSort:function(c,d){d=d?d.toUpperCase():"ASC";this.sortInfo={field:c,direction:d};this.sortToggle[c]=d},sort:function(c,d){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,c,d)}else{return this.singleSort(c,d)}},singleSort:function(j,m){var k=this.fields.get(j);if(!k){return false}var h=k.name,i=this.sortInfo||null,l=this.sortToggle?this.sortToggle[h]:null;if(!m){if(i&&i.field==h){m=(this.sortToggle[h]||"ASC").toggle("ASC","DESC")}else{m=k.sortDir}}this.sortToggle[h]=m;this.sortInfo={field:h,direction:m};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(l){this.sortToggle[h]=l}if(i){this.sortInfo=i}}}else{this.applySort();this.fireEvent("datachanged",this)}return true},multiSort:function(c,d){this.hasMultiSort=true;d=d||"ASC";if(this.multiSortInfo&&d==this.multiSortInfo.direction){d=d.toggle("ASC","DESC")}this.multiSortInfo={sorters:c,direction:d};if(this.remoteSort){this.singleSort(c[0].field,c[0].direction)}else{this.applySort();this.fireEvent("datachanged",this)}},each:function(c,d){this.data.each(c,d)},getModifiedRecords:function(){return this.modified},sum:function(k,j,i){var m=this.data.items,h=0;j=j||0;i=(i||i===0)?i:m.length-1;for(var l=j;l<=i;l++){h+=(m[l].data[k]||0)}return h},createFilterFn:function(j,k,i,h,g){if(Ext.isEmpty(k,false)){return false}k=this.data.createValueMatcher(k,i,h,g);return function(a){return k.test(a.data[j])}},createMultipleFilterFn:function(b){return function(a){var i=true;for(var n=0,o=b.length;n<o;n++){var j=b[n],l=j.fn,m=j.scope;i=i&&l.call(m,a)}return i}},filter:function(j,p,s,r,u){var q;if(Ext.isObject(j)){j=[j]}if(Ext.isArray(j)){var x=[];for(var t=0,v=j.length;t<v;t++){var y=j[t],w=y.fn,i=y.scope||this;if(!Ext.isFunction(w)){w=this.createFilterFn(y.property,y.value,y.anyMatch,y.caseSensitive,y.exactMatch)}x.push({fn:w,scope:i})}q=this.createMultipleFilterFn(x)}else{q=this.createFilterFn(j,p,s,r,u)}return q?this.filterBy(q):this.clearFilter()},filterBy:function(c,d){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(c,d||this);this.fireEvent("datachanged",this)},clearFilter:function(b){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},query:function(j,k,i,h){var g=this.createFilterFn(j,k,i,h);return g?this.queryBy(g):this.data.clone()},queryBy:function(d,e){var g=this.snapshot||this.data;return g.filterBy(d,e||this)},find:function(l,m,j,k,i){var h=this.createFilterFn(l,m,k,i);return h?this.data.findIndexBy(h,null,j):-1},findExact:function(d,e,g){return this.data.findIndexBy(function(a){return a.get(d)===e},this,g)},findBy:function(d,e,g){return this.data.findIndexBy(d,e,g)},collect:function(o,l,t){var p=(t===true&&this.snapshot)?this.snapshot.items:this.data.items;var i,d,u=[],s={};for(var r=0,q=p.length;r<q;r++){i=p[r].data[o];d=String(i);if((l||!Ext.isEmpty(i))&&!s[d]){s[d]=true;u[u.length]=i}}return u},afterEdit:function(b){if(this.modified.indexOf(b)==-1){this.modified.push(b)}this.fireEvent("update",this,b,Ext.data.Record.EDIT)},afterReject:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.REJECT)},afterCommit:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.COMMIT)},commitChanges:function(){var e=this.modified.slice(0),g=e.length,d;for(d=0;d<g;d++){e[d].commit()}this.modified=[];this.removed=[]},rejectChanges:function(){var h=this.modified.slice(0),i=this.removed.slice(0).reverse(),k=h.length,j=i.length,g;for(g=0;g<k;g++){h[g].reject()}for(g=0;g<j;g++){this.insert(i[g].lastIndex||0,i[g]);i[g].reject()}this.modified=[];this.removed=[]},onMetaChange:function(b){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo}}if(this.writer){this.writer.meta=this.reader.meta}this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(e){this.suspendEvents();var g=this.data.clone();this.data.add(e);this.applySort();var d=this.data.indexOf(e);this.data=g;this.resumeEvents();return d},setBaseParam:function(d,c){this.baseParams=this.baseParams||{};this.baseParams[d]=c}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(e){if(Ext.isString(e)){e={name:e}}Ext.apply(this,e);var h=Ext.data.Types,g=this.sortType,i;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||h.AUTO}}else{this.type=h.AUTO}if(Ext.isString(g)){this.sortType=Ext.data.SortTypes[g]}else{if(Ext.isEmpty(g)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(d,c){this.meta=d;this.recordType=Ext.isArray(c)?Ext.data.Record.create(c):c;if(this.recordType){this.buildExtractors()}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;d>=0;d--){if(Ext.isArray(g)){this.realize(e.splice(d,1).shift(),g.splice(d,1).shift())}else{this.realize(e.splice(d,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(!this.isData(g)){throw new Ext.data.DataReader.Error("realize",e)}e.phantom=false;e._phid=e.id;e.id=this.getId(g);e.data=g;e.commit()}},update:function(e,g){if(Ext.isArray(e)){for(var d=e.length-1;d>=0;d--){if(Ext.isArray(g)){this.update(e.splice(d,1).shift(),g.splice(d,1).shift())}else{this.update(e.splice(d,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(this.isData(g)){e.data=Ext.apply(e.data,g)}e.commit()}},extractData:function(q,y){var r=(this instanceof Ext.data.JsonReader)?"json":"node";var w=[];if(this.isData(q)&&!(this instanceof Ext.data.XmlReader)){q=[q]}var s=this.recordType.prototype.fields,i=s.items,n=s.length,w=[];if(y===true){var p=this.recordType;for(var u=0;u<q.length;u++){var x=q[u];var t=new p(this.extractValues(x,i,n),this.getId(x));t[r]=x;w.push(t)}}else{for(var u=0;u<q.length;u++){var v=this.extractValues(q[u],i,n);v[this.meta.idProperty]=this.getId(q[u]);w.push(v)}}return w},isData:function(b){return(b&&Ext.isObject(b)&&!Ext.isEmpty(this.getId(b)))?true:false},onMetaChange:function(b){delete this.ef;this.meta=b;this.recordType=Ext.data.Record.create(b.fields);this.buildExtractors()}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});Ext.data.DataWriter=function(b){Ext.apply(this,b)};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(k,j,l,i){var m=[],h=l+"Record";if(Ext.isArray(i)){Ext.each(i,function(a){m.push(this[h](a))},this)}else{if(i instanceof Ext.data.Record){m=this[h](i)}}this.render(k,j,m)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(j,m){var k=j.fields.map,l={},h=(this.writeAllFields===false&&j.phantom===false)?j.getChanges():j.data,i;Ext.iterate(h,function(a,b){if((i=k[a])){l[i.mapping?i.mapping:i.name]=b}});if(j.phantom){if(j.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(j.data[this.meta.idProperty])){delete l[this.meta.idProperty]}}else{l[this.meta.idProperty]=j.id}return l},toArray:function(c){var d=[];Ext.iterate(c,function(a,b){d.push({name:a,value:b})},this);return d}};Ext.data.DataProxy=function(d){d=d||{};this.api=d.api;this.url=d.url;this.restful=d.restful;this.listeners=d.listeners;this.prettyUrls=d.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(c){if(c instanceof Ext.data.Api.Error){c.toConsole()}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var b=Ext.data.Api.isValid(arguments[0]);if(b===true){this.api=arguments[0]}else{throw new Ext.data.Api.Error("invalid",b)}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0])}this.api[arguments[0]]=arguments[1]}}Ext.data.Api.prepare(this)},isApiAction:function(b){return(this.api[b])?true:false},request:function(m,i,l,j,k,n,o){if(!this.api[m]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",m)}l=l||{};if((m===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,l):this.fireEvent("beforewrite",this,m,i,l)!==false){this.doRequest.apply(this,arguments)}else{k.call(n||this,null,o,false)}},load:null,doRequest:function(m,i,l,j,k,n,o){this.load(l,j,k,n,o)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(j,g){g=g||null;var k=(this.conn&&this.conn.url)?this.conn.url:(this.api[j])?this.api[j].url:this.url;if(!k){throw new Ext.data.Api.Error("invalid-url",j)}var i=null;var h=k.match(/(.*)(\.json|\.xml|\.html)$/);if(h){i=h[2];k=h[1]}if((this.restful===true||this.prettyUrls===true)&&g instanceof Ext.data.Record&&!g.phantom){k+="/"+g.id}return(i===null)?k:k+i},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(b){Ext.apply(this,b)};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(b){Ext.apply(this,b)};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};Ext.data.HttpProxy=function(e){Ext.data.HttpProxy.superclass.constructor.call(this,e);this.conn=e;this.conn.url=null;this.useAjax=!e||!e.events;var g=Ext.data.Api.actions;this.activeRequest={};for(var d in g){this.activeRequest[g[d]]=undefined}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(d,c){this.conn.url=d;if(c===true){this.url=d;this.api=null;Ext.data.Api.prepare(this)}},doRequest:function(n,p,l,q,j,o,k){var m={method:(this.api[n])?this.api[n]["method"]:undefined,request:{callback:j,scope:o,arg:k},reader:q,callback:this.createCallback(n,p),scope:this};if(l.jsonData){m.jsonData=l.jsonData}else{if(l.xmlData){m.xmlData=l.xmlData}else{m.params=l||{}}}this.conn.url=this.buildUrl(n,p);if(this.useAjax){Ext.applyIf(m,this.conn);if(this.activeRequest[n]){}this.activeRequest[n]=Ext.Ajax.request(m)}else{this.conn.request(m)}this.conn.url=null},createCallback:function(c,d){return function(a,b,g){this.activeRequest[c]=undefined;if(!b){if(c===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,a,g)}this.fireEvent("exception",this,"response",c,a,g);a.request.callback.call(a.request.scope,null,a.request.arg,false);return}if(c===Ext.data.Api.actions.read){this.onRead(c,a,g)}else{this.onWrite(c,a,g,d)}}},onRead:function(l,j,e){var i;try{i=j.reader.read(e)}catch(k){this.fireEvent("loadexception",this,j,e,k);this.fireEvent("exception",this,"response",l,j,e,k);j.request.callback.call(j.request.scope,null,j.request.arg,false);return}if(i.success===false){this.fireEvent("loadexception",this,j,e);var m=j.reader.readResponse(l,e);this.fireEvent("exception",this,"remote",l,j,m,null)}else{this.fireEvent("load",this,j,j.request.arg)}j.request.callback.call(j.request.scope,i,j.request.arg,i.success)},onWrite:function(m,k,o,e){var j=k.reader;var n;try{n=j.readResponse(m,o)}catch(l){this.fireEvent("exception",this,"response",m,k,o,l);k.request.callback.call(k.request.scope,null,k.request.arg,false);return}if(n.success===true){this.fireEvent("write",this,m,n.data,n,e,k.request.arg)}else{this.fireEvent("exception",this,"remote",m,k,n,e)}k.request.callback.call(k.request.scope,n.data,n,n.success)},destroy:function(){if(!this.useAjax){this.conn.abort()}else{if(this.activeRequest){var c=Ext.data.Api.actions;for(var d in c){if(this.activeRequest[c[d]]){Ext.Ajax.abort(this.activeRequest[c[d]])}}}}Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.Types=new function(){var b=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return(a===undefined||a===null)?"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a===true||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(g){var e=this.dateFormat;if(!g){return null}if(Ext.isDate(g)){return g}if(e){if(e=="timestamp"){return new Date(g*1000)}if(e=="time"){return new Date(parseInt(g,10))}return Date.parseDate(g,e)}var a=Date.parse(g);return a?new Date(a):null},sortType:b.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.bindStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);var c=this.getTemplateTarget(),d=this.store.getRange();c.update("");if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(c,this.collectData(d,0));this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true},getTemplateTarget:function(){return this.el},prepareData:function(b){return b},collectData:function(g,i){var j=[],k=0,h=g.length;for(;k<h;k++){j[j.length]=this.prepareData(g[k].data,i+k,g[k])}return j},bufferRender:function(e,d){var g=document.createElement("div");this.tpl.overwrite(g,this.collectData(e,d));return Ext.query(this.itemSelector,g)},onUpdate:function(j,i){var h=this.store.indexOf(i);if(h>-1){var k=this.isSelected(h),m=this.all.elements[h],l=this.bufferRender([i],h)[0];this.all.replaceElement(h,l,true);if(k){this.selected.replaceElement(m,l);this.all.item(h).addClass(this.selectedClass)}this.updateIndexes(h,h)}},onAdd:function(j,l,k){if(this.all.getCount()===0){this.refresh();return}var m=this.bufferRender(l,k),i,a=this.all.elements;if(k<this.all.getCount()){i=this.all.item(k).insertSibling(m,"before",true);a.splice.apply(a,[k,0].concat(m))}else{i=this.all.last().insertSibling(m,"after",true);a.push.apply(a,m)}this.updateIndexes(k)},onRemove:function(g,e,d){this.deselect(d);this.all.removeElement(d,true);this.updateIndexes(d);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b))},updateIndexes:function(h,i){var e=this.all.elements;h=h||0;i=i||((i===0)?0:(e.length-1));for(var g=h;g<=i;g++){e[g].viewIndex=g}},getStore:function(){return this.store},bindStore:function(d,c){if(!c&&this.store){if(d!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(!d){this.store=null}}if(d){d=Ext.StoreMgr.lookup(d);d.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=d;if(d){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemFromChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(g){var d=g.getTarget(this.itemSelector,this.getTemplateTarget()),e;if(d){e=this.indexOf(d);if(this.onItemClick(d,e,g)!==false){this.fireEvent("click",this,e,d,g)}}else{if(this.fireEvent("containerclick",this,g)!==false){this.onContainerClick(g)}}},onContainerClick:function(b){this.clearSelections()},onContextMenu:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("contextmenu",this,this.indexOf(d),d,c)}else{this.fireEvent("containercontextmenu",this,c)}},onDblClick:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("dblclick",this,this.indexOf(d),d,c)}},onMouseOver:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d&&d!==this.lastItem){this.lastItem=d;Ext.fly(d).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(d),d,c)}},onMouseOut:function(b){if(this.lastItem){if(!b.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,b);delete this.lastItem}}},onItemClick:function(d,e,g){if(this.fireEvent("beforeclick",this,e,d,g)===false){return false}if(this.multiSelect){this.doMultiSelection(d,e,g);g.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(d,e,g);g.preventDefault()}}return true},doSingleSelection:function(d,e,g){if(g.ctrlKey&&this.isSelected(e)){this.deselect(e)}else{this.select(e,false)}},doMultiSelection:function(i,g,h){if(h.shiftKey&&this.last!==false){var e=this.last;this.selectRange(e,g,h.ctrlKey);this.last=e}else{if((h.ctrlKey||this.simpleSelect)&&this.isSelected(g)){this.deselect(g)}else{this.select(g,h.ctrlKey||h.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var e=[],h=this.selected.elements,i=0,g=h.length;for(;i<g;i++){e.push(h[i].viewIndex)}return e},getSelectedRecords:function(){return this.getRecords(this.selected.elements)},getRecords:function(i){var e=[],h=0,g=i.length;for(;h<g;h++){e[e.length]=this.store.getAt(i[h].viewIndex)}return e},getRecord:function(b){return this.store.getAt(b.viewIndex)},clearSelections:function(d,c){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!c){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!d){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(b){return this.selected.contains(this.getNode(b))},deselect:function(b){if(this.isSelected(b)){b=this.getNode(b);this.selected.removeElement(b);if(this.last==b.viewIndex){this.last=false}Ext.fly(b).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(l,j,h){if(Ext.isArray(l)){if(!j){this.clearSelections(true)}for(var m=0,i=l.length;m<i;m++){this.select(l[m],true,true)}if(!h){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var k=this.getNode(l);if(!j){this.clearSelections(true)}if(k&&!this.isSelected(k)){if(this.fireEvent("beforeselect",this,k,this.selected.elements)!==false){Ext.fly(k).addClass(this.selectedClass);this.selected.add(k);this.last=k.viewIndex;if(!h){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(g,e,d){if(!d){this.clearSelections(true)}this.select(this.getNodes(g,e),true)},getNode:function(c){if(Ext.isString(c)){return document.getElementById(c)}else{if(Ext.isNumber(c)){return this.all.elements[c]}else{if(c instanceof Ext.data.Record){var d=this.store.indexOf(c);return this.all.elements[d]}}}return c},getNodes:function(i,h){var j=this.all.elements,g=[],k;i=i||0;h=!Ext.isDefined(h)?Math.max(j.length-1,0):h;if(i<=h){for(k=i;k<=h&&j[k];k++){g.push(j[k])}}else{for(k=i;k>=h&&j[k];k--){g.push(j[k])}}return g},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex}return this.all.indexOf(b)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(b){Ext.data.JsonWriter.superclass.constructor.call(this,b)},render:function(i,h,e){if(this.encode===true){Ext.apply(i,h);i[this.meta.root]=Ext.encode(e)}else{var g=Ext.apply({},h);g[this.meta.root]=e;i.jsonData=g}},createRecord:function(b){return this.toHash(b)},updateRecord:function(b){return this.toHash(b)},destroyRecord:function(c){if(this.encodeDelete){var d={};d[this.meta.idProperty]=c.id;return d}else{return c.id}}});Ext.data.JsonReader=function(d,c){d=d||{};Ext.applyIf(d,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,d,c||d.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(e){var d=e.responseText;var g=Ext.decode(d);if(!g){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(g)},readResponse:function(k,h){var j=(h.responseText!==undefined)?Ext.decode(h.responseText):h;if(!j){throw new Ext.data.JsonReader.Error("response")}var i=this.getRoot(j);if(k===Ext.data.Api.actions.create){var l=Ext.isDefined(i);if(l&&Ext.isEmpty(i)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!l){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}var m=new Ext.data.Response({action:k,success:this.getSuccess(j),data:(i)?this.extractData(i,false):[],message:this.getMessage(j),raw:j});if(Ext.isEmpty(m.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty)}return m},readRecords:function(w){this.jsonData=w;if(w.metaData){this.onMetaChange(w.metaData)}var c=this.meta,r=this.recordType,v=r.prototype.fields,n=v.items,q=v.length,p;var s=this.getRoot(w),t=s.length,u=t,o=true;if(c.totalProperty){p=parseInt(this.getTotal(w),10);if(!isNaN(p)){u=p}}if(c.successProperty){p=this.getSuccess(w);if(p===false||p==="false"){o=false}}return{success:o,records:this.extractData(s,true),totalRecords:u}},buildExtractors:function(){if(this.ef){return}var g=this.meta,n=this.recordType,o=n.prototype.fields,i=o.items,m=o.length;if(g.totalProperty){this.getTotal=this.createAccessor(g.totalProperty)}if(g.successProperty){this.getSuccess=this.createAccessor(g.successProperty)}if(g.messageProperty){this.getMessage=this.createAccessor(g.messageProperty)}this.getRoot=g.root?this.createAccessor(g.root):function(a){return a};if(g.id||g.idProperty){var p=this.createAccessor(g.id||g.idProperty);this.getId=function(a){var b=p(a);return(b===undefined||b==="")?null:b}}else{this.getId=function(){return null}}var q=[];for(var r=0;r<m;r++){o=i[r];var s=(o.mapping!==undefined&&o.mapping!==null)?o.mapping:o.name;q.push(this.createAccessor(s))}this.ef=q},simpleAccess:function(c,d){return c[d]},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}var a=String(d).search(b);if(a>=0){return new Function("obj","return obj"+(a>0?".":"")+d)}return function(c){return c[d]}}}(),extractValues:function(k,n,j){var l,o={};for(var m=0;m<j;m++){l=n[m];var i=this.ef[m](k);o[l.name]=l.convert((i!==undefined)?i:l.defaultValue,k)}return o}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(c,d){this.arg=d;Ext.Error.call(this,c)},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(v){this.arrayData=v;var H=this.meta,L=H?Ext.num(H.idIndex,H.id):null,N=this.recordType,D=N.prototype.fields,i=[],K=true,J;var o=this.getRoot(v);for(var j=0,E=o.length;j<E;j++){var s=o[j],O={},F=((L||L===0)&&s[L]!==undefined&&s[L]!==""?s[L]:null);for(var k=0,G=D.length;k<G;k++){var C=D.items[k],n=C.mapping!==undefined&&C.mapping!==null?C.mapping:k;J=s[n]!==undefined?s[n]:C.defaultValue;J=C.convert(J,s);O[C.name]=J}var M=new N(O,F);M.json=s;i[i.length]=M}var I=i.length;if(H.totalProperty){J=parseInt(this.getTotal(v),10);if(!isNaN(J)){I=J}}if(H.successProperty){J=this.getSuccess(v);if(J===false||J==="false"){K=false}}return{success:K,records:i,totalRecords:I}}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.ArrayReader(b)}))},loadData:function(i,g){if(this.expandData===true){var j=[];for(var k=0,h=i.length;k<h;k++){j[j.length]=[i[k]]}i=j}Ext.data.ArrayStore.superclass.loadData.call(this,i,g)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,showAnimDuration:0.25,hideAnimDuration:0.25,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden}if(this.hidden===false){this.hidden=true;this.show()}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true))},onRender:function(c,d){Ext.Window.superclass.onRender.call(this,c,d);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this)}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var b=this.getKeyMap();b.on(27,this.onEsc,this);b.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(d,c){c.stopEvent();this[this.closeAction]()},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)}Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true})}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var b=this.proxy.getBox();this.proxy.hide();this.window.handleResize(b);return b},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(c){var d=this.resizeBox;if(d.x!=c.x||d.y!=c.y){this.updateBox(c)}else{this.setSize(c);if(Ext.isIE6&&Ext.isStrict){this.doLayout()}}this.focus();this.updateHandles();this.saveState()},focus:function(){var i=this.focusEl,h=this.defaultButton,k=typeof h,j,g;if(Ext.isDefined(h)){if(Ext.isNumber(h)&&this.fbar){i=this.fbar.items.get(h)}else{if(Ext.isString(h)){i=Ext.getCmp(h)}else{i=h}}j=i.getEl();g=Ext.getDom(this.container);if(j&&g){if(g!=document.body&&!Ext.lib.Region.getRegion(g).contains(Ext.lib.Region.getRegion(j.dom))){return}}}i=i||this.focusEl;i.focus.defer(10,i)},setAnimateTarget:function(b){b=Ext.get(b);this.animateTarget=b},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var d=this.el.getAlignToXY(this.container,"c-c");var c=this.el.translatePoints(d[0],d[1]);this.x=this.x===undefined?c.left:this.x;this.y=this.y===undefined?c.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(g,e,d){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return this}if(this.fireEvent("beforeshow",this)===false){return this}if(e){this.on("show",e,d,{single:true})}this.hidden=false;if(Ext.isDefined(g)){this.setAnimateTarget(g)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}return this},afterShow:function(c){if(this.isDestroyed){return false}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();if(c&&(Ext.isIE||Ext.isWebKit)){var d=this.getSize();this.onResize(d.width,d.height)}this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var b=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(b,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:this.showAnimDuration,opacity:0.5}))},hide:function(g,e,d){if(this.hidden||this.fireEvent("beforehide",this)===false){return this}if(e){this.on("hide",e,d,{single:true})}this.hidden=true;if(g!==undefined){this.setAnimateTarget(g)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}return this},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.keyMap){this.keyMap.disable()}this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var b=this.getBox(false);this.proxy.setBox(b);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:this.hideAnimDuration,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var b=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var d;if(this.constrain){d={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var e=this.getSize();d={right:-(e.width-100),bottom:-(e.height-25)}}var g=this.el.getConstrainToXY(this.container,true,d);if(g){this.setPosition(g[0],g[1])}}},ghost:function(e){var g=this.createGhost(e);var d=this.getBox(true);g.setLeftTop(d.x,d.y);g.setWidth(d.width);this.el.hide();this.activeGhost=g;return g},unghost:function(c,d){if(!this.activeGhost){return}if(c!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}}if(d!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose()}else{this.hide(null,this.doClose,this)}}},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){if(this.maximized){var b=this.tools;this.el.removeClass("x-window-maximized");if(b.restore){b.restore.hide()}if(b.maximize){b.maximize.show()}this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible&&b.toggle){b.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var b=this.container.getViewSize(false);this.setSize(b.width,b.height)},setZIndex:function(b){if(this.modal){this.mask.setStyle("z-index",b)}this.el.setZIndex(++b);b+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++b)}this.lastZIndex=b},alignTo:function(e,g,i){var h=this.el.getAlignToXY(e,g,i);this.setPagePosition(h[0],h[1]);return this},anchorTo:function(k,i,j,g){this.clearAnchor();this.anchorTarget={el:k,alignment:i,offsets:j};Ext.EventManager.onWindowResize(this.doAnchor,this);var h=typeof g;if(h!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:h=="number"?g:50})}return this.doAnchor()},doAnchor:function(){var b=this.anchorTarget;this.alignTo(b.el,b.alignment,b.offsets);return this},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget}return this},toFront:function(b){if(this.manager.bringToFront(this)){if(!b||!b.getTarget().focus){this.focus()}}return this},setActive:function(b){if(b){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b[0],b[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=Ext.extend(Ext.dd.DD,{constructor:function(b){this.win=b;Ext.Window.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false},moveOnly:true,headerOffsets:[100,25],startDrag:function(){var e=this.win;this.proxy=e.ghost(e.initialConfig.cls);if(e.constrain!==false){var g=e.el.shadowOffset;this.constrainTo(e.container,{right:g,left:g,bottom:g})}else{if(e.constrainHeader!==false){var d=this.proxy.getSize();this.constrainTo(e.container,{right:-(d.width-this.headerOffsets[0]),bottom:-(d.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(b){this.alignElWithMouse(this.proxy,b.getPageX(),b.getPageY())},endDrag:function(b){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var l={};var n=[];var m=null;var o=function(a,b){return(!a._lastAccess||a._lastAccess<b._lastAccess)?-1:1};var k=function(){var b=n,d=b.length;if(d>0){b.sort(o);var c=b[0].manager.zseed;for(var a=0;a<d;a++){var e=b[a];if(e&&!e.hidden){e.setZIndex(c+(a*10))}}}j()};var i=function(a){if(a!=m){if(m){m.setActive(false)}m=a;if(a){a.setActive(true)}}};var j=function(){for(var a=n.length-1;a>=0;--a){if(!n[a].hidden){i(n[a]);return}}i(null)};return{zseed:9000,register:function(a){if(a.manager){a.manager.unregister(a)}a.manager=this;l[a.id]=a;n.push(a);a.on("hide",j)},unregister:function(a){delete a.manager;delete l[a.id];a.un("hide",j);n.remove(a)},get:function(a){return typeof a=="object"?a:l[a]},bringToFront:function(a){a=this.get(a);if(a!=m){a._lastAccess=new Date().getTime();k();return true}return false},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());k();return a},hideAll:function(){for(var a in l){if(l[a]&&typeof l[a]!="function"&&l[a].isVisible()){l[a].hide()}}},getActive:function(){return m},getBy:function(b,c){var a=[];for(var d=n.length-1;d>=0;--d){var e=n[d];if(b.call(c||e,e)!==false){a.push(e)}}return a},each:function(b,c){for(var a in l){if(l[a]&&typeof l[a]!="function"){if(b.call(c||l[a],l[a])===false){return}}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var z,R,D,A,M,I,B,S,G,E,K,N,C,y,F,L="",P="",H=["ok","yes","no","cancel"];var Q=function(a){C[a].blur();if(z.isVisible()){z.hide();x();Ext.callback(R.fn,R.scope||window,[a,y.dom.value,R],1)}};var x=function(){if(R&&R.cls){z.el.removeClass(R.cls)}G.reset()};var O=function(b,a,c){if(R&&R.closable!==false){z.hide();x()}if(c){c.stopEvent()}};var J=function(a){var b=0,c;if(!a){Ext.each(H,function(d){C[d].hide()});return b}z.footer.dom.style.display="";Ext.iterate(C,function(d,e){c=a[d];if(c){e.show();e.setText(Ext.isString(c)?c:Ext.MessageBox.buttonText[d]);b+=e.getEl().getWidth()+15}else{e.hide()}});return b};return{getDialog:function(a){if(!z){var b=[];C={};Ext.each(H,function(d){b.push(C[d]=new Ext.Button({text:this.buttonText[d],handler:Q.createCallback(d),hideMode:"offsets"}))},this);z=new Ext.Window({autoCreate:true,title:a,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(R&&R.buttons&&R.buttons.no&&!R.buttons.cancel){Q("no")}else{Q("cancel")}},fbar:new Ext.Toolbar({items:b,enableOverflow:false})});z.render(document.body);z.getEl().addClass("x-window-dlg");D=z.mask;M=z.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});K=Ext.get(M.dom.firstChild);var c=M.dom.childNodes[1];I=Ext.get(c.firstChild);B=Ext.get(c.childNodes[2].firstChild);B.enableDisplayMode();B.addKeyListener([10,13],function(){if(z.isVisible()&&R&&R.buttons){if(R.buttons.ok){Q("ok")}else{if(R.buttons.yes){Q("yes")}}}});S=Ext.get(c.childNodes[2].childNodes[1]);S.enableDisplayMode();G=new Ext.ProgressBar({renderTo:M});M.createChild({cls:"x-clear"})}return z},updateText:function(b){if(!z.isVisible()&&!R.width){z.setSize(this.maxWidth,100)}I.update(b?b+" ":"&#160;");var g=P!=""?(K.getWidth()+K.getMargins("lr")):0,d=I.getWidth()+I.getMargins("lr"),c=z.getFrameWidth("lr"),e=z.body.getFrameWidth("lr"),a;a=Math.max(Math.min(R.width||g+d+c+e,R.maxWidth||this.maxWidth),Math.max(R.minWidth||this.minWidth,F||0));if(R.prompt===true){y.setWidth(a-g-c-e)}if(R.progress===true||R.wait===true){G.setSize(a-g-c-e)}if(Ext.isIE&&a==F){a+=4}I.update(b||"&#160;");z.setSize(a,"auto").center();return this},updateProgress:function(c,a,b){G.updateProgress(c,a);if(b){this.updateText(b)}return this},isVisible:function(){return z&&z.isVisible()},hide:function(){var a=z?z.activeGhost:null;if(this.isVisible()||a){z.hide();x();if(a){z.unghost(false,false)}}return this},show:function(b){if(this.isVisible()){this.hide()}R=b;var e=this.getDialog(R.title||"&#160;");e.setTitle(R.title||"&#160;");var a=(R.closable!==false&&R.progress!==true&&R.wait!==true);e.tools.close.setDisplayed(a);y=B;R.prompt=R.prompt||(R.multiline?true:false);if(R.prompt){if(R.multiline){B.hide();S.show();S.setHeight(Ext.isNumber(R.multiline)?R.multiline:this.defaultTextHeight);y=S}else{B.show();S.hide()}}else{B.hide();S.hide()}y.dom.value=R.value||"";if(R.prompt){e.focusEl=y}else{var c=R.buttons;var d=null;if(c&&c.ok){d=C.ok}else{if(c&&c.yes){d=C.yes}}if(d){e.focusEl=d}}if(Ext.isDefined(R.iconCls)){e.setIconClass(R.iconCls)}this.setIcon(Ext.isDefined(R.icon)?R.icon:L);F=J(R.buttons);G.setVisible(R.progress===true||R.wait===true);this.updateProgress(0,R.progressText);this.updateText(R.msg);if(R.cls){e.el.addClass(R.cls)}e.proxyDrag=R.proxyDrag===true;e.modal=R.modal!==false;e.mask=R.modal!==false?D:false;if(!e.isVisible()){document.body.appendChild(z.el.dom);e.setAnimateTarget(R.animEl);e.on("show",function(){if(a===true){e.keyMap.enable()}else{e.keyMap.disable()}},this,{single:true});e.show(R.animEl)}if(R.wait===true){G.wait(R.waitConfig)}return this},setIcon:function(a){if(!z){L=a;return}L=undefined;if(a&&a!=""){K.removeClass("x-hidden");K.replaceClass(P,a);M.addClass("x-dlg-icon");P=a}else{K.replaceClass(P,"x-hidden");M.removeClass("x-dlg-icon");P=""}return this},progress:function(b,c,a){this.show({title:b,msg:c,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:a});return this},wait:function(b,c,a){this.show({title:c,msg:b,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:a});return this},alert:function(b,c,d,a){this.show({title:b,msg:c,buttons:this.OK,fn:d,scope:a,minWidth:this.minWidth});return this},confirm:function(b,c,d,a){this.show({title:b,msg:c,buttons:this.YESNO,fn:d,scope:a,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(d,g,c,e,b,a){this.show({title:d,msg:g,buttons:this.OKCANCEL,fn:c,minWidth:this.minPromptWidth,scope:e,prompt:true,multiline:b,value:a});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(x,w){this.el=Ext.get(x);if(w&&w.wrap){w.resizeChild=this.el;this.el=this.el.wrap(typeof w.wrap=="object"?w.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=w.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(w.resizeChild.getPositioning());w.resizeChild.clearPositioning();if(!w.width||!w.height){var v=w.resizeChild.getSize();this.el.setSize(v.width,v.height)}if(w.pinned&&!w.adjustments){w.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,w);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var s=this.el.getStyle("position");if(s!="absolute"&&s!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var i=this.handles.split(/\s*?[,;]\s*?| /);var y=Ext.Resizable.positions;for(var t=0,r=i.length;t<r;t++){if(i[t]&&y[i[t]]){var p=y[i[t]];this[p]=new Ext.Resizable.Handle(this,p,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var z=this.resizeChild;var q=this.west,u=this.east,A=this.north,i=this.south;if(z&&(q||A)){z.position("relative");z.setLeft(q?q.el.getWidth():0);z.setTop(A?A.el.getHeight():0)}this.adjustments=[(u?-u.el.getWidth():0)+(q?-q.el.getWidth():0),(A?-A.el.getHeight():0)+(i?-i.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(c,d){this.el.setSize(c,d);this.updateChildSize();this.fireEvent("resize",this,c,d,null)},startSizing:function(g,d){this.fireEvent("beforeresize",this,g);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",d.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=g.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var e=Ext.get(this.constrainTo);this.resizeRegion=e.getRegion().adjust(e.getFrameWidth("t"),e.getFrameWidth("l"),-e.getFrameWidth("b"),-e.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(d,c){if(this.enabled){c.stopEvent();this.activeHandle=d;this.startSizing(c,d)}},onMouseUp:function(c){this.activeHandle=null;var d=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,d.width,d.height,c)},updateChildSize:function(){if(this.resizeChild){var h=this.el;var g=this.resizeChild;var i=this.adjustments;if(h.dom.offsetWidth){var b=h.getSize(true);g.setSize(b.width+i[0],b.height+i[1])}if(Ext.isIE){setTimeout(function(){if(h.dom.offsetWidth){var a=h.getSize(true);g.setSize(a.width+i[0],a.height+i[1])}},10)}}},snap:function(k,i,g){if(!i||!k){return k}var j=k;var h=k%i;if(h>0){if(h>(i/2)){j=k+(i-h)}else{j=k-h}}return Math.max(g,j)},resizeElement:function(){var b=this.proxy.getBox();if(this.updateBox){this.el.setBox(b,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(b.width,b.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return b},constrain:function(e,i,g,h){if(e-i<g){i=e-g}else{if(e-i>h){i=e-h}}return i},onMouseMove:function(e){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(e.getPoint())){return}var y=this.curSize||this.startBox,Q=this.startBox.x,R=this.startBox.y,W=Q,X=R,P=y.width,w=y.height,V=P,N=w,O=this.minWidth,M=this.minHeight,F=this.maxWidth,G=this.maxHeight,T=this.widthIncrement,Y=this.heightIncrement,K=e.getXY(),I=-(this.startPoint[0]-Math.max(this.minX,K[0])),L=-(this.startPoint[1]-Math.max(this.minY,K[1])),S=this.activeHandle.position,x,U;switch(S){case"east":P+=I;P=Math.min(Math.max(O,P),F);break;case"south":w+=L;w=Math.min(Math.max(M,w),G);break;case"southeast":P+=I;w+=L;P=Math.min(Math.max(O,P),F);w=Math.min(Math.max(M,w),G);break;case"north":L=this.constrain(w,L,M,G);R+=L;w-=L;break;case"west":I=this.constrain(P,I,O,F);Q+=I;P-=I;break;case"northeast":P+=I;P=Math.min(Math.max(O,P),F);L=this.constrain(w,L,M,G);R+=L;w-=L;break;case"northwest":I=this.constrain(P,I,O,F);L=this.constrain(w,L,M,G);R+=L;w-=L;Q+=I;P-=I;break;case"southwest":I=this.constrain(P,I,O,F);w+=L;w=Math.min(Math.max(M,w),G);Q+=I;P-=I;break}var J=this.snap(P,T,O);var H=this.snap(w,Y,M);if(J!=P||H!=w){switch(S){case"northeast":R-=H-w;break;case"north":R-=H-w;break;case"southwest":Q-=J-P;break;case"west":Q-=J-P;break;case"northwest":Q-=J-P;R-=H-w;break}P=J;w=H}if(this.preserveRatio){switch(S){case"southeast":case"east":w=N*(P/V);w=Math.min(Math.max(M,w),G);P=V*(w/N);break;case"south":P=V*(w/N);P=Math.min(Math.max(O,P),F);w=N*(P/V);break;case"northeast":P=V*(w/N);P=Math.min(Math.max(O,P),F);w=N*(P/V);break;case"north":x=P;P=V*(w/N);P=Math.min(Math.max(O,P),F);w=N*(P/V);Q+=(x-P)/2;break;case"southwest":w=N*(P/V);w=Math.min(Math.max(M,w),G);x=P;P=V*(w/N);Q+=x-P;break;case"west":U=w;w=N*(P/V);w=Math.min(Math.max(M,w),G);R+=(U-w)/2;x=P;P=V*(w/N);Q+=x-P;break;case"northwest":x=P;U=w;w=N*(P/V);w=Math.min(Math.max(M,w),G);P=V*(w/N);R+=U-w;Q+=x-P;break}}this.proxy.setBounds(Q,R,P,w);if(this.dynamic){this.resizeElement()}}catch(h){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(d){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var g=Ext.Resizable.positions;for(var e in g){if(typeof g[e]!="function"&&this[g[e]]){this[g[e]].destroy()}}if(d){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var b=this.el.getHeight(true);if(this.west){this.west.el.setHeight(b)}if(this.east){this.east.el.setHeight(b)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(l,j,m,k,i){if(!this.tpl){var h=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});h.compile();Ext.Resizable.Handle.prototype.tpl=h}this.position=j;this.rz=l;this.el=this.tpl.append(l.el.dom,[this.position],true);this.el.unselectable();if(k){this.el.setOpacity(0)}if(!Ext.isEmpty(i)){this.el.addClass(i)}this.el.on("mousedown",this.onMouseDown,this);if(!m){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(b){},onMouseDown:function(b){this.rz.onMouseDown(this,b)},onMouseOver:function(b){this.rz.handleOver(this,b)},onMouseOut:function(b){this.rz.handleOut(this,b)},destroy:function(){Ext.destroy(this.el);this.el=null}});Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},onRender:function(m,i){Ext.TabPanel.superclass.onRender.call(this,m,i);if(this.plain){var j=this.tabPosition=="top"?"header":"footer";this[j].addClass("x-tab-panel-"+j+"-plain")}var h=this[this.stripTarget];this.stripWrap=h.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var k=(this.tabPosition=="bottom"?this.stripWrap:null);h.createChild({cls:"x-tab-strip-spacer"},k);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var l=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");l.disableFormats=true;l.compile();Ext.TabPanel.prototype.itemTpl=l}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}if(this.activeTab!==undefined){var b=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(b)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this)}},findTargets:function(g){var d=null,e=g.getTarget("li:not(.x-tab-edge)",this.strip);if(e){d=this.getComponent(e.id.split(this.idDelimiter)[1]);if(d.disabled){return{close:null,item:null,el:null}}}return{close:g.getTarget(".x-tab-strip-close",this.strip),item:d,el:e}},onStripMouseDown:function(c){if(c.button!==0){return}c.preventDefault();var d=this.findTargets(c);if(d.close){if(d.item.fireEvent("beforeclose",d.item)!==false){d.item.fireEvent("close",d.item);this.remove(d.item)}return}if(d.item&&d.item!=this.activeTab){this.setActiveTab(d.item)}},onStripContextMenu:function(c){c.preventDefault();var d=this.findTargets(c);if(d.item){this.fireEvent("contextmenu",this,d.item,c)}},readTabs:function(l){if(l===true){this.items.each(function(a){this.remove(a)},this)}var m=this.el.query(this.autoTabSelector);for(var h=0,i=m.length;h<i;h++){var k=m[h],j=k.getAttribute("title");k.removeAttribute("title");this.add({title:j,contentEl:k})}},initTab:function(n,i){var m=this.strip.dom.childNodes[i],l=this.getTemplateArgs(n),o=m?this.itemTpl.insertBefore(m,l):this.itemTpl.append(this.strip,l),j="x-tab-strip-over",k=Ext.get(o);k.hover(function(){if(!n.disabled){k.addClass(j)}},function(){k.removeClass(j)});if(n.tabTip){k.child("span.x-tab-strip-text",true).qtip=n.tabTip}n.tabEl=o;k.select("a").on("click",function(a){if(!a.getPageX()){this.onStripMouseDown(a)}},this,{preventDefault:true});n.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(c){var d=c.closable?"x-tab-strip-closable":"";if(c.disabled){d+=" x-item-disabled"}if(c.iconCls){d+=" x-tab-with-icon"}if(c.tabCls){d+=" "+c.tabCls}return{id:this.id+this.idDelimiter+c.getItemId(),text:c.title,cls:d,iconCls:c.iconCls||""}},onAdd:function(c){Ext.TabPanel.superclass.onAdd.call(this,c);if(this.rendered){var d=this.items;this.initTab(c,d.indexOf(c));this.delegateUpdates()}},onBeforeAdd:function(d){var e=d.events?(this.items.containsKey(d.getItemId())?d:null):this.items.get(d);if(e){this.setActiveTab(d);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var g=d.elements;d.elements=g?g.replace(",header",""):g;d.border=(d.border===true)},onRemove:function(g){var c=Ext.get(g.tabEl);if(c){c.select("a").removeAllListeners();Ext.destroy(c)}Ext.TabPanel.superclass.onRemove.call(this,g);this.stack.remove(g);delete g.tabEl;g.un("disable",this.onItemDisabled,this);g.un("enable",this.onItemEnabled,this);g.un("titlechange",this.onItemTitleChanged,this);g.un("iconchange",this.onItemIconChanged,this);g.un("beforeshow",this.onBeforeShowItem,this);if(g==this.activeTab){var e=this.stack.next();if(e){this.setActiveTab(e)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.setActiveTab(null)}}}if(!this.destroying){this.delegateUpdates()}},onBeforeShowItem:function(b){if(b!=this.activeTab){this.setActiveTab(b);return false}},onItemDisabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).addClass("x-item-disabled")}this.stack.remove(c)},onItemEnabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).removeClass("x-item-disabled")}},onItemTitleChanged:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).child("span.x-tab-strip-text",true).innerHTML=c.title}},onItemIconChanged:function(h,g,i){var e=this.getTabEl(h);if(e){e=Ext.get(e);e.child("span.x-tab-strip-text").replaceClass(i,g);e[Ext.isEmpty(g)?"removeClass":"addClass"]("x-tab-with-icon")}},getTabEl:function(d){var c=this.getComponent(d);return c?c.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="none";this.delegateUpdates()}this.stack.remove(c)},unhideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="";this.delegateUpdates()}},delegateUpdates:function(){var b=this.rendered;if(this.suspendUpdates){return}if(this.resizeTabs&&b){this.autoSizeTabs()}if(this.enableTabScroll&&b){this.autoScrollTabs()}},autoSizeTabs:function(){var s=this.items.length,x=this.tabPosition!="bottom"?"header":"footer",w=this[x].dom.offsetWidth,y=this[x].dom.clientWidth;if(!this.resizeTabs||s<1||!y){return}var q=Math.max(Math.min(Math.floor((y-4)/s)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=q;var o=this.strip.query("li:not(.x-tab-edge)");for(var u=0,r=o.length;u<r;u++){var p=o[u],i=Ext.fly(p).child(".x-tab-strip-inner",true),t=p.offsetWidth,v=i.offsetWidth;i.style.width=(q-(t-v))+"px"}},adjustBodyWidth:function(b){if(this.header){this.header.setWidth(b)}if(this.footer){this.footer.setWidth(b)}return b},setActiveTab:function(g){g=this.getComponent(g);if(this.fireEvent("beforetabchange",this,g,this.activeTab)===false){return}if(!this.rendered){this.activeTab=g;return}if(this.activeTab!=g){if(this.activeTab){var e=this.getTabEl(this.activeTab);if(e){Ext.fly(e).removeClass("x-tab-strip-active")}}this.activeTab=g;if(g){var d=this.getTabEl(g);Ext.fly(d).addClass("x-tab-strip-active");this.stack.add(g);this.layout.setActiveItem(g);this.delegateUpdates();if(this.scrolling){this.scrollToTab(g,this.animScroll)}}this.fireEvent("tabchange",this,g)}},getActiveTab:function(){return this.activeTab||null},getItem:function(b){return this.getComponent(b)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var m=this.items.length,p=this.pos.dom.offsetWidth,q=this.pos.dom.clientWidth,n=this.stripWrap,o=n.dom,j=o.offsetWidth,l=this.getScrollPos(),k=this.edge.getOffsetsTo(this.stripWrap)[0]+l;if(!this.enableTabScroll||j<20){return}if(m==0||k<=q){o.scrollLeft=0;n.setWidth(q);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){o.style.marginLeft="";o.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isWebKit){o.style.marginLeft="18px";o.style.marginRight="18px"}}q-=n.getMargins("lr");n.setWidth(q>20?q:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(l>(k-q)){o.scrollLeft=k-q}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var g=this.stripWrap.dom.offsetHeight;var e=this.pos.insertFirst({cls:"x-tab-scroller-left"});e.setHeight(g);e.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=e;var d=this.pos.insertFirst({cls:"x-tab-scroller-right"});d.setHeight(g);d.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=d},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(m,j){if(!m){return}var o=this.getTabEl(m),k=this.getScrollPos(),n=this.getScrollArea(),l=Ext.fly(o).getOffsetsTo(this.stripWrap)[0]+k,i=l+o.offsetWidth;if(l<k){this.scrollTo(l,j)}else{if(i>(k+n)){this.scrollTo(i-n,j)}}},scrollTo:function(c,d){this.stripWrap.scrollTo("left",c,d?this.getScrollAnim():false);if(!d){this.updateScrollButtons()}},onWheel:function(l){var k=l.getWheelDelta()*this.wheelIncrement*-1;l.stopEvent();var j=this.getScrollPos(),m=j+k,e=this.getScrollWidth()-this.getScrollArea();var d=Math.max(0,Math.min(e,m));if(d!=j){this.scrollTo(d,false)}},onScrollRight:function(){var e=this.getScrollWidth()-this.getScrollArea(),g=this.getScrollPos(),d=Math.min(e,g+this.getScrollIncrement());if(d!=g){this.scrollTo(d,this.animScroll)}},onScrollLeft:function(){var c=this.getScrollPos(),d=Math.max(0,c-this.getScrollIncrement());if(d!=c){this.scrollTo(d,this.animScroll)}},updateScrollButtons:function(){var b=this.getScrollPos();this.scrollLeft[b===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[b>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var b=[];return{add:function(a){b.push(a);if(b.length>10){b.shift()}},remove:function(g){var h=[];for(var i=0,a=b.length;i<a;i++){if(b[i]!=g){h.push(b[i])}}b=h},next:function(){return b.pop()}}};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this}Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu.ownerCt=undefined}if(Ext.isString(this.toggleGroup)){this.enableToggle=true}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"])}this.oldCls=(this.iconCls||this.icon)?(this.text?"x-btn-text-icon":"x-btn-icon"):"x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null])}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):""},onRender:function(i,g){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile()}this.template=Ext.Button.buttonTemplate}var e,h=this.getTemplateArgs();if(g){e=this.template.insertBefore(g,h,true)}else{e=this.template.append(i,h,true)}this.btnEl=e.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(e,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(d,g){this.el=d;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){g.dom.tabIndex=this.tabIndex}if(this.tooltip){this.setTooltip(this.tooltip,true)}if(this.handleMouseEvents){this.mon(d,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown})}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide})}if(this.repeat){var e=new Ext.util.ClickRepeater(d,Ext.isObject(this.repeat)?this.repeat:{});this.mon(e,"click",this.onRepeatClick,this)}else{this.mon(d,this.clickEvent,this.onClick,this)}},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(b){this.iconCls=b;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",b||""]);this.setButtonClass()}return this},setTooltip:function(c,d){if(this.rendered){if(!d){this.clearTip()}if(Ext.isObject(c)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},c));this.tooltip=c}else{this.btnEl.dom[this.tooltipType]=c}}else{this.tooltip=c}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.btnEl,this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(this.autoWidth!==false&&this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var b=this.btnEl;if(b&&b.getWidth()>20){b.clip();b.setWidth(Ext.util.TextMetrics.measure(b,this.text).width+b.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(c,d){this.handler=c;this.scope=d;return this},setText:function(b){this.text=b;if(this.el){this.btnEl.update(b||"&#160;");this.setButtonClass()}this.doAutoWidth();return this},setIcon:function(b){this.icon=b;if(this.el){this.btnEl.setStyle("background-image",b?"url("+b+")":"");this.setButtonClass()}return this},getText:function(){return this.text},toggle:function(c,d){c=c===undefined?!this.pressed:!!c;if(c!=this.pressed){if(this.rendered){this.el[c?"addClass":"removeClass"]("x-btn-pressed")}this.pressed=c;if(!d){this.fireEvent("toggle",this,c);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,c)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(b){if(this.el){if(!Ext.isIE6||!this.text){this.el[b?"addClass":"removeClass"](this.disabledClass)}this.el.dom.disabled=b}this.disabled=b},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onRepeatClick:function(d,c){this.onClick(c)},onClick:function(b){if(b){b.preventDefault()}if(b.button!==0){return}if(!this.disabled){this.doToggle();if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b)}}},doToggle:function(){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}},isMenuTriggerOver:function(c,d){return this.menu&&!d},isMenuTriggerOut:function(c,d){return this.menu&&!d},onMouseOver:function(c){if(!this.disabled){var d=c.within(this.el,true);if(!d){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,c)}if(this.isMenuTriggerOver(c,d)){this.fireEvent("menutriggerover",this,this.menu,c)}}},monitorMouseOver:function(b){if(b.target!=this.el.dom&&!b.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(b)}},onMouseOut:function(c){var d=c.within(this.el)&&c.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,c);if(this.isMenuTriggerOut(c,d)){this.fireEvent("menutriggerout",this,this.menu,c)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(b){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(b){this.el.removeClass("x-btn-focus")},getClickEl:function(c,d){return this.el},onMouseDown:function(b){if(!this.disabled&&b.button===0){this.getClickEl(b).addClass("x-btn-click");this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(b){if(b.button===0){this.getClickEl(b,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(b){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)}},onMenuHide:function(b){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt}},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var d={};function c(g,a){if(a){var b=d[g.toggleGroup];for(var i=0,k=b.length;i<k;i++){if(b[i]!=g){b[i].toggle(false)}}}}return{register:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(!a){a=d[b.toggleGroup]=[]}a.push(b);b.on("toggle",c)},unregister:function(b){if(!b.toggleGroup){return}var a=d[b.toggleGroup];if(a){a.remove(b);b.un("toggle",c)}},getPressed:function(a){var b=d[a];if(b){for(var g=0,i=b.length;g<i;g++){if(b[g].pressed===true){return b[g]}}}return null}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"")},isClickOnArrow:function(g){if(this.arrowAlign!="bottom"){var d=this.el.child("em.x-btn-split");var e=d.getRegion().right-d.getPadding("r");return g.getPageX()>e}else{return g.getPageY()>this.btnEl.getRegion().bottom}},onClick:function(c,d){c.preventDefault();if(!this.disabled){if(this.isClickOnArrow(c)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,c);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,c)}}else{this.doToggle();this.fireEvent("click",this,c);if(this.handler){this.handler.call(this.scope||this,this,c)}}}},isMenuTriggerOver:function(b){return this.menu&&b.target.tagName==this.arrowSelector},isMenuTriggerOut:function(c,d){return this.menu&&c.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(d){if(d&&this.showText===true){var c="";if(this.prependText){c+=this.prependText}c+=d.text;return c}return undefined},setActiveItem:function(g,e){if(!Ext.isObject(g)){g=this.menu.getComponent(g)}if(g){if(!this.rendered){this.text=this.getItemText(g);this.iconCls=g.iconCls}else{var d=this.getItemText(g);if(d){this.setText(d)}this.setIconClass(g.iconCls)}this.activeItem=g;if(!g.checked){g.setChecked(true,false)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!e){this.fireEvent("change",this,g)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var b=0;Ext.each(this.items,function(d,a){Ext.apply(d,{group:d.group||this.id,itemIndex:a,checkHandler:this.checkHandler,scope:this,checked:d.checked||false});this.menu.items.push(d);if(d.checked){b=a}},this);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);this.setActiveItem(b,true)},checkHandler:function(d,c){if(c){this.setActiveItem(d)}},toggleSelected:function(){var g=this.menu;g.render();if(!g.hasLayout){g.doLayout()}var h,e;for(var i=1;i<this.itemCount;i++){h=(this.activeItem.itemIndex+i)%this.itemCount;e=g.items.itemAt(h);if(!e.disabled){e.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(b){if(Ext.isArray(b)){b={items:b,layout:"toolbar"}}else{b=Ext.apply({layout:"toolbar"},b);if(b.buttons){b.items=b.buttons}}Ext.Toolbar.superclass.constructor.call(this,b)};(function(){var b=Ext.Toolbar;Ext.extend(b,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){b.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(d,a){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"}}this.el=d.createChild(Ext.apply({id:this.id},this.autoCreate),a);Ext.Toolbar.superclass.onRender.apply(this,arguments)}},lookupComponent:function(a){if(Ext.isString(a)){if(a=="-"){a=new b.Separator()}else{if(a==" "){a=new b.Spacer()}else{if(a=="->"){a=new b.Fill()}else{a=new b.TextItem(a)}}}this.applyDefaults(a)}else{if(a.isFormField||a.render){a=this.createComponent(a)}else{if(a.tag){a=new b.Item({autoEl:a})}else{if(a.tagName){a=new b.Item({el:a})}else{if(Ext.isObject(a)){a=a.xtype?this.createComponent(a):this.constructButton(a)}}}}}return a},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.Toolbar.superclass.applyDefaults.call(this,c);var a=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,a);Ext.apply(c,a)}else{Ext.applyIf(c,a)}}return c},addSeparator:function(){return this.add(new b.Separator())},addSpacer:function(){return this.add(new b.Spacer())},addFill:function(){this.add(new b.Fill())},addElement:function(a){return this.addItem(new b.Item({el:a}))},addItem:function(a){return this.add.apply(this,arguments)},addButton:function(i){if(Ext.isArray(i)){var g=[];for(var h=0,a=i.length;h<a;h++){g.push(this.addButton(i[h]))}return g}return this.add(this.constructButton(i))},addText:function(a){return this.addItem(new b.TextItem(a))},addDom:function(a){return this.add(new b.Item({autoEl:a}))},addField:function(a){return this.add(a)},insertButton:function(k,h){if(Ext.isArray(h)){var i=[];for(var j=0,a=h.length;j<a;j++){i.push(this.insertButton(k+j,h[j]))}return i}return Ext.Toolbar.superclass.insert.call(this,k,h)},trackMenu:function(g,a){if(this.trackMenus&&g.menu){var e=a?"mun":"mon";this[e](g,"menutriggerover",this.onButtonTriggerOver,this);this[e](g,"menushow",this.onButtonMenuShow,this);this[e](g,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(a){var e=a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType);return e},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(a);if(this.disabled){a.disable()}},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this);if(a==this.activeMenuBtn){delete this.activeMenuBtn}this.trackMenu(a,true)},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable()}})},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable()}})},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);b.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",b.Item);b.Separator=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"span",cls:"xtb-sep"},a)}});Ext.reg("tbseparator",b.Separator);b.Spacer=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},a)}});Ext.reg("tbspacer",b.Spacer);b.Fill=Ext.extend(b.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",b.Fill);b.TextItem=Ext.extend(b.Item,{constructor:function(a){b.TextItem.superclass.constructor.call(this,Ext.isString(a)?{text:a}:a)},onRender:function(d,a){this.autoEl={cls:"xtb-text",html:this.text||""};b.TextItem.superclass.onRender.call(this,d,a)},setText:function(a){if(this.rendered){this.el.update(a)}else{this.text=a}}});Ext.reg("tbtext",b.TextItem);b.Button=Ext.extend(Ext.Button,{});b.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",b.Button);Ext.reg("tbsplit",b.SplitButton)})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle")}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(c){c=Ext.ButtonGroup.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}return c},onAfterLayout:function(){var b=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(b);this.el.setWidth(b+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var b=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var d=[this.first=new b.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new b.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new b.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new b.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new b.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new b.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];var a=this.items||this.buttons||[];if(this.prependButtons){this.items=a.concat(d)}else{this.items=d.concat(a)}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new b.TextItem({}))}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true)},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayItem){var a=this.store.getCount();var d=a==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(d)}},onLoad:function(a,n,d){if(!this.rendered){this.dsLoaded=[a,n,d];return}var m=this.getParams();this.cursor=(d.params&&d.params[m.start])?d.params[m.start]:0;var k=this.getPageData(),o=k.activePage,l=k.pages;this.afterTextItem.setText(String.format(this.afterPageText,k.pages));this.inputItem.setValue(o);this.first.setDisabled(o==1);this.prev.setDisabled(o==1);this.next.setDisabled(o==l);this.last.setDisabled(o==l);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,k)},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){if(!this.rendered){return}this.refresh.enable()},readPage:function(d){var a=this.inputItem.getValue(),g;if(!a||isNaN(g=parseInt(a,10))){this.inputItem.setValue(d.activePage);return false}return g},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(a){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(e,k){var m=k.getKey(),d=this.getPageData(),l;if(m==k.RETURN){k.stopEvent();l=this.readPage(d);if(l!==false){l=Math.min(Math.max(1,l),d.pages)-1;this.doLoad(l*this.pageSize)}}else{if(m==k.HOME||m==k.END){k.stopEvent();l=m==k.HOME?1:d.pages;e.setValue(l)}else{if(m==k.UP||m==k.PAGEUP||m==k.DOWN||m==k.PAGEDOWN){k.stopEvent();if((l=this.readPage(d))){var a=k.shiftKey?10:1;if(m==k.DOWN||m==k.PAGEDOWN){a*=-1}l+=a;if(l>=1&l<=d.pages){e.setValue(l)}}}}}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(e){var g={},a=this.getParams();g[a.start]=e;g[a.limit]=this.pageSize;if(this.fireEvent("beforechange",this,g)!==false){this.store.load({params:g})}},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var d=this.store.getTotalCount(),a=d%this.pageSize;this.doLoad(a?(d-a):d-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(g,e){var a;if(!e&&this.store){if(g!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this)}if(!g){this.store=null}}if(g){g=Ext.StoreMgr.lookup(g);g.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});a=true}this.store=g;if(a){this.onLoad(g,null,{})}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this})}},showAt:function(b){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){b=this.el.adjustForConstraints(b)}this.setPagePosition(b[0],b[1])},doAutoWidth:function(d){d=d||0;var c=this.body.getTextWidth();if(this.title){c=Math.max(c,this.header.child("span").getTextWidth(this.title))}c+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+d;this.setWidth(c.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(d,c){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(d,c||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(c,d){Ext.apply(this,d);this.tip=c;Ext.Tip.DD.superclass.constructor.call(this,c.el.id,"WindowDD-"+c.id);this.setHandleElId(c.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(b){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(c,d){Ext.ToolTip.superclass.onRender.call(this,c,d);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1).setVisibilityMode(Ext.Element.DISPLAY)},initTarget:function(g){var e;if((e=Ext.get(g))){if(this.target){var d=Ext.get(this.target);this.mun(d,"mouseover",this.onTargetOver,this);this.mun(d,"mouseout",this.onTargetOut,this);this.mun(d,"mousemove",this.onMouseMove,this)}this.mon(e,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=e}if(this.anchor){this.anchorTarget=this.target}},onMouseMove:function(c){var d=this.delegate?c.getTarget(this.delegate):this.triggerElement=true;if(d){this.targetXY=c.getXY();if(d===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(c)}}else{if(!this.closable&&this.isVisible()){this.hide()}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement}if(this.anchor){this.targetCounter++;var u=this.getOffsets(),m=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,w=Ext.lib.Dom.getViewWidth()-5,q=Ext.lib.Dom.getViewHeight()-5,p=document.documentElement,s=document.body,n=(p.scrollLeft||s.scrollLeft||0)+5,o=(p.scrollTop||s.scrollTop||0)+5,v=[m[0]+u[0],m[1]+u[1]],r=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(v[0]<n){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="left";return this.getTargetXY()}if(v[0]+r.width>w){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="right";return this.getTargetXY()}if(v[1]<o){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="top";return this.getTargetXY()}if(v[1]+r.height>q){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return v}else{var t=this.getMouseOffset();return[this.targetXY[0]+t[0],this.targetXY[1]+t[1]]}},getMouseOffset:function(){var b=this.anchor?[0,0]:[15,18];if(this.mouseOffset){b[0]+=this.mouseOffset[0];b[1]+=this.mouseOffset[1]}return b},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0)}else{var b=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!b){throw"AnchorTip.defaultAlign is invalid"}this.tipAnchor=b[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var d,e=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse){switch(e){case"t":d=[0,9];break;case"b":d=[0,-13];break;case"r":d=[-13,0];break;default:d=[9,0];break}}else{switch(e){case"t":d=[-15-this.anchorOffset,30];break;case"b":d=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":d=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:d=[25,-13-this.anchorOffset];break}}var g=this.getMouseOffset();d[0]+=g[0];d[1]+=g[1];return d},onTargetOver:function(c){if(this.disabled||c.within(this.target.dom,true)){return}var d=c.getTarget(this.delegate);if(d){this.triggerElement=d;this.clearTimer("hide");this.targetXY=c.getXY();this.delayShow()}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(b){if(this.disabled||b.within(this.target.dom,true)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide()}Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor}this.showAt(this.getTargetXY());if(this.anchor){this.anchorEl.show();this.syncAnchor();this.constrainPosition=this.origConstrainPosition}else{this.anchorEl.hide()}},showAt:function(b){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,b);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();this.anchorEl.show()}else{this.anchorEl.hide()}},syncAnchor:function(){var e,d,g;switch(this.tipAnchor.charAt(0)){case"t":e="b";d="tl";g=[20+this.anchorOffset,2];break;case"r":e="l";d="tr";g=[-2,11+this.anchorOffset];break;case"b":e="t";d="bl";g=[20+this.anchorOffset,-2];break;default:e="r";d="tl";g=[2,11+this.anchorOffset];break}this.anchorEl.alignTo(this.el,e+"-"+d,g)},setPagePosition:function(d,c){Ext.ToolTip.superclass.setPagePosition.call(this,d,c);if(this.anchor){this.syncAnchor()}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(b){if(this.autoHide!==true&&!this.closable&&!b.within(this.el.dom)){this.disable();this.doEnable.defer(100,this)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(g,h){if(this.contstrainPosition){var i=this.targetXY[1],e=this.getSize().height;if(h<=i&&(h+e)>=i){h=i-e-5}}return{x:g,y:h}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(p){var n=Ext.isArray(p)?p:arguments;for(var o=0,j=n.length;o<j;o++){var i=n[o];var m=i.target;if(m){if(Ext.isArray(m)){for(var q=0,c=m.length;q<c;q++){this.targets[Ext.id(m[q])]=i}}else{this.targets[Ext.id(m)]=i}}}},unregister:function(b){delete this.targets[Ext.id(b)]},cancelShow:function(c){var d=this.activeTarget;c=Ext.get(c).dom;if(this.isVisible()){if(d&&d.el==c){this.hide()}}else{if(d&&d.el==c){this.clearTimer("show")}}},getTipCfg:function(h){var e=h.getTarget(),i,g;if(this.interceptTitles&&e.title&&Ext.isString(e.title)){i=e.title;e.qtip=i;e.removeAttribute("title");h.preventDefault()}else{g=this.tagConfig;i=e.qtip||Ext.fly(e).getAttribute(g.attribute,g.namespace)}return i},onTargetOver:function(k){if(this.disabled){return}this.targetXY=k.getXY();var o=k.getTarget();if(!o||o.nodeType!==1||o==document||o==document.body){return}if(this.activeTarget&&((o==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(o))){this.clearTimer("hide");this.show();return}if(o&&this.targets[o.id]){this.activeTarget=this.targets[o.id];this.activeTarget.el=o;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=o}this.delayShow();return}var m,l=Ext.fly(o),e=this.tagConfig,n=e.namespace;if(m=this.getTipCfg(k)){var j=l.getAttribute(e.hide,n);this.activeTarget={el:o,text:m,width:l.getAttribute(e.width,n),autoHide:j!="user"&&j!=="false",title:l.getAttribute(e.title,n),cls:l.getAttribute(e.cls,n),align:l.getAttribute(e.align,n)};this.anchor=l.getAttribute(e.anchor,n);if(this.anchor){this.anchorTarget=o}this.delayShow()}},onTargetOut:function(b){if(this.activeTarget&&b.within(this.activeTarget.el)&&!this.getTipCfg(b)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(c){var d=this.activeTarget;if(d){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=d}if(d.width){this.setWidth(d.width);this.body.setWidth(this.adjustBodyWidth(d.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(d.title||"");this.body.update(d.text);this.autoHide=d.autoHide;this.dismissDelay=d.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(d.cls){this.el.addClass(d.cls);this.lastCls=d.cls}if(this.anchor){this.constrainPosition=false}else{if(d.align){c=this.el.getAlignToXY(d.el,d.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.QuickTip.superclass.showAt.call(this,c)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var c,d=false;return{init:function(a){if(!c){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(a)});return}c=new Ext.QuickTip({elements:"header,body",disabled:d});if(a!==false){c.render(Ext.getBody())}}},ddDisable:function(){if(c&&!d){c.disable()}},ddEnable:function(){if(c&&!d){c.enable()}},enable:function(){if(c){c.enable()}d=false},disable:function(){if(c){c.disable()}d=true},isEnabled:function(){return c!==undefined&&!c.disabled},getQuickTip:function(){return c},register:function(){c.register.apply(c,arguments)},unregister:function(){c.unregister.apply(c,arguments)},tips:function(){c.register.apply(c,arguments)}}}();Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig})}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this)}else{if(this.initialConfig.hidden!==false){this.hidden=false}this.internalDefaults={hideOnClick:false}}Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var b=this.doLayout.createDelegate(this,[]);this.on({add:b,remove:b})}},getLayoutTarget:function(){return this.ul},onRender:function(d,e){if(!d){d=Ext.getBody()}var g={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:g,constrain:false,parentEl:d,zindex:this.zIndex})}else{this.el=d.createChild(g)}Ext.menu.Menu.superclass.onRender.call(this,d,e);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})}},findTargetItem:function(c){var d=c.getTarget(".x-menu-list-item",this.ul,true);if(d&&d.menuItemId){return this.items.get(d.menuItemId)}},onClick:function(c){var d=this.findTargetItem(c);if(d){if(d.isFormField){this.setActiveItem(d)}else{if(d instanceof Ext.menu.BaseItem){if(d.menu&&this.ignoreParentClicks){d.expandMenu();c.preventDefault()}else{if(d.onClick){d.onClick(c);this.fireEvent("click",this,d,c)}}}}}},setActiveItem:function(d,c){if(d!=this.activeItem){this.deactivateActive();if((this.activeItem=d).isFormField){d.focus()}else{d.activate(c)}}else{if(c){d.expandMenu()}}},deactivateActive:function(){var a=this.activeItem;if(a){if(a.isFormField){if(a.collapse){a.collapse()}}else{a.deactivate()}delete this.activeItem}},tryActivate:function(j,k){var h=this.items;for(var m=j,i=h.length;m>=0&&m<i;m+=k){var l=h.get(m);if(l.isVisible()&&!l.disabled&&(l.canActivate||l.isFormField)){this.setActiveItem(l,false);return l}}return false},onMouseOver:function(c){var d=this.findTargetItem(c);if(d){if(d.canActivate&&!d.disabled){this.setActiveItem(d,true)}}this.over=true;this.fireEvent("mouseover",this,c,d)},onMouseOut:function(c){var d=this.findTargetItem(c);if(d){if(d==this.activeItem&&d.shouldDeactivate&&d.shouldDeactivate(c)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,c,d)},onScroll:function(h,e){if(h){h.stopEvent()}var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");g.scrollTop+=this.scrollIncrement*(i?-1:1);if(i?g.scrollTop<=0:g.scrollTop+this.activeMax>=g.scrollHeight){this.onScrollerOut(null,e)}},onScrollerIn:function(h,e){var g=this.ul.dom,i=Ext.fly(e).is(".x-menu-scroller-top");if(i?g.scrollTop>0:g.scrollTop+this.activeMax<g.scrollHeight){Ext.fly(e).addClass(["x-menu-item-active","x-menu-scroller-active"])}},onScrollerOut:function(c,d){Ext.fly(d).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(d,g,e){if(this.floating){this.parentMenu=e;if(!this.el){this.render();this.doLayout(false,true)}this.showAt(this.el.getAlignToXY(d,g||this.defaultAlign,this.defaultOffsets),e)}else{Ext.menu.Menu.superclass.show.call(this)}},showAt:function(c,d){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=d;if(!this.el){this.render()}if(this.enableScrolling){this.el.setXY(c);c[1]=this.constrainScroll(c[1]);c=[this.el.adjustForConstraints(c)[0],c[1]]}else{c=this.el.adjustForConstraints(c)}this.el.setXY(c);this.el.show();Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint()}}this.hidden=false;this.focus();this.fireEvent("show",this)}},constrainScroll:function(l){var j,p=this.ul.setHeight("auto").getHeight(),k=l,m,o,n,q;if(this.floating){o=Ext.fly(this.el.dom.parentNode);n=o.getScroll().top;q=o.getViewSize().height;m=l-n;j=this.maxHeight?this.maxHeight:q-m;if(p>q){j=q;k=l-m}else{if(j<p){k=l-(p-j);j=p}}}else{j=this.getHeight()}if(this.maxHeight){j=Math.min(this.maxHeight,j)}if(p>j&&j>0){this.activeMax=j-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("")}else{this.ul.setHeight(p);this.el.select(".x-menu-scroller").setDisplayed("none")}this.ul.dom.scrollTop=0;return k},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}})}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop())}if(this.floating){this.el.sync()}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(b){if(!this.isDestroyed){this.deepHide=b;Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide()}var b=this.parentMenu;if(this.deepHide===true&&b){if(b.floating){b.hide(true)}else{b.deactivateActive()}}},lookupComponent:function(b){if(Ext.isString(b)){b=(b=="separator"||b=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(b);this.applyDefaults(b)}else{if(Ext.isObject(b)){b=this.getMenuItem(b)}else{if(b.tagName||b.el){b=new Ext.BoxComponent({el:b})}}}return b},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.menu.Menu.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(d){if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d)}else{Ext.applyIf(c,d)}}}return c},getMenuItem:function(b){if(!b.isXType){if(!b.xtype&&Ext.isBoolean(b.checked)){return new Ext.menu.CheckItem(b)}return Ext.create(b,this.defaultType)}return b},addSeparator:function(){return this.add(new Ext.menu.Separator())},addElement:function(b){return this.add(new Ext.menu.BaseItem({el:b}))},addItem:function(b){return this.add(b)},addMenuItem:function(b){return this.add(this.getMenuItem(b))},addText:function(b){return this.add(new Ext.menu.TextItem(b))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var d=this.parentMenu;if(d&&d.activeChild==this){delete d.activeChild}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}var c=this.scroller;if(c){Ext.destroy(c.topRepeater,c.bottomRepeater,c.top,c.bottom)}Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function d(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)){b.tryActivate(b.items.length-1,-1)}}function c(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)+1,1)){b.tryActivate(0,1)}}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a},doRelay:function(a,b){var e=a.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&e!=a.TAB){return false}if(!this.menu.activeItem&&a.isNavKeyPress()&&e!=a.SPACE&&e!=a.RETURN){this.menu.tryActivate(0,1);return false}return b.call(this.scope||this,a,this.menu)},tab:function(a,b){a.stopEvent();if(a.shiftKey){d(a,b)}else{c(a,b)}},up:d,down:c,right:function(a,b){if(b.activeItem){b.activeItem.expandMenu(true)}},left:function(a,b){b.hide();if(b.parentMenu&&b.parentMenu.activeItem){b.parentMenu.activeItem.activate()}},enter:function(a,b){if(b.activeItem){a.stopPropagation();b.activeItem.onClick(a);b.fireEvent("click",this,b.activeItem);return true}}}}());Ext.menu.MenuMgr=function(){var t,v,w={},y=false,p=new Date();function n(){t={};v=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(v.length>0){r()}})}function r(){if(v&&v.length>0){var a=v.clone();a.each(function(b){b.hide()});return true}return false}function u(a){v.remove(a);if(v.length<1){Ext.getDoc().un("mousedown",o);y=false}}function q(b){var a=v.last();p=new Date();v.add(b);if(!y){Ext.getDoc().on("mousedown",o);y=true}if(b.parentMenu){b.getEl().setZIndex(parseInt(b.parentMenu.getEl().getStyle("z-index"),10)+3);b.parentMenu.activeChild=b}else{if(a&&!a.isDestroyed&&a.isVisible()){b.getEl().setZIndex(parseInt(a.getEl().getStyle("z-index"),10)+3)}}}function x(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}}function s(b){var a=b.parentMenu;if(!a&&!b.allowOtherMenus){r()}else{if(a&&a.activeChild){a.activeChild.hide()}}}function o(a){if(p.getElapsed()>50&&v.length>0&&!a.getTarget(".x-menu")){r()}}return{hideAll:function(){return r()},register:function(a){if(!t){n()}t[a.id]=a;a.on({beforehide:x,hide:u,beforeshow:s,show:q})},get:function(a){if(typeof a=="string"){if(!t){return null}return t[a]}else{if(a.events){return a}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a})}else{return Ext.create(a,"menu")}}}},unregister:function(a){delete t[a.id];a.un("beforehide",x);a.un("hide",u);a.un("beforeshow",s);a.un("show",q)},registerCheckable:function(b){var a=b.group;if(a){if(!w[a]){w[a]=[]}w[a].push(b)}},unregisterCheckable:function(b){var a=b.group;if(a){w[a].remove(b)}},onCheckChange:function(d,c){if(d.group&&c){var a=w[d.group],e=0,g=a.length,b;for(;e<g;e++){b=a[e];if(b!=d){b.setChecked(false)}}}},getCheckedItem:function(b){var a=w[b];if(a){for(var c=0,d=a.length;c<d;c++){if(a[c].checked){return a[c]}}}return null},setCheckedItem:function(c,a){var b=w[c];if(b){for(var d=0,e=b.length;d<e;d++){if(b[d].id==a){b[d].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}},onRender:function(c,d){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt}else{this.container.addClass("x-menu-list-item");this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate})}},setHandler:function(c,d){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=c,this.scope=d)},onClick:function(b){if(!this.disabled&&this.fireEvent("click",this,b)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,b)!==false)){this.handleClick(b)}else{b.stopEvent()}},activate:function(){if(this.disabled){return false}var b=this.container;b.addClass(this.activeClass);this.region=b.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(b){return !this.region||!this.region.contains(b.getPoint())},handleClick:function(c){var d=this.parentMenu;if(this.hideOnClick){if(d.floating){d.hide.defer(this.clickHideDelay,d,[true])}else{d.deactivateActive()}}},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(b){if(typeof b=="string"){b={text:b}}Ext.menu.TextItem.superclass.constructor.call(this,b)},onRender:function(){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML=this.text;this.el=b;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(d){var c=document.createElement("span");c.className=this.itemCls;c.innerHTML="&#160;";this.el=c;d.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,altText:"",hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this}},onRender:function(e,a){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img alt="{altText}" src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>")}var g=this.getTemplateArgs();this.el=a?this.itemTpl.insertBefore(a,g,true):this.itemTpl.append(e,g,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true})}Ext.menu.Item.superclass.onRender.call(this,e,a)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;",altText:this.altText||""}},setText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize()}},setIconClass:function(d){var c=this.iconCls;this.iconCls=d;if(this.rendered){this.iconEl.replaceClass(c,this.iconCls)}},beforeDestroy:function(){if(this.menu){delete this.menu.ownerCt;this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(b){if(!this.href){b.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(b){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(b){this.expandMenu()}}return true},shouldDeactivate:function(b){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,b)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(b.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(b){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[b])}else{if(this.menu.isVisible()&&b){this.menu.tryActivate(0,1)}}}},deferExpand:function(b){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(b){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(b){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(d,e){var g=e===true;if(this.checked!=d&&(g||this.fireEvent("beforecheckchange",this,d)!==false)){Ext.menu.MenuMgr.onCheckChange(this,d);if(this.container){this.container[d?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=d;if(!g){this.fireEvent("checkchange",this,d)}}},handleClick:function(b){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20})}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true)}},onShow:function(){var b=this.picker.getEl();b.setWidth(b.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}}});Ext.reg("colormenu",Ext.menu.ColorMenu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(i,g){if(!this.el){var e=this.getAutoCreate();if(!e.name){e.name=this.name||this.id}if(this.inputType){e.type=this.inputType}this.autoEl=e}Ext.form.Field.superclass.onRender.call(this,i,g);if(this.submitValue===false){this.el.dom.removeAttribute("name")}var h=this.el.dom.type;if(h){if(h=="password"){h="text"}this.el.addClass("x-form-"+h)}if(this.readOnly){this.setReadOnly(true)}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},setReadOnly:function(b){if(this.rendered){this.el.dom.readOnly=b}this.readOnly=b},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.getKeyEvent(),this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate()}var b=this.getValue();if(String(b)!==String(this.startValue)){this.fireEvent("change",this,b,this.startValue)}this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(e){if(this.disabled){return true}var g=this.preventMark;this.preventMark=e===true;var d=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=g;return d},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(b){return b},validateValue:function(c){var d=this.getErrors(c)[0];if(d==undefined){return true}else{this.markInvalid(d);return false}},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(g){if(this.rendered&&!this.preventMark){g=g||this.invalidText;var e=this.getMessageHandler();if(e){e.mark(this,g)}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var d=Ext.getDom(this.msgTarget);if(d){d.innerHTML=g;d.style.display=this.msgDisplay}}}}this.setActiveError(g)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var d=this.getMessageHandler();if(d){d.clear(this)}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);if(c){c.innerHTML="";c.style.display="none"}}}}this.unsetActiveError()},setActiveError:function(c,d){this.activeError=c;if(d!==true){this.fireEvent("invalid",this,c)}},unsetActiveError:function(b){delete this.activeError;if(b!==true){this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var b=this.rendered?this.el.getValue():Ext.value(this.value,"");if(b===this.emptyText){b=""}return b},getValue:function(){if(!this.rendered){return this.value}var b=this.el.getValue();if(b===this.emptyText||b===undefined){b=""}return b},setRawValue:function(b){return this.rendered?(this.el.dom.value=(Ext.isEmpty(b)?"":b)):""},setValue:function(b){this.value=b;if(this.rendered){this.el.dom.value=(Ext.isEmpty(b)?"":b);this.validate()}return this},append:function(b){this.setValue([this.getValue(),b].join(""))}});Ext.form.MessageTargets={qtip:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.qtip=c;d.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(b){b.el.removeClass(b.invalidClass);b.el.dom.qtip=""}},title:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.title=c},clear:function(b){b.el.dom.title=""}},under:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorEl){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return}d.errorEl=e.createChild({cls:"x-form-invalid-msg"});d.on("resize",d.alignErrorEl,d);d.on("destroy",function(){Ext.destroy(this.errorEl)},d)}d.alignErrorEl();d.errorEl.update(g);Ext.form.Field.msgFx[d.msgFx].show(d.errorEl,d)},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorEl){Ext.form.Field.msgFx[b.msgFx].hide(b.errorEl,b)}else{b.el.dom.title=""}}},side:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorIcon){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return}d.errorIcon=e.createChild({cls:"x-form-invalid-icon"});if(d.ownerCt){d.ownerCt.on("afterlayout",d.alignErrorIcon,d);d.ownerCt.on("expand",d.alignErrorIcon,d)}d.on("resize",d.alignErrorIcon,d);d.on("destroy",function(){Ext.destroy(this.errorIcon)},d)}d.alignErrorIcon();d.errorIcon.dom.qtip=g;d.errorIcon.dom.qclass="x-form-invalid-tip";d.errorIcon.show()},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorIcon){b.errorIcon.dom.qtip="";b.errorIcon.hide()}else{b.el.dom.title=""}}}};Ext.form.Field.msgFx={normal:{show:function(d,c){d.setDisplayed("block")},hide:function(d,c){d.setDisplayed(false).update("")}},slide:{show:function(d,c){d.slideIn("t",{stopFx:true})},hide:function(d,c){d.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(d,c){d.fixDisplay();d.alignTo(c.el,"tl-tr");d.slideIn("l",{stopFx:true})},hide:function(d,c){d.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this)}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this)}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});this.mon(this.el,"click",this.autoSize,this)}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})}},onMouseDown:function(b){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true})}},processValue:function(d){if(this.stripCharsRe){var c=d.replace(this.stripCharsRe,"");if(c!==d){this.setRawValue(c);return c}}return d},filterValidation:function(b){if(!b.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(b){if(this.doAutoSize(b)){this.autoSize()}},doAutoSize:function(b){return !b.isNavKeyPress()},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){var d=this.el,c;if(this.emptyText){if(d.dom.value==this.emptyText){this.setRawValue("");c=true}d.removeClass(this.emptyClass)}if(this.selectOnFocus||c){d.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(d){if(d.ctrlKey){return}var e=d.getKey();if(Ext.isGecko&&(d.isNavKeyPress()||e==d.BACKSPACE||(e==d.DELETE&&d.button==-1))){return}var g=String.fromCharCode(d.getCharCode());if(!Ext.isGecko&&d.isSpecialKey()&&!g){return}if(!this.maskRe.test(g)){d.stopEvent()}},setValue:function(b){if(this.emptyText&&this.el&&!Ext.isEmpty(b)){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(g){var h=Ext.form.TextField.superclass.getErrors.apply(this,arguments);g=Ext.isDefined(g)?g:this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var i=this.validator(g);if(i!==true){h.push(i)}}if(g.length<1||g===this.emptyText){if(this.allowBlank){return h}else{h.push(this.blankText)}}if(!this.allowBlank&&(g.length<1||g===this.emptyText)){h.push(this.blankText)}if(g.length<this.minLength){h.push(String.format(this.minLengthText,this.minLength))}if(g.length>this.maxLength){h.push(String.format(this.maxLengthText,this.maxLength))}if(this.vtype){var e=Ext.form.VTypes;if(!e[this.vtype](g,this)){h.push(this.vtypeText||e[this.vtype+"Text"])}}if(this.regex&&!this.regex.test(g)){h.push(this.regexText)}return h},selectText:function(j,i){var m=this.getRawValue();var l=false;if(m.length>0){j=j===undefined?0:j;i=i===undefined?m.length:i;var k=this.el.dom;if(k.setSelectionRange){k.setSelectionRange(j,i)}else{if(k.createTextRange){var d=k.createTextRange();d.moveStart("character",j);d.moveEnd("character",i-m.length);d.select()}}l=Ext.isGecko||Ext.isOpera}else{l=true}if(l){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var i=this.el;var d=i.dom.value;var h=document.createElement("div");h.appendChild(document.createTextNode(d));d=h.innerHTML;Ext.removeNode(h);h=null;d+="&#160;";var g=Math.min(this.growMax,Math.max(this.metrics.getWidth(d)+10,this.growMin));this.el.setWidth(g);this.fireEvent("autosize",this,g)},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();this.validationTask=null}Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(e,g){Ext.form.TriggerField.superclass.onResize.call(this,e,g);var d=this.getTriggerWidth();if(Ext.isNumber(e)){this.el.setWidth(e-d)}this.wrap.setWidth(this.el.getWidth()+d)},getTriggerWidth:function(){var b=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&b===0){b=this.defaultTriggerWidth}return b},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(c,d){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.triggerClass});this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth())},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false)}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this)}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this)}this.trigger.setDisplayed(!this.hideTrigger)}this.onResize(this.width||this.wrap.getWidth())}},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState()}},setEditable:function(b){if(b!=this.editable){this.editable=b;this.updateEditState()}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState()}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this)}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this)}}},checkTab:function(d,c){if(c.getKey()==c.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.wrap.contains(b.target)&&this.validateBlur(b)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this)}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass)}},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(b){return this.triggers[b]},afterRender:function(){Ext.form.TwinTriggerField.superclass.afterRender.call(this);var g=this.triggers,d=0,e=g.length;for(;d<e;++d){if(this["hideTrigger"+(d+1)]){g[d].hide()}}},initTrigger:function(){var d=this.trigger.select(".x-form-trigger",true),c=this;d.each(function(h,a,i){var b="Trigger"+(i+1);h.hide=function(){var e=c.wrap.getWidth();this.dom.style.display="none";c.el.setWidth(e-c.trigger.getWidth());c["hidden"+b]=true};h.show=function(){var e=c.wrap.getWidth();this.dom.style.display="";c.el.setWidth(e-c.trigger.getWidth());c["hidden"+b]=false};this.mon(h,"click",this["on"+b+"Click"],this,{preventDefault:true});h.addClassOnOver("x-form-trigger-over");h.addClassOnClick("x-form-trigger-click")},this);this.triggers=d.elements},getTriggerWidth:function(){var b=0;Ext.each(this.triggers,function(h,i){var g="Trigger"+(i+1),a=h.getWidth();if(a===0&&!this["hidden"+g]){b+=this.defaultTriggerWidth}else{b+=a}},this);return b},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(c,d){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,c,d);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!=b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b)}},doAutoSize:function(b){return !b.isNavKeyPress()||b.getKey()==b.ENTER},filterValidation:function(b){if(!b.isNavKeyPress()||(!this.enterIsSpecial&&b.keyCode==b.ENTER)){this.validationTask.delay(this.validationDelay)}},autoSize:function(){if(!this.grow||!this.textSizeEl){return}var i=this.el,g=Ext.util.Format.htmlEncode(i.dom.value),h=this.textSizeEl,e;Ext.fly(h).setWidth(this.el.getWidth());if(g.length<1){g="&#160;&#160;"}else{g+=this.growAppend;if(Ext.isIE){g=g.replace(/\n/g,"&#160;<br />")}}h.innerHTML=g;e=Math.min(this.growMax,Math.max(h.offsetHeight,this.growMin));if(e!=this.lastHeight){this.lastHeight=e;this.el.setHeight(e);this.fireEvent("autosize",this,e)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",autoStripChars:false,initEvents:function(){var b=this.baseChars+"";if(this.allowDecimals){b+=this.decimalSeparator}if(this.allowNegative){b+="-"}b=Ext.escapeRe(b);this.maskRe=new RegExp("["+b+"]");if(this.autoStripChars){this.stripCharsRe=new RegExp("[^"+b+"]","gi")}Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(d){var g=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);d=Ext.isDefined(d)?d:this.processValue(this.getRawValue());if(d.length<1){return g}d=String(d).replace(this.decimalSeparator,".");if(isNaN(d)){g.push(String.format(this.nanText,d))}var e=this.parseValue(d);if(e<this.minValue){g.push(String.format(this.minText,this.minValue))}if(e>this.maxValue){g.push(String.format(this.maxText,this.maxValue))}return g},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(b){b=this.fixPrecision(b);b=Ext.isNumber(b)?b:parseFloat(String(b).replace(this.decimalSeparator,"."));b=isNaN(b)?"":String(b).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,b)},setMinValue:function(b){this.minValue=Ext.num(b,Number.NEGATIVE_INFINITY)},setMaxValue:function(b){this.maxValue=Ext.num(b,Number.MAX_VALUE)},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?"":b},fixPrecision:function(c){var d=isNaN(c);if(!this.allowDecimals||this.decimalPrecision==-1||d||!c){return d?"":c}return parseFloat(parseFloat(c).toFixed(this.decimalPrecision))},beforeBlur:function(){var b=this.parseValue(this.getRawValue());if(!Ext.isEmpty(b)){this.setValue(b)}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,startDay:0,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(d,g){if(/[gGhH]/.test(g.replace(/(\\.)/g,""))){return Date.parseDate(d,g)}else{var e=Date.parseDate(d+" "+this.initTime,g+" "+this.initTimeFormat);if(e){return e.clearTime()}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue)}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(b){this.onTriggerClick()},scope:this,forceKeyDown:true})},initDisabledDays:function(){if(this.disabledDates){var d=this.disabledDates,e=d.length-1,g="(?:";Ext.each(d,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":d[b];if(b!=e){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){this.disabledDates=b;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(b){this.disabledDays=b;if(this.menu){this.menu.picker.setDisabledDays(b)}},setMinValue:function(b){this.minValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(b){this.maxValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},getErrors:function(m){var k=Ext.form.DateField.superclass.getErrors.apply(this,arguments);m=this.formatDate(m||this.processValue(this.getRawValue()));if(m.length<1){return k}var o=m;m=this.parseDate(m);if(!m){k.push(String.format(this.invalidText,o,this.format));return k}var l=m.getTime();if(this.minValue&&l<this.minValue.clearTime().getTime()){k.push(String.format(this.minText,this.formatDate(this.minValue)))}if(this.maxValue&&l>this.maxValue.clearTime().getTime()){k.push(String.format(this.maxText,this.formatDate(this.maxValue)))}if(this.disabledDays){var j=m.getDay();for(var i=0;i<this.disabledDays.length;i++){if(j===this.disabledDays[i]){k.push(this.disabledDaysText);break}}}var n=this.formatDate(m);if(this.disabledDatesRE&&this.disabledDatesRE.test(n)){k.push(String.format(this.disabledDatesText,n))}return k},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(b){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},parseDate:function(j){if(!j||Ext.isDate(j)){return j}var h=this.safeParse(j,this.format),m=this.altFormats,k=this.altFormatsArray;if(!h&&m){k=k||m.split("|");for(var l=0,i=k.length;l<i&&!h;l++){h=this.safeParse(j,k[l])}}return h},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(b){return Ext.isDate(b)?b.dateFormat(this.format):b},onTriggerClick:function(){if(this.disabled){return}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false})}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,startDay:this.startDay,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on")},menuEvents:function(b){this.menu[b]("select",this.onSelect,this);this.menu[b]("hide",this.onMenuHide,this);this.menu[b]("show",this.onFocus,this)},onSelect:function(d,c){this.setValue(c);this.fireEvent("select",this,c);this.menu.hide()},onMenuHide:function(){this.focus(false,60);this.menuEvents("un")},beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true},validate:function(){return true},getRawValue:function(){var b=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(b===this.emptyText){b=""}if(this.htmlEncode){b=Ext.util.Format.htmlDecode(b)}return b},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(b){if(this.htmlEncode){b=Ext.util.Format.htmlEncode(b)}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(b)?"":b)):(this.value=b)},setValue:function(b){this.setRawValue(b);return this}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var o=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=o.name}if(!this.store){this.mode="local";var k=[],n=o.options;for(var d=0,i=n.length;d<i;d++){var l=n[d],m=(l.hasAttribute?l.hasAttribute("value"):l.getAttributeNode("value").specified)?l.value:l.text;if(l.selected&&Ext.isEmpty(this.value,true)){this.value=m}k.push([m,l.text])}this.store=new Ext.data.ArrayStore({idIndex:0,fields:["value","text"],data:k,autoDestroy:true});this.valueField="value";this.displayField="text"}o.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(o,this.autoCreate||this.defaultAutoCreate);this.render(this.el.parentNode,o)}Ext.removeNode(o)}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2"}this.mode="local"}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0}}},onRender:function(c,d){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false}Ext.form.ComboBox.superclass.onRender.call(this,c,d);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||Ext.id())},"before",true)}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"")}},getParentZIndex:function(){var b;if(this.ownerCt){this.findParentBy(function(a){b=parseInt(a.getPositionEl().getStyle("z-index"),10);return !!b})}return b},getZIndex:function(c){c=c||Ext.getDom(this.getListParent()||Ext.getBody());var d=parseInt(Ext.fly(c).getStyle("z-index"),10);if(!d){d=this.getParentZIndex()}return(d||12000)+5},initList:function(){if(!this.list){var e="x-combo-list",g=Ext.getDom(this.getListParent()||Ext.getBody());this.list=new Ext.Layer({parentEl:g,shadow:this.shadow,cls:[e,this.listClass].join(" "),constrain:false,zindex:this.getZIndex(g)});var d=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(d,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"))}if(this.title){this.header=this.list.createChild({cls:e+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:e+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(d-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:e+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+e+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+e+"-item",emptyText:this.listEmptyText,deferEmptyText:false});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(a,c,b){this.maxHeight=b-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=c;this.innerList.setWidth(c-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(d,c){if(this.store&&!c){if(this.store!==d&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this)}if(!d){this.store=null;if(this.view){this.view.bindStore(null)}if(this.pageTb){this.pageTb.bindStore(null)}}}if(d){if(!c){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(d)}}this.store=Ext.StoreMgr.lookup(d);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(d)}}},reset:function(){if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter()}Ext.form.ComboBox.superclass.reset.call(this)},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(b){this.inKeyMode=true;this.selectPrev()},down:function(b){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(b){this.onViewClick()},esc:function(b){this.collapse()},tab:function(b){if(this.forceSelection===true){this.collapse()}else{this.onViewClick(false)}return true},scope:this,doRelay:function(i,e,g){if(g=="down"||this.scope.isExpanded()){var h=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(i)}return h}return true},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this)}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(b){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,b)}},onResize:function(d,c){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(d)&&this.isVisible()&&this.list){this.doResize(d)}else{this.bufferSize=d}},doResize:function(d){if(!Ext.isDefined(this.listWidth)){var c=Math.max(d,this.minListWidth);this.list.setWidth(c);this.innerList.setWidth(c-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},onBeforeLoad:function(){if(!this.hasFocus){return}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true)}}else{if(this.autoSelect!==false){this.selectNext()}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.collapse()}},onTypeAhead:function(){if(this.store.getCount()>0){var e=this.store.getAt(0);var i=e.data[this.displayField];var g=i.length;var h=this.getRawValue().length;if(h!=g){this.setRawValue(i);this.selectText(h,i.length)}}},assertValue:function(){var c=this.getRawValue(),d;if(this.valueField&&Ext.isDefined(this.value)){d=this.findRecord(this.valueField,this.value)}if(!d||d.get(this.displayField)!=c){d=this.findRecord(this.displayField,c)}if(!d&&this.forceSelection){if(c.length>0&&c!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText()}else{this.clearValue()}}else{if(d&&this.valueField){if(this.value==c){return}c=d.get(this.valueField||this.displayField)}this.setValue(c)}},onSelect:function(d,c){if(this.fireEvent("beforeselect",this,d,c)!==false){this.setValue(d.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,d,c)}},getName:function(){var b=this.hiddenField;return b&&b.name?b.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(e){var g=e;if(this.valueField){var d=this.findRecord(this.valueField,e);if(d){g=d.data[this.displayField]}else{if(Ext.isDefined(this.valueNotFoundText)){g=this.valueNotFoundText}}}this.lastSelectionText=g;if(this.hiddenField){this.hiddenField.value=Ext.value(e,"")}Ext.form.ComboBox.superclass.setValue.call(this,g);this.value=e;return this},findRecord:function(g,d){var e;if(this.store.getCount()>0){this.store.each(function(a){if(a.data[g]==d){e=a;return false}})}return e},onViewMove:function(c,d){this.inKeyMode=false},onViewOver:function(h,e){if(this.inKeyMode){return}var i=this.view.findItemFromChild(e);if(i){var g=this.view.indexOf(i);this.select(g,false)}},onViewClick:function(e){var g=this.view.getSelectedIndexes()[0],i=this.store,h=i.getAt(g);if(h){this.onSelect(h,g)}else{this.collapse()}if(e!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var h=this.innerList.dom,k=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,m=Math.max(h.clientHeight,h.offsetHeight,h.scrollHeight),i=this.getPosition()[1]-Ext.getBody().getScroll().top,j=Ext.lib.Dom.getViewHeight()-i-this.getSize().height,l=Math.max(i,j,this.minHeight||0)-this.list.shadowOffset-k-5;m=Math.min(m,l,this.maxHeight);this.innerList.setHeight(m);this.list.beginUpdate();this.list.setHeight(m+k);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(e,g){if(!Ext.isEmpty(e,true)){var d=this.findRecord(this.valueField||this.displayField,e);if(d){this.select(this.store.indexOf(d),g);return true}}return false},select:function(e,g){this.selectedIndex=e;this.view.select(e);if(g!==false){var d=this.view.getNode(e);if(d){this.innerList.scrollChildIntoView(d,false)}}},selectNext:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<b-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(c){var d=c.getKey();if(this.editable!==false&&this.readOnly!==true&&(d==c.BACKSPACE||!c.isSpecialKey())){this.lastKey=d;this.dqTask.delay(this.queryDelay)}Ext.form.ComboBox.superclass.onKeyUp.call(this,c)},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=false},doQuery:function(g,d){g=Ext.isEmpty(g)?"":g;var e={query:g,forceAll:d,combo:this,cancel:false};if(this.fireEvent("beforequery",e)===false||e.cancel){return false}g=e.query;d=e.forceAll;if(d===true||(g.length>=this.minChars)){if(this.lastQuery!==g){this.lastQuery=g;if(this.mode=="local"){this.selectedIndex=-1;if(d){this.store.clearFilter()}else{this.store.filter(this.displayField,g)}this.onLoad()}else{this.store.baseParams[this.queryParam]=g;this.store.load({params:this.getParams(g)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(e){var d={},g=this.store.paramNames;if(this.pageSize){d[g.start]=0;d[g.limit]=this.pageSize}return d},collapse:function(){if(!this.isExpanded()){return}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(b){if(!this.isDestroyed&&!b.within(this.wrap)&&!b.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight()}if(this.pageSize){this.assetHeight+=this.footer.getHeight()}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.setZIndex(this.getZIndex());this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto")}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)},onTriggerClick:function(){if(this.readOnly||this.disabled){return}if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(c,d){Ext.form.Checkbox.superclass.onRender.call(this,c,d);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}if(Ext.isIE&&!Ext.isStrict){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked)}},setValue:function(e){var g=this.checked,d=this.inputValue;this.checked=(e===true||e==="true"||e=="1"||(d?e==d:String(e).toLowerCase()=="on"));if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked}if(g!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}return this}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(x,z){if(!this.el){var s={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:x,bufferResize:false};var E={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(s,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var A=0,v=this.items.length;A<v;A++){Ext.applyIf(this.items[A],E)}}else{var B,u=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var w=[];for(var A=0;A<this.columns;A++){w.push((100/this.columns)*0.01)}this.columns=w}B=this.columns.length;for(var A=0;A<B;A++){var D=Ext.apply({items:[]},E);D[this.columns[A]<=1?"columnWidth":"width"]=this.columns[A];if(this.defaults){D.defaults=Ext.apply(D.defaults||{},this.defaults)}u.push(D)}if(this.vertical){var i=Math.ceil(this.items.length/B),t=0;for(var A=0,v=this.items.length;A<v;A++){if(A>0&&A%i==0){t++}if(this.items[A].fieldLabel){this.items[A].hideLabel=false}u[t].items.push(this.items[A])}}else{for(var A=0,v=this.items.length;A<v;A++){var l=A%B;if(this.items[A].fieldLabel){this.items[A].hideLabel=false}u[l].items.push(this.items[A])}}Ext.apply(s,{layoutConfig:{columns:B},items:u})}this.panel=new Ext.Container(s);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var C=this.el.up(this.itemCls).child("label",true);if(C){C.setAttribute("htmlFor",this.forId)}}var y=this.panel.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(y)}Ext.form.CheckboxGroup.superclass.onRender.call(this,x,z)},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(b){b.on("check",this.fireChecked,this);b.inGroup=true})},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout()}},fireChecked:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});this.fireEvent("change",this,b)},getErrors:function(){var c=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var d=true;this.eachItem(function(a){if(a.checked){return(d=false)}});if(d){c.push(this.blankText)}}return c},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},setReadOnly:function(b){if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})},onResize:function(d,c){this.panel.setSize(d,c);this.panel.doLayout()},reset:function(){if(this.originalValue){this.eachItem(function(b){if(b.setValue){b.setValue(false);b.originalValue=b.getValue()}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal}else{this.eachItem(function(b){if(b.reset){b.reset()}})}(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments)}else{this.buffered=true;this.value=arguments}return this},onSetValue:function(h,i){if(arguments.length==1){if(Ext.isArray(h)){Ext.each(h,function(a,c){if(Ext.isObject(a)&&a.setValue){a.setValue(true);if(this.resetOriginal===true){a.originalValue=a.getValue()}}else{var b=this.items.itemAt(c);if(b){b.setValue(a)}}},this)}else{if(Ext.isObject(h)){for(var g in h){var e=this.getBox(g);if(e){e.setValue(h[g])}}}else{this.setValueForItem(h)}}}else{var e=this.getBox(h);if(e){e.setValue(i)}}},beforeDestroy:function(){Ext.destroy(this.panel);if(!this.rendered){Ext.destroy(this.items)}Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(b){b=String(b).split(",");this.eachItem(function(a){if(b.indexOf(a.inputValue)>-1){a.setValue(true)}})},getBox:function(c){var d=null;this.eachItem(function(a){if(c==a||a.dataIndex==c||a.id==c||a.getName()==c){d=a;return false}});return d},getValue:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});return b},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this)}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,labelConnector:", ",initComponent:function(){var j=[],h=this.items,k;for(var l=0,m=h.length;l<m;l++){k=h[l];if(!Ext.isEmpty(k.ref)){k.ref="../"+k.ref}j.push(k.fieldLabel);Ext.applyIf(k,this.defaults);if(!(l==m-1&&this.skipLastItemMargin)){Ext.applyIf(k,{margins:this.defaultMargins})}}this.fieldLabel=this.fieldLabel||this.buildLabel(j);this.fieldErrors=new Ext.util.MixedCollection(true,function(a){return a.field});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments);this.innerCt=new Ext.Container({layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0",ownerCt:this});this.innerCt.ownerCt=undefined;var i=this.innerCt.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(i)},onRender:function(i,g){if(!this.el){var h=this.innerCt;h.render(i);this.el=h.getEl();if(this.combineErrors){this.eachItem(function(a){Ext.apply(a,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[a],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[a],0)})})}var e=this.el.parent().parent().child("label",true);if(e){e.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(h,i){var e=h.getName(),g={field:e,errorName:h.fieldLabel||e,error:i};this.fieldErrors.replace(e,g);h.el.addClass(h.invalidClass)},onFieldClearInvalid:function(b){this.fieldErrors.removeKey(b.getName());b.el.removeClass(b.invalidClass)},updateInvalidMark:function(){var d=Ext.isIE6&&Ext.isStrict;if(this.fieldErrors.length==0){this.clearInvalid();if(d){this.clearInvalid.defer(50,this)}}else{var c=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(c);if(d){this.markInvalid(c)}}},validateValue:function(){var b=true;this.eachItem(function(a){if(!a.isValid()){b=false}});return b},buildCombinedErrorMessage:function(i){var j=[],g;for(var k=0,h=i.length;k<h;k++){g=i[k];j.push(String.format("{0}: {1}",g.errorName,g.error))}return j.join("<br />")},sortErrors:function(){var b=this.items;this.fieldErrors.sort("ASC",function(i,k){var l=function(c){return function(d){return d.getName()==c}};var a=b.findIndexBy(l(i.field)),j=b.findIndexBy(l(k.field));return a<j?-1:1})},reset:function(){this.eachItem(function(b){b.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(b){b.clearInvalid()})},buildLabel:function(b){return Ext.clean(b).join(this.labelConnector)},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},eachItem:function(c,d){if(this.items&&this.items.each){this.items.each(c,d||this)}},onResize:function(i,k,h,j){var g=this.innerCt;if(this.rendered&&g.rendered){g.setSize(i,k)}Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(g,d){if(this.rendered){var e=this.innerCt;e.forceLayout=this.ownerCt.forceLayout;e.doLayout(g,d)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},setReadOnly:function(b){if(b==undefined){b=true}b=!!b;if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var d=this.el.up("form")||Ext.getBody();var c=d.child("input[name="+this.el.dom.name+"]:checked",true);return c?c.value:null},setValue:function(e){var g,h,i;if(typeof e=="boolean"){Ext.form.Radio.superclass.setValue.call(this,e)}else{if(this.rendered){g=this.getCheckEl();i=g.child("input[name="+this.el.dom.name+"][value="+e+"]",true);if(i){Ext.getCmp(i.id).setValue(true)}}}if(this.rendered&&this.checked){g=g||this.getCheckEl();h=this.getCheckEl().select("input[name="+this.el.dom.name+"]");h.each(function(a){if(a.dom.id!=this.id){Ext.getCmp(a.dom.id).setValue(false)}},this)}return this},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});return b},onSetValue:function(g,d){if(arguments.length>1){var e=this.getBox(g);if(e){e.setValue(d);if(e.checked){this.eachItem(function(a){if(a!==e){a.setValue(false)}})}}}else{this.setValueForItem(g)}},setValueForItem:function(b){b=String(b).split(",")[0];this.eachItem(function(a){a.setValue(b==a.inputValue)})},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)}this.checkTask.delay(10)},bufferChecked:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});this.fireEvent("change",this,b)},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null}Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",shouldLayout:false,onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(c,d){Ext.apply(this,d);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}this.items=new Ext.util.MixedCollection(false,function(a){return a.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");if(c){this.initEl(c)}Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(b){this.el=Ext.get(b);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(b){b.stopEvent()},destroy:function(b){if(b!==true){this.items.each(function(a){Ext.destroy(a)});Ext.destroy(this.el)}this.items.clear();this.purgeListeners()},isValid:function(){var b=true;this.items.each(function(a){if(!a.validate()){b=false}});return b},isDirty:function(){var b=false;this.items.each(function(a){if(a.isDirty()){b=true;return false}});return b},doAction:function(c,d){if(Ext.isString(c)){c=new Ext.form.Action.ACTION_TYPES[c](this,d)}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);c.run.defer(100,c)}return this},submit:function(e){e=e||{};if(this.standardSubmit){var g=e.clientValidation===false||this.isValid();if(g){var i=this.el.dom;if(this.url&&Ext.isEmpty(i.action)){i.action=this.url}i.submit()}return g}var h=String.format("{0}submit",this.api?"direct":"");this.doAction(h,e);return this},load:function(d){var c=String.format("{0}load",this.api?"direct":"");this.doAction(c,d);return this},updateRecord:function(e){e.beginEdit();var g=e.fields,h,i;g.each(function(a){h=this.findField(a.name);if(h){i=h.getValue();if(typeof i!=undefined&&i.getGroupValue){i=i.getGroupValue()}else{if(h.eachItem){i=[];h.eachItem(function(b){i.push(b.getValue())})}}e.set(a.name,i)}},this);e.endEdit();return this},loadRecord:function(b){this.setValues(b.data);return this},beforeAction:function(d){this.items.each(function(a){if(a.isFormField&&a.syncValue){a.syncValue()}});var c=d.options;if(c.waitMsg){if(this.waitMsgTarget===true){this.el.mask(c.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(c.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(c.waitMsg,c.waitTitle||this.waitTitle)}}}},afterAction:function(e,g){this.activeAction=null;var d=e.options;if(d.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(g){if(d.reset){this.reset()}Ext.callback(d.success,d.scope,[this,e]);this.fireEvent("actioncomplete",this,e)}else{Ext.callback(d.failure,d.scope,[this,e]);this.fireEvent("actionfailed",this,e)}},findField:function(g){var d=this.items.get(g);if(!Ext.isObject(d)){var e=function(a){if(a.isFormField){if(a.dataIndex==g||a.id==g||a.getName()==g){d=a;return false}else{if(a.isComposite){return a.items.each(e)}else{if(a instanceof Ext.form.CheckboxGroup&&a.rendered){return a.eachItem(e)}}}}};this.items.each(e)}return d||null},markInvalid:function(k){if(Ext.isArray(k)){for(var o=0,j=k.length;o<j;o++){var i=k[o];var n=this.findField(i.id);if(n){n.markInvalid(i.msg)}}}else{var m,l;for(l in k){if(!Ext.isFunction(k[l])&&(m=this.findField(l))){m.markInvalid(k[l])}}}return this},setValues:function(o){if(Ext.isArray(o)){for(var n=0,j=o.length;n<j;n++){var i=o[n];var m=this.findField(i.id);if(m){m.setValue(i.value);if(this.trackResetOnLoad){m.originalValue=m.getValue()}}}}else{var l,k;for(k in o){if(!Ext.isFunction(o[k])&&(l=this.findField(k))){l.setValue(o[k]);if(this.trackResetOnLoad){l.originalValue=l.getValue()}}}}return this},getValues:function(c){var d=Ext.lib.Ajax.serializeForm(this.el.dom);if(c===true){return d}return Ext.urlDecode(d)},getFieldValues:function(h){var j={},i,g,k;this.items.each(function(a){if(!a.disabled&&(h!==true||a.isDirty())){i=a.getName();g=j[i];k=a.getValue();if(Ext.isDefined(g)){if(Ext.isArray(g)){j[i].push(k)}else{j[i]=[g,k]}}else{j[i]=k}}});return j},clearInvalid:function(){this.items.each(function(b){b.clearInvalid()});return this},reset:function(){this.items.each(function(b){b.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(b){this.items.remove(b);return this},cleanDestroyed:function(){this.items.filterBy(function(b){return !!b.isDestroyed}).each(this.remove,this)},render:function(){this.items.each(function(b){if(b.isFormField&&!b.rendered&&document.getElementById(b.id)){b.applyToMarkup(b.id)}});return this},applyToFields:function(b){this.items.each(function(a){Ext.apply(a,b)});return this},applyIfToFields:function(b){this.items.each(function(a){Ext.applyIf(a,b)});return this},callFieldMethod:function(c,d){d=d||[];this.items.each(function(a){if(Ext.isFunction(a[c])){a[c].apply(a,d)}});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var b=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,b)},initFields:function(){var g=this.form;var e=this;var d=function(a){if(e.isField(a)){g.add(a)}else{if(a.findBy&&a!=e){e.applySettings(a);if(a.items&&a.items.each){a.items.each(d,this)}}}};this.items.each(d,this)},applySettings:function(c){var d=c.ownerCt;Ext.applyIf(c,{labelAlign:d.labelAlign,labelWidth:d.labelWidth,itemCls:d.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(c,d){this.initFields();Ext.FormPanel.superclass.onRender.call(this,c,d);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(b){return !!b.setValue&&!!b.getValue&&!!b.markInvalid&&!!b.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring()}},onAdd:function(b){Ext.FormPanel.superclass.onAdd.call(this,b);this.processAdd(b)},onAddEvent:function(d,c){if(d!==this){this.processAdd(c)}},processAdd:function(b){if(this.isField(b)){this.form.add(b)}else{if(b.findBy){this.applySettings(b);this.form.add.apply(this.form,b.findBy(this.isField))}}},onRemove:function(b){Ext.FormPanel.superclass.onRemove.call(this,b);this.processRemove(b)},onRemoveEvent:function(d,c){if(d!==this){this.processRemove(c)}},processRemove:function(b){if(!this.destroying){if(this.isField(b)){this.form.remove(b)}else{if(b.findBy){Ext.each(b.findBy(this.isField),this.form.remove,this.form);this.form.cleanDestroyed()}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null}},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){var i=true;this.form.items.each(function(a){if(!a.isValid(true)){i=false;return false}});if(this.fbar){var g=this.fbar.items.items;for(var j=0,h=g.length;j<h;j++){var k=g[j];if(k.formBind===true&&k.disabled===i){k.setDisabled(!i)}}}this.fireEvent("clientvalidation",this,i)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(d,e){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header"}}Ext.form.FieldSet.superclass.onRender.call(this,d,e);if(this.checkboxToggle){var g=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(g);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(d,c){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,d,c)},onExpand:function(d,c){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,d,c)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true)}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true)}if(!this.store){this.generateStore(true)}Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(c,d){this.setLimit(c,true,d);return this},setMaxValue:function(c,d){this.setLimit(c,false,d);return this},generateStore:function(e){var i=this.minValue||new Date(this.initDate).clearTime(),g=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),h=[];while(i<=g){h.push(i.dateFormat(this.format));i=i.add("mi",this.increment)}this.bindStore(h,e)},setLimit:function(d,i,h){var j;if(Ext.isString(d)){j=this.parseDate(d)}else{if(Ext.isDate(d)){j=d}}if(j){var k=new Date(this.initDate).clearTime();k.setHours(j.getHours(),j.getMinutes(),j.getSeconds(),j.getMilliseconds());this[i?"minValue":"maxValue"]=k;if(!h){this.generateStore()}}},getValue:function(){var b=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(b))||""},setValue:function(b){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(m){if(!m||Ext.isDate(m)){return m}var l=this.initDate+" ",n=this.initDateFormat+" ",i=Date.parseDate(l+m,n+this.format),q=this.altFormats;if(!i&&q){if(!this.altFormatsArray){this.altFormatsArray=q.split("|")}for(var o=0,p=this.altFormatsArray,k=p.length;o<k&&!i;o++){i=Date.parseDate(l+m,n+p[o])}}return i}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var c=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);if(this.useTips){var d=this.tipText?{getText:this.tipText}:{};c.plugins=[new Ext.slider.Tip(d)]}this.slider=new Ext.Slider(c);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(c,d){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.resizeEl=this.positionEl=this.wrap;this.slider.render(this.wrap)},onResize:function(e,i,h,g){Ext.form.SliderField.superclass.onResize.call(this,e,i,h,g);this.slider.setSize(e,i)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(c,d){this.setValue(d,undefined,true)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(b){this.slider.setMinValue(b);return this},setMaxValue:function(b){this.slider.setMaxValue(b);return this},setValue:function(g,d,e){if(!e){this.slider.setValue(g,d)}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(c,d){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,c,d)},setText:function(e,d){var g=d===false;this[!g?"text":"html"]=e;delete this[g?"text":"html"];if(this.rendered){this.el.dom.innerHTML=d!==false?Ext.util.Format.htmlEncode(e):e}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(c,d){this.form=c;this.options=d||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(b){},success:function(b){},handleResponse:function(b){},failure:function(b){this.response=b;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}this.result=this.handleResponse(b);return this.result},getUrl:function(g){var e=this.options.url||this.form.url||this.form.el.dom.action;if(g){var d=this.getParams();if(d){e=Ext.urlAppend(e,d)}}return e},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var d=this.form.baseParams;var c=this.options.params;if(c){if(typeof c=="object"){c=Ext.urlEncode(Ext.applyIf(c,d))}else{if(typeof c=="string"&&d){c+="&"+Ext.urlEncode(d)}}}else{if(d){c=Ext.urlEncode(d)}}return c},createCallback:function(b){var b=b||{};return{success:this.success,failure:this.failure,scope:this,timeout:(b.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(c,d){Ext.form.Action.Submit.superclass.constructor.call(this,c,d)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var k=this.options,j=this.getMethod(),l=j=="GET";if(k.clientValidation===false||this.form.isValid()){if(k.submitEmptyText===false){var i=this.form.items,m=[],h=function(a){if(a.el.getValue()==a.emptyText){m.push(a);a.el.dom.value=""}if(a.isComposite&&a.rendered){a.items.each(h)}};i.each(h)}Ext.Ajax.request(Ext.apply(this.createCallback(k),{form:this.form.el.dom,url:this.getUrl(l),method:j,headers:k.headers,params:!l?this.getParams():null,isUpload:this.form.fileUpload}));if(k.submitEmptyText===false){Ext.each(m,function(a){if(a.applyEmptyText){a.applyEmptyText()}})}}else{if(k.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(c){var d=this.processResponse(c);if(d===true||d.success){this.form.afterAction(this,true);return}if(d.errors){this.form.markInvalid(d.errors)}this.failureType=Ext.form.Action.SERVER_INVALID;this.form.afterAction(this,false)},handleResponse:function(m){if(this.form.errorReader){var h=this.form.errorReader.read(m);var j=[];if(h.records){for(var l=0,i=h.records.length;l<i;l++){var k=h.records[l];j[l]=k.data}}if(j.length<1){j=null}return{success:h.success,errors:j}}return Ext.decode(m.responseText)}});Ext.form.Action.Load=function(c,d){Ext.form.Action.Load.superclass.constructor.call(this,c,d);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(c){var d=this.processResponse(c);if(d===true||!d.success||!d.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return}this.form.clearInvalid();this.form.setValues(d.data);this.form.afterAction(this,true)},handleResponse:function(d){if(this.form.reader){var e=this.form.reader.read(d);var g=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:g}}return Ext.decode(d.responseText)}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(c,d){Ext.form.Action.DirectLoad.superclass.constructor.call(this,c,d)},type:"directload",run:function(){var b=this.getParams();b.push(this.success,this);this.form.api.load.apply(window,b)},getParams:function(){var o=[],k={};var m=this.form.baseParams;var l=this.options.params;Ext.apply(k,l,m);var i=this.form.paramOrder;if(i){for(var n=0,j=i.length;n<j;n++){o.push(k[i[n]])}}else{if(this.form.paramsAsHash){o.push(k)}}return o},processResponse:function(b){this.result=b;return b},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={}}Ext.form.Action.DirectLoad.superclass.success.call(this,d)}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(c,d){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,c,d)},type:"directsubmit",run:function(){var b=this.options;if(b.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this)}else{if(b.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},getParams:function(){var g={};var e=this.form.baseParams;var d=this.options.params;Ext.apply(g,d,e);return g},processResponse:function(b){this.result=b;return b},success:function(d,c){if(c.type==Ext.Direct.exceptions.SERVER){d={}}Ext.form.Action.DirectSubmit.superclass.success.call(this,d)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var i=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,e=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return e.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(a){return g.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return i.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();